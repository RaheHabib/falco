(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function e(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=e(r);fetch(r.href,o)}})();function Vx(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var H0={exports:{}},ih={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RS;function ID(){if(RS)return ih;RS=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,r,o){var l=null;if(o!==void 0&&(l=""+o),r.key!==void 0&&(l=""+r.key),"key"in r){o={};for(var u in r)u!=="key"&&(o[u]=r[u])}else o=r;return r=o.ref,{$$typeof:n,type:i,key:l,ref:r!==void 0?r:null,props:o}}return ih.Fragment=t,ih.jsx=e,ih.jsxs=e,ih}var CS;function PD(){return CS||(CS=1,H0.exports=ID()),H0.exports}var m=PD(),G0={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NS;function LD(){if(NS)return Re;NS=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function x(W){return W===null||typeof W!="object"?null:(W=y&&W[y]||W["@@iterator"],typeof W=="function"?W:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,C={};function S(W,at,wt){this.props=W,this.context=at,this.refs=C,this.updater=wt||E}S.prototype.isReactComponent={},S.prototype.setState=function(W,at){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,at,"setState")},S.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function b(){}b.prototype=S.prototype;function O(W,at,wt){this.props=W,this.context=at,this.refs=C,this.updater=wt||E}var N=O.prototype=new b;N.constructor=O,T(N,S.prototype),N.isPureReactComponent=!0;var U=Array.isArray,j={H:null,A:null,T:null,S:null,V:null},G=Object.prototype.hasOwnProperty;function D(W,at,wt,Et,it,St){return wt=St.ref,{$$typeof:n,type:W,key:at,ref:wt!==void 0?wt:null,props:St}}function R(W,at){return D(W.type,at,void 0,void 0,void 0,W.props)}function w(W){return typeof W=="object"&&W!==null&&W.$$typeof===n}function M(W){var at={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(wt){return at[wt]})}var P=/\/+/g;function z(W,at){return typeof W=="object"&&W!==null&&W.key!=null?M(""+W.key):at.toString(36)}function V(){}function yt(W){switch(W.status){case"fulfilled":return W.value;case"rejected":throw W.reason;default:switch(typeof W.status=="string"?W.then(V,V):(W.status="pending",W.then(function(at){W.status==="pending"&&(W.status="fulfilled",W.value=at)},function(at){W.status==="pending"&&(W.status="rejected",W.reason=at)})),W.status){case"fulfilled":return W.value;case"rejected":throw W.reason}}throw W}function gt(W,at,wt,Et,it){var St=typeof W;(St==="undefined"||St==="boolean")&&(W=null);var Ct=!1;if(W===null)Ct=!0;else switch(St){case"bigint":case"string":case"number":Ct=!0;break;case"object":switch(W.$$typeof){case n:case t:Ct=!0;break;case g:return Ct=W._init,gt(Ct(W._payload),at,wt,Et,it)}}if(Ct)return it=it(W),Ct=Et===""?"."+z(W,0):Et,U(it)?(wt="",Ct!=null&&(wt=Ct.replace(P,"$&/")+"/"),gt(it,at,wt,"",function(de){return de})):it!=null&&(w(it)&&(it=R(it,wt+(it.key==null||W&&W.key===it.key?"":(""+it.key).replace(P,"$&/")+"/")+Ct)),at.push(it)),1;Ct=0;var Vt=Et===""?".":Et+":";if(U(W))for(var Ft=0;Ft<W.length;Ft++)Et=W[Ft],St=Vt+z(Et,Ft),Ct+=gt(Et,at,wt,St,it);else if(Ft=x(W),typeof Ft=="function")for(W=Ft.call(W),Ft=0;!(Et=W.next()).done;)Et=Et.value,St=Vt+z(Et,Ft++),Ct+=gt(Et,at,wt,St,it);else if(St==="object"){if(typeof W.then=="function")return gt(yt(W),at,wt,Et,it);throw at=String(W),Error("Objects are not valid as a React child (found: "+(at==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":at)+"). If you meant to render a collection of children, use an array instead.")}return Ct}function Y(W,at,wt){if(W==null)return W;var Et=[],it=0;return gt(W,Et,"","",function(St){return at.call(wt,St,it++)}),Et}function Z(W){if(W._status===-1){var at=W._result;at=at(),at.then(function(wt){(W._status===0||W._status===-1)&&(W._status=1,W._result=wt)},function(wt){(W._status===0||W._status===-1)&&(W._status=2,W._result=wt)}),W._status===-1&&(W._status=0,W._result=at)}if(W._status===1)return W._result.default;throw W._result}var Q=typeof reportError=="function"?reportError:function(W){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var at=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof W=="object"&&W!==null&&typeof W.message=="string"?String(W.message):String(W),error:W});if(!window.dispatchEvent(at))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",W);return}console.error(W)};function Rt(){}return Re.Children={map:Y,forEach:function(W,at,wt){Y(W,function(){at.apply(this,arguments)},wt)},count:function(W){var at=0;return Y(W,function(){at++}),at},toArray:function(W){return Y(W,function(at){return at})||[]},only:function(W){if(!w(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},Re.Component=S,Re.Fragment=e,Re.Profiler=r,Re.PureComponent=O,Re.StrictMode=i,Re.Suspense=d,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,Re.__COMPILER_RUNTIME={__proto__:null,c:function(W){return j.H.useMemoCache(W)}},Re.cache=function(W){return function(){return W.apply(null,arguments)}},Re.cloneElement=function(W,at,wt){if(W==null)throw Error("The argument must be a React element, but you passed "+W+".");var Et=T({},W.props),it=W.key,St=void 0;if(at!=null)for(Ct in at.ref!==void 0&&(St=void 0),at.key!==void 0&&(it=""+at.key),at)!G.call(at,Ct)||Ct==="key"||Ct==="__self"||Ct==="__source"||Ct==="ref"&&at.ref===void 0||(Et[Ct]=at[Ct]);var Ct=arguments.length-2;if(Ct===1)Et.children=wt;else if(1<Ct){for(var Vt=Array(Ct),Ft=0;Ft<Ct;Ft++)Vt[Ft]=arguments[Ft+2];Et.children=Vt}return D(W.type,it,void 0,void 0,St,Et)},Re.createContext=function(W){return W={$$typeof:l,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null},W.Provider=W,W.Consumer={$$typeof:o,_context:W},W},Re.createElement=function(W,at,wt){var Et,it={},St=null;if(at!=null)for(Et in at.key!==void 0&&(St=""+at.key),at)G.call(at,Et)&&Et!=="key"&&Et!=="__self"&&Et!=="__source"&&(it[Et]=at[Et]);var Ct=arguments.length-2;if(Ct===1)it.children=wt;else if(1<Ct){for(var Vt=Array(Ct),Ft=0;Ft<Ct;Ft++)Vt[Ft]=arguments[Ft+2];it.children=Vt}if(W&&W.defaultProps)for(Et in Ct=W.defaultProps,Ct)it[Et]===void 0&&(it[Et]=Ct[Et]);return D(W,St,void 0,void 0,null,it)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(W){return{$$typeof:u,render:W}},Re.isValidElement=w,Re.lazy=function(W){return{$$typeof:g,_payload:{_status:-1,_result:W},_init:Z}},Re.memo=function(W,at){return{$$typeof:f,type:W,compare:at===void 0?null:at}},Re.startTransition=function(W){var at=j.T,wt={};j.T=wt;try{var Et=W(),it=j.S;it!==null&&it(wt,Et),typeof Et=="object"&&Et!==null&&typeof Et.then=="function"&&Et.then(Rt,Q)}catch(St){Q(St)}finally{j.T=at}},Re.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},Re.use=function(W){return j.H.use(W)},Re.useActionState=function(W,at,wt){return j.H.useActionState(W,at,wt)},Re.useCallback=function(W,at){return j.H.useCallback(W,at)},Re.useContext=function(W){return j.H.useContext(W)},Re.useDebugValue=function(){},Re.useDeferredValue=function(W,at){return j.H.useDeferredValue(W,at)},Re.useEffect=function(W,at,wt){var Et=j.H;if(typeof wt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Et.useEffect(W,at)},Re.useId=function(){return j.H.useId()},Re.useImperativeHandle=function(W,at,wt){return j.H.useImperativeHandle(W,at,wt)},Re.useInsertionEffect=function(W,at){return j.H.useInsertionEffect(W,at)},Re.useLayoutEffect=function(W,at){return j.H.useLayoutEffect(W,at)},Re.useMemo=function(W,at){return j.H.useMemo(W,at)},Re.useOptimistic=function(W,at){return j.H.useOptimistic(W,at)},Re.useReducer=function(W,at,wt){return j.H.useReducer(W,at,wt)},Re.useRef=function(W){return j.H.useRef(W)},Re.useState=function(W){return j.H.useState(W)},Re.useSyncExternalStore=function(W,at,wt){return j.H.useSyncExternalStore(W,at,wt)},Re.useTransition=function(){return j.H.useTransition()},Re.version="19.1.0",Re}var DS;function yp(){return DS||(DS=1,G0.exports=LD()),G0.exports}var q=yp();const De=Vx(q);var W0={exports:{}},sh={},q0={exports:{}},X0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IS;function OD(){return IS||(IS=1,function(n){function t(Y,Z){var Q=Y.length;Y.push(Z);t:for(;0<Q;){var Rt=Q-1>>>1,W=Y[Rt];if(0<r(W,Z))Y[Rt]=Z,Y[Q]=W,Q=Rt;else break t}}function e(Y){return Y.length===0?null:Y[0]}function i(Y){if(Y.length===0)return null;var Z=Y[0],Q=Y.pop();if(Q!==Z){Y[0]=Q;t:for(var Rt=0,W=Y.length,at=W>>>1;Rt<at;){var wt=2*(Rt+1)-1,Et=Y[wt],it=wt+1,St=Y[it];if(0>r(Et,Q))it<W&&0>r(St,Et)?(Y[Rt]=St,Y[it]=Q,Rt=it):(Y[Rt]=Et,Y[wt]=Q,Rt=wt);else if(it<W&&0>r(St,Q))Y[Rt]=St,Y[it]=Q,Rt=it;else break t}}return Z}function r(Y,Z){var Q=Y.sortIndex-Z.sortIndex;return Q!==0?Q:Y.id-Z.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var d=[],f=[],g=1,y=null,x=3,E=!1,T=!1,C=!1,S=!1,b=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function U(Y){for(var Z=e(f);Z!==null;){if(Z.callback===null)i(f);else if(Z.startTime<=Y)i(f),Z.sortIndex=Z.expirationTime,t(d,Z);else break;Z=e(f)}}function j(Y){if(C=!1,U(Y),!T)if(e(d)!==null)T=!0,G||(G=!0,z());else{var Z=e(f);Z!==null&&gt(j,Z.startTime-Y)}}var G=!1,D=-1,R=5,w=-1;function M(){return S?!0:!(n.unstable_now()-w<R)}function P(){if(S=!1,G){var Y=n.unstable_now();w=Y;var Z=!0;try{t:{T=!1,C&&(C=!1,O(D),D=-1),E=!0;var Q=x;try{e:{for(U(Y),y=e(d);y!==null&&!(y.expirationTime>Y&&M());){var Rt=y.callback;if(typeof Rt=="function"){y.callback=null,x=y.priorityLevel;var W=Rt(y.expirationTime<=Y);if(Y=n.unstable_now(),typeof W=="function"){y.callback=W,U(Y),Z=!0;break e}y===e(d)&&i(d),U(Y)}else i(d);y=e(d)}if(y!==null)Z=!0;else{var at=e(f);at!==null&&gt(j,at.startTime-Y),Z=!1}}break t}finally{y=null,x=Q,E=!1}Z=void 0}}finally{Z?z():G=!1}}}var z;if(typeof N=="function")z=function(){N(P)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,yt=V.port2;V.port1.onmessage=P,z=function(){yt.postMessage(null)}}else z=function(){b(P,0)};function gt(Y,Z){D=b(function(){Y(n.unstable_now())},Z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Y){Y.callback=null},n.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Y?Math.floor(1e3/Y):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_next=function(Y){switch(x){case 1:case 2:case 3:var Z=3;break;default:Z=x}var Q=x;x=Z;try{return Y()}finally{x=Q}},n.unstable_requestPaint=function(){S=!0},n.unstable_runWithPriority=function(Y,Z){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var Q=x;x=Y;try{return Z()}finally{x=Q}},n.unstable_scheduleCallback=function(Y,Z,Q){var Rt=n.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?Rt+Q:Rt):Q=Rt,Y){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=Q+W,Y={id:g++,callback:Z,priorityLevel:Y,startTime:Q,expirationTime:W,sortIndex:-1},Q>Rt?(Y.sortIndex=Q,t(f,Y),e(d)===null&&Y===e(f)&&(C?(O(D),D=-1):C=!0,gt(j,Q-Rt))):(Y.sortIndex=W,t(d,Y),T||E||(T=!0,G||(G=!0,z()))),Y},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(Y){var Z=x;return function(){var Q=x;x=Z;try{return Y.apply(this,arguments)}finally{x=Q}}}}(X0)),X0}var PS;function UD(){return PS||(PS=1,q0.exports=OD()),q0.exports}var Y0={exports:{}},Ii={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LS;function VD(){if(LS)return Ii;LS=1;var n=yp();function t(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(d,f,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:y==null?null:""+y,children:d,containerInfo:f,implementation:g}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Ii.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Ii.createPortal=function(d,f){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return o(d,f,null,g)},Ii.flushSync=function(d){var f=l.T,g=i.p;try{if(l.T=null,i.p=2,d)return d()}finally{l.T=f,i.p=g,i.d.f()}},Ii.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(d,f))},Ii.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},Ii.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var g=f.as,y=u(g,f.crossOrigin),x=typeof f.integrity=="string"?f.integrity:void 0,E=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;g==="style"?i.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:y,integrity:x,fetchPriority:E}):g==="script"&&i.d.X(d,{crossOrigin:y,integrity:x,fetchPriority:E,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Ii.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var g=u(f.as,f.crossOrigin);i.d.M(d,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(d)},Ii.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var g=f.as,y=u(g,f.crossOrigin);i.d.L(d,g,{crossOrigin:y,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Ii.preloadModule=function(d,f){if(typeof d=="string")if(f){var g=u(f.as,f.crossOrigin);i.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(d)},Ii.requestFormReset=function(d){i.d.r(d)},Ii.unstable_batchedUpdates=function(d,f){return d(f)},Ii.useFormState=function(d,f,g){return l.H.useFormState(d,f,g)},Ii.useFormStatus=function(){return l.H.useHostTransitionStatus()},Ii.version="19.1.0",Ii}var OS;function FD(){if(OS)return Y0.exports;OS=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Y0.exports=VD(),Y0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var US;function BD(){if(US)return sh;US=1;var n=UD(),t=yp(),e=FD();function i(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var a=s,c=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(c=a.return),s=a.return;while(s)}return a.tag===3?c:null}function l(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function u(s){if(o(s)!==s)throw Error(i(188))}function d(s){var a=s.alternate;if(!a){if(a=o(s),a===null)throw Error(i(188));return a!==s?null:s}for(var c=s,h=a;;){var v=c.return;if(v===null)break;var _=v.alternate;if(_===null){if(h=v.return,h!==null){c=h;continue}break}if(v.child===_.child){for(_=v.child;_;){if(_===c)return u(v),s;if(_===h)return u(v),a;_=_.sibling}throw Error(i(188))}if(c.return!==h.return)c=v,h=_;else{for(var L=!1,B=v.child;B;){if(B===c){L=!0,c=v,h=_;break}if(B===h){L=!0,h=v,c=_;break}B=B.sibling}if(!L){for(B=_.child;B;){if(B===c){L=!0,c=_,h=v;break}if(B===h){L=!0,h=_,c=v;break}B=B.sibling}if(!L)throw Error(i(189))}}if(c.alternate!==h)throw Error(i(190))}if(c.tag!==3)throw Error(i(188));return c.stateNode.current===c?s:a}function f(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=f(s),a!==null)return a;s=s.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),O=Symbol.for("react.consumer"),N=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function z(s){return s===null||typeof s!="object"?null:(s=P&&s[P]||s["@@iterator"],typeof s=="function"?s:null)}var V=Symbol.for("react.client.reference");function yt(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===V?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case T:return"Fragment";case S:return"Profiler";case C:return"StrictMode";case j:return"Suspense";case G:return"SuspenseList";case w:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case E:return"Portal";case N:return(s.displayName||"Context")+".Provider";case O:return(s._context.displayName||"Context")+".Consumer";case U:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case D:return a=s.displayName||null,a!==null?a:yt(s.type)||"Memo";case R:a=s._payload,s=s._init;try{return yt(s(a))}catch{}}return null}var gt=Array.isArray,Y=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},Rt=[],W=-1;function at(s){return{current:s}}function wt(s){0>W||(s.current=Rt[W],Rt[W]=null,W--)}function Et(s,a){W++,Rt[W]=s.current,s.current=a}var it=at(null),St=at(null),Ct=at(null),Vt=at(null);function Ft(s,a){switch(Et(Ct,a),Et(St,s),Et(it,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?nS(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=nS(a),s=iS(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}wt(it),Et(it,s)}function de(){wt(it),wt(St),wt(Ct)}function ee(s){s.memoizedState!==null&&Et(Vt,s);var a=it.current,c=iS(a,s.type);a!==c&&(Et(St,s),Et(it,c))}function Ie(s){St.current===s&&(wt(it),wt(St)),Vt.current===s&&(wt(Vt),Zu._currentValue=Q)}var We=Object.prototype.hasOwnProperty,ge=n.unstable_scheduleCallback,$=n.unstable_cancelCallback,bn=n.unstable_shouldYield,je=n.unstable_requestPaint,Pe=n.unstable_now,ne=n.unstable_getCurrentPriorityLevel,Oe=n.unstable_ImmediatePriority,ae=n.unstable_UserBlockingPriority,_e=n.unstable_NormalPriority,Rn=n.unstable_LowPriority,X=n.unstable_IdlePriority,F=n.log,ut=n.unstable_setDisableYieldValue,xt=null,bt=null;function _t(s){if(typeof F=="function"&&ut(s),bt&&typeof bt.setStrictMode=="function")try{bt.setStrictMode(xt,s)}catch{}}var qt=Math.clz32?Math.clz32:Zt,zt=Math.log,te=Math.LN2;function Zt(s){return s>>>=0,s===0?32:31-(zt(s)/te|0)|0}var It=256,Xt=4194304;function ie(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function oe(s,a,c){var h=s.pendingLanes;if(h===0)return 0;var v=0,_=s.suspendedLanes,L=s.pingedLanes;s=s.warmLanes;var B=h&134217727;return B!==0?(h=B&~_,h!==0?v=ie(h):(L&=B,L!==0?v=ie(L):c||(c=B&~s,c!==0&&(v=ie(c))))):(B=h&~_,B!==0?v=ie(B):L!==0?v=ie(L):c||(c=h&~s,c!==0&&(v=ie(c)))),v===0?0:a!==0&&a!==v&&(a&_)===0&&(_=v&-v,c=a&-a,_>=c||_===32&&(c&4194048)!==0)?a:v}function kt(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function ve(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tt(){var s=It;return It<<=1,(It&4194048)===0&&(It=256),s}function Gt(){var s=Xt;return Xt<<=1,(Xt&62914560)===0&&(Xt=4194304),s}function Pt(s){for(var a=[],c=0;31>c;c++)a.push(s);return a}function Yt(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Ut(s,a,c,h,v,_){var L=s.pendingLanes;s.pendingLanes=c,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=c,s.entangledLanes&=c,s.errorRecoveryDisabledLanes&=c,s.shellSuspendCounter=0;var B=s.entanglements,K=s.expirationTimes,ct=s.hiddenUpdates;for(c=L&~c;0<c;){var Tt=31-qt(c),Nt=1<<Tt;B[Tt]=0,K[Tt]=-1;var ht=ct[Tt];if(ht!==null)for(ct[Tt]=null,Tt=0;Tt<ht.length;Tt++){var ft=ht[Tt];ft!==null&&(ft.lane&=-536870913)}c&=~Nt}h!==0&&At(s,h,0),_!==0&&v===0&&s.tag!==0&&(s.suspendedLanes|=_&~(L&~a))}function At(s,a,c){s.pendingLanes|=a,s.suspendedLanes&=~a;var h=31-qt(a);s.entangledLanes|=a,s.entanglements[h]=s.entanglements[h]|1073741824|c&4194090}function Qt(s,a){var c=s.entangledLanes|=a;for(s=s.entanglements;c;){var h=31-qt(c),v=1<<h;v&a|s[h]&a&&(s[h]|=a),c&=~v}}function fe(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function nn(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Ue(){var s=Z.p;return s!==0?s:(s=window.event,s===void 0?32:ES(s.type))}function Ci(s,a){var c=Z.p;try{return Z.p=s,a()}finally{Z.p=c}}var Xe=Math.random().toString(36).slice(2),Ln="__reactFiber$"+Xe,Cn="__reactProps$"+Xe,Yn="__reactContainer$"+Xe,Dr="__reactEvents$"+Xe,yl="__reactListeners$"+Xe,Ps="__reactHandles$"+Xe,Ir="__reactResources$"+Xe,$s="__reactMarker$"+Xe;function ts(s){delete s[Ln],delete s[Cn],delete s[Dr],delete s[yl],delete s[Ps]}function ds(s){var a=s[Ln];if(a)return a;for(var c=s.parentNode;c;){if(a=c[Yn]||c[Ln]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(s=oS(s);s!==null;){if(c=s[Ln])return c;s=oS(s)}return a}s=c,c=s.parentNode}return null}function es(s){if(s=s[Ln]||s[Yn]){var a=s.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return s}return null}function fs(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(i(33))}function yi(s){var a=s[Ir];return a||(a=s[Ir]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Nn(s){s[$s]=!0}var go=new Set,ya={};function ns(s,a){k(s,a),k(s+"Capture",a)}function k(s,a){for(ya[s]=a,s=0;s<a.length;s++)go.add(a[s])}var et=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),mt={},dt={};function st(s){return We.call(dt,s)?!0:We.call(mt,s)?!1:et.test(s)?dt[s]=!0:(mt[s]=!0,!1)}function Ot(s,a,c){if(st(a))if(c===null)s.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var h=a.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+c)}}function jt(s,a,c){if(c===null)s.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+c)}}function Ht(s,a,c,h){if(h===null)s.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(c);return}s.setAttributeNS(a,c,""+h)}}var Kt,me;function ce(s){if(Kt===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);Kt=a&&a[1]||"",me=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Kt+s+me}var se=!1;function Ae(s,a){if(!s||se)return"";se=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(a){var Nt=function(){throw Error()};if(Object.defineProperty(Nt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Nt,[])}catch(ft){var ht=ft}Reflect.construct(s,[],Nt)}else{try{Nt.call()}catch(ft){ht=ft}s.call(Nt.prototype)}}else{try{throw Error()}catch(ft){ht=ft}(Nt=s())&&typeof Nt.catch=="function"&&Nt.catch(function(){})}}catch(ft){if(ft&&ht&&typeof ft.stack=="string")return[ft.stack,ht.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=h.DetermineComponentFrameRoot(),L=_[0],B=_[1];if(L&&B){var K=L.split(`
`),ct=B.split(`
`);for(v=h=0;h<K.length&&!K[h].includes("DetermineComponentFrameRoot");)h++;for(;v<ct.length&&!ct[v].includes("DetermineComponentFrameRoot");)v++;if(h===K.length||v===ct.length)for(h=K.length-1,v=ct.length-1;1<=h&&0<=v&&K[h]!==ct[v];)v--;for(;1<=h&&0<=v;h--,v--)if(K[h]!==ct[v]){if(h!==1||v!==1)do if(h--,v--,0>v||K[h]!==ct[v]){var Tt=`
`+K[h].replace(" at new "," at ");return s.displayName&&Tt.includes("<anonymous>")&&(Tt=Tt.replace("<anonymous>",s.displayName)),Tt}while(1<=h&&0<=v);break}}}finally{se=!1,Error.prepareStackTrace=c}return(c=s?s.displayName||s.name:"")?ce(c):""}function Ye(s){switch(s.tag){case 26:case 27:case 5:return ce(s.type);case 16:return ce("Lazy");case 13:return ce("Suspense");case 19:return ce("SuspenseList");case 0:case 15:return Ae(s.type,!1);case 11:return Ae(s.type.render,!1);case 1:return Ae(s.type,!0);case 31:return ce("Activity");default:return""}}function hn(s){try{var a="";do a+=Ye(s),s=s.return;while(s);return a}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function Me(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function en(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function ue(s){var a=en(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),h=""+s[a];if(!s.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var v=c.get,_=c.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return v.call(this)},set:function(L){h=""+L,_.call(this,L)}}),Object.defineProperty(s,a,{enumerable:c.enumerable}),{getValue:function(){return h},setValue:function(L){h=""+L},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function ln(s){s._valueTracker||(s._valueTracker=ue(s))}function Ve(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var c=a.getValue(),h="";return s&&(h=en(s)?s.checked?"true":"false":s.value),s=h,s!==c?(a.setValue(s),!0):!1}function kn(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Qs=/[\n"\\]/g;function Ke(s){return s.replace(Qs,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function ni(s,a,c,h,v,_,L,B){s.name="",L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?s.type=L:s.removeAttribute("type"),a!=null?L==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+Me(a)):s.value!==""+Me(a)&&(s.value=""+Me(a)):L!=="submit"&&L!=="reset"||s.removeAttribute("value"),a!=null?jn(s,L,Me(a)):c!=null?jn(s,L,Me(c)):h!=null&&s.removeAttribute("value"),v==null&&_!=null&&(s.defaultChecked=!!_),v!=null&&(s.checked=v&&typeof v!="function"&&typeof v!="symbol"),B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"?s.name=""+Me(B):s.removeAttribute("name")}function sn(s,a,c,h,v,_,L,B){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(s.type=_),a!=null||c!=null){if(!(_!=="submit"&&_!=="reset"||a!=null))return;c=c!=null?""+Me(c):"",a=a!=null?""+Me(a):c,B||a===s.value||(s.value=a),s.defaultValue=a}h=h??v,h=typeof h!="function"&&typeof h!="symbol"&&!!h,s.checked=B?s.checked:!!h,s.defaultChecked=!!h,L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"&&(s.name=L)}function jn(s,a,c){a==="number"&&kn(s.ownerDocument)===s||s.defaultValue===""+c||(s.defaultValue=""+c)}function On(s,a,c,h){if(s=s.options,a){a={};for(var v=0;v<c.length;v++)a["$"+c[v]]=!0;for(c=0;c<s.length;c++)v=a.hasOwnProperty("$"+s[c].value),s[c].selected!==v&&(s[c].selected=v),v&&h&&(s[c].defaultSelected=!0)}else{for(c=""+Me(c),a=null,v=0;v<s.length;v++){if(s[v].value===c){s[v].selected=!0,h&&(s[v].defaultSelected=!0);return}a!==null||s[v].disabled||(a=s[v])}a!==null&&(a.selected=!0)}}function Te(s,a,c){if(a!=null&&(a=""+Me(a),a!==s.value&&(s.value=a),c==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=c!=null?""+Me(c):""}function Un(s,a,c,h){if(a==null){if(h!=null){if(c!=null)throw Error(i(92));if(gt(h)){if(1<h.length)throw Error(i(93));h=h[0]}c=h}c==null&&(c=""),a=c}c=Me(a),s.defaultValue=c,h=s.textContent,h===c&&h!==""&&h!==null&&(s.value=h)}function Ni(s,a){if(a){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=a;return}}s.textContent=a}var Bi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Td(s,a,c){var h=a.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?h?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":h?s.setProperty(a,c):typeof c!="number"||c===0||Bi.has(a)?a==="float"?s.cssFloat=c:s[a]=(""+c).trim():s[a]=c+"px"}function lu(s,a,c){if(a!=null&&typeof a!="object")throw Error(i(62));if(s=s.style,c!=null){for(var h in c)!c.hasOwnProperty(h)||a!=null&&a.hasOwnProperty(h)||(h.indexOf("--")===0?s.setProperty(h,""):h==="float"?s.cssFloat="":s[h]="");for(var v in a)h=a[v],a.hasOwnProperty(v)&&c[v]!==h&&Td(s,v,h)}else for(var _ in a)a.hasOwnProperty(_)&&Td(s,_,a[_])}function cu(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$p=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xl(s){return $p.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Pr=null;function ms(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Lr=null,Or=null;function uu(s){var a=es(s);if(a&&(s=a.stateNode)){var c=s[Cn]||null;t:switch(s=a.stateNode,a.type){case"input":if(ni(s,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),a=c.name,c.type==="radio"&&a!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Ke(""+a)+'"][type="radio"]'),a=0;a<c.length;a++){var h=c[a];if(h!==s&&h.form===s.form){var v=h[Cn]||null;if(!v)throw Error(i(90));ni(h,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(a=0;a<c.length;a++)h=c[a],h.form===s.form&&Ve(h)}break t;case"textarea":Te(s,c.value,c.defaultValue);break t;case"select":a=c.value,a!=null&&On(s,!!c.multiple,a,!1)}}}var Zs=!1;function wd(s,a,c){if(Zs)return s(a,c);Zs=!0;try{var h=s(a);return h}finally{if(Zs=!1,(Lr!==null||Or!==null)&&(xf(),Lr&&(a=Lr,s=Or,Or=Lr=null,uu(a),s)))for(a=0;a<s.length;a++)uu(s[a])}}function vo(s,a){var c=s.stateNode;if(c===null)return null;var h=c[Cn]||null;if(h===null)return null;c=h[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break t;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(i(231,a,typeof c));return c}var Ls=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ps=!1;if(Ls)try{var yo={};Object.defineProperty(yo,"passive",{get:function(){ps=!0}}),window.addEventListener("test",yo,yo),window.removeEventListener("test",yo,yo)}catch{ps=!1}var Js=null,xa=null,Ur=null;function hu(){if(Ur)return Ur;var s,a=xa,c=a.length,h,v="value"in Js?Js.value:Js.textContent,_=v.length;for(s=0;s<c&&a[s]===v[s];s++);var L=c-s;for(h=1;h<=L&&a[c-h]===v[_-h];h++);return Ur=v.slice(s,1<h?1-h:void 0)}function tr(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function er(){return!0}function du(){return!1}function hi(s){function a(c,h,v,_,L){this._reactName=c,this._targetInst=v,this.type=h,this.nativeEvent=_,this.target=L,this.currentTarget=null;for(var B in s)s.hasOwnProperty(B)&&(c=s[B],this[B]=c?c(_):_[B]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?er:du,this.isPropagationStopped=du,this}return g(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=er)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=er)},persist:function(){},isPersistent:er}),a}var cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_l=hi(cn),xo=g({},cn,{view:0,detail:0}),Ad=hi(xo),bl,El,nr,_o=g({},xo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:So,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==nr&&(nr&&s.type==="mousemove"?(bl=s.screenX-nr.screenX,El=s.screenY-nr.screenY):El=bl=0,nr=s),bl)},movementY:function(s){return"movementY"in s?s.movementY:El}}),gs=hi(_o),Md=g({},_o,{dataTransfer:0}),Qp=hi(Md),bo=g({},xo,{relatedTarget:0}),Sl=hi(bo),fu=g({},cn,{animationName:0,elapsedTime:0,pseudoElement:0}),Tl=hi(fu),Rd=g({},cn,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),wl=hi(Rd),Zp=g({},cn,{data:0}),mu=hi(Zp),Eo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pu(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=Nd[s])?!!a[s]:!1}function So(){return pu}var Dd=g({},xo,{key:function(s){if(s.key){var a=Eo[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=tr(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Cd[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:So,charCode:function(s){return s.type==="keypress"?tr(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?tr(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Al=hi(Dd),Id=g({},_o,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gu=hi(Id),Vr=g({},xo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:So}),Pd=hi(Vr),Ld=g({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Od=hi(Ld),Ud=g({},_o,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Ml=hi(Ud),ki=g({},cn,{newState:0,oldState:0}),Vd=hi(ki),Fd=[9,13,27,32],ir=Ls&&"CompositionEvent"in window,p=null;Ls&&"documentMode"in document&&(p=document.documentMode);var A=Ls&&"TextEvent"in window&&!p,I=Ls&&(!ir||p&&8<p&&11>=p),H=" ",rt=!1;function vt(s,a){switch(s){case"keyup":return Fd.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bt(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var $e=!1;function ii(s,a){switch(s){case"compositionend":return Bt(a);case"keypress":return a.which!==32?null:(rt=!0,H);case"textInput":return s=a.data,s===H&&rt?null:s;default:return null}}function Qe(s,a){if($e)return s==="compositionend"||!ir&&vt(s,a)?(s=hu(),Ur=xa=Js=null,$e=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return I&&a.locale!=="ko"?null:a.data;default:return null}}var di={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function si(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!di[s.type]:a==="textarea"}function Fr(s,a,c,h){Lr?Or?Or.push(h):Or=[h]:Lr=h,a=wf(a,"onChange"),0<a.length&&(c=new _l("onChange","change",null,c,h),s.push({event:c,listeners:a}))}var xi=null,sr=null;function vu(s){QE(s,0)}function Bd(s){var a=fs(s);if(Ve(a))return s}function yb(s,a){if(s==="change")return a}var xb=!1;if(Ls){var Jp;if(Ls){var tg="oninput"in document;if(!tg){var _b=document.createElement("div");_b.setAttribute("oninput","return;"),tg=typeof _b.oninput=="function"}Jp=tg}else Jp=!1;xb=Jp&&(!document.documentMode||9<document.documentMode)}function bb(){xi&&(xi.detachEvent("onpropertychange",Eb),sr=xi=null)}function Eb(s){if(s.propertyName==="value"&&Bd(sr)){var a=[];Fr(a,sr,s,ms(s)),wd(vu,a)}}function l3(s,a,c){s==="focusin"?(bb(),xi=a,sr=c,xi.attachEvent("onpropertychange",Eb)):s==="focusout"&&bb()}function c3(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Bd(sr)}function u3(s,a){if(s==="click")return Bd(a)}function h3(s,a){if(s==="input"||s==="change")return Bd(a)}function d3(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var is=typeof Object.is=="function"?Object.is:d3;function yu(s,a){if(is(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var c=Object.keys(s),h=Object.keys(a);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var v=c[h];if(!We.call(a,v)||!is(s[v],a[v]))return!1}return!0}function Sb(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Tb(s,a){var c=Sb(s);s=0;for(var h;c;){if(c.nodeType===3){if(h=s+c.textContent.length,s<=a&&h>=a)return{node:c,offset:a-s};s=h}t:{for(;c;){if(c.nextSibling){c=c.nextSibling;break t}c=c.parentNode}c=void 0}c=Sb(c)}}function wb(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?wb(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function Ab(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=kn(s.document);a instanceof s.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)s=a.contentWindow;else break;a=kn(s.document)}return a}function eg(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var f3=Ls&&"documentMode"in document&&11>=document.documentMode,Rl=null,ng=null,xu=null,ig=!1;function Mb(s,a,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;ig||Rl==null||Rl!==kn(h)||(h=Rl,"selectionStart"in h&&eg(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),xu&&yu(xu,h)||(xu=h,h=wf(ng,"onSelect"),0<h.length&&(a=new _l("onSelect","select",null,a,c),s.push({event:a,listeners:h}),a.target=Rl)))}function To(s,a){var c={};return c[s.toLowerCase()]=a.toLowerCase(),c["Webkit"+s]="webkit"+a,c["Moz"+s]="moz"+a,c}var Cl={animationend:To("Animation","AnimationEnd"),animationiteration:To("Animation","AnimationIteration"),animationstart:To("Animation","AnimationStart"),transitionrun:To("Transition","TransitionRun"),transitionstart:To("Transition","TransitionStart"),transitioncancel:To("Transition","TransitionCancel"),transitionend:To("Transition","TransitionEnd")},sg={},Rb={};Ls&&(Rb=document.createElement("div").style,"AnimationEvent"in window||(delete Cl.animationend.animation,delete Cl.animationiteration.animation,delete Cl.animationstart.animation),"TransitionEvent"in window||delete Cl.transitionend.transition);function wo(s){if(sg[s])return sg[s];if(!Cl[s])return s;var a=Cl[s],c;for(c in a)if(a.hasOwnProperty(c)&&c in Rb)return sg[s]=a[c];return s}var Cb=wo("animationend"),Nb=wo("animationiteration"),Db=wo("animationstart"),m3=wo("transitionrun"),p3=wo("transitionstart"),g3=wo("transitioncancel"),Ib=wo("transitionend"),Pb=new Map,rg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");rg.push("scrollEnd");function Os(s,a){Pb.set(s,a),ns(a,[s])}var Lb=new WeakMap;function vs(s,a){if(typeof s=="object"&&s!==null){var c=Lb.get(s);return c!==void 0?c:(a={value:s,source:a,stack:hn(a)},Lb.set(s,a),a)}return{value:s,source:a,stack:hn(a)}}var ys=[],Nl=0,ag=0;function kd(){for(var s=Nl,a=ag=Nl=0;a<s;){var c=ys[a];ys[a++]=null;var h=ys[a];ys[a++]=null;var v=ys[a];ys[a++]=null;var _=ys[a];if(ys[a++]=null,h!==null&&v!==null){var L=h.pending;L===null?v.next=v:(v.next=L.next,L.next=v),h.pending=v}_!==0&&Ob(c,v,_)}}function jd(s,a,c,h){ys[Nl++]=s,ys[Nl++]=a,ys[Nl++]=c,ys[Nl++]=h,ag|=h,s.lanes|=h,s=s.alternate,s!==null&&(s.lanes|=h)}function og(s,a,c,h){return jd(s,a,c,h),zd(s)}function Dl(s,a){return jd(s,null,null,a),zd(s)}function Ob(s,a,c){s.lanes|=c;var h=s.alternate;h!==null&&(h.lanes|=c);for(var v=!1,_=s.return;_!==null;)_.childLanes|=c,h=_.alternate,h!==null&&(h.childLanes|=c),_.tag===22&&(s=_.stateNode,s===null||s._visibility&1||(v=!0)),s=_,_=_.return;return s.tag===3?(_=s.stateNode,v&&a!==null&&(v=31-qt(c),s=_.hiddenUpdates,h=s[v],h===null?s[v]=[a]:h.push(a),a.lane=c|536870912),_):null}function zd(s){if(50<Gu)throw Gu=0,f0=null,Error(i(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var Il={};function v3(s,a,c,h){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ss(s,a,c,h){return new v3(s,a,c,h)}function lg(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Br(s,a){var c=s.alternate;return c===null?(c=ss(s.tag,a,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=a,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&65011712,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,a=s.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c.refCleanup=s.refCleanup,c}function Ub(s,a){s.flags&=65011714;var c=s.alternate;return c===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,a=c.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function Hd(s,a,c,h,v,_){var L=0;if(h=s,typeof s=="function")lg(s)&&(L=1);else if(typeof s=="string")L=xD(s,c,it.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case w:return s=ss(31,c,a,v),s.elementType=w,s.lanes=_,s;case T:return Ao(c.children,v,_,a);case C:L=8,v|=24;break;case S:return s=ss(12,c,a,v|2),s.elementType=S,s.lanes=_,s;case j:return s=ss(13,c,a,v),s.elementType=j,s.lanes=_,s;case G:return s=ss(19,c,a,v),s.elementType=G,s.lanes=_,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case b:case N:L=10;break t;case O:L=9;break t;case U:L=11;break t;case D:L=14;break t;case R:L=16,h=null;break t}L=29,c=Error(i(130,s===null?"null":typeof s,"")),h=null}return a=ss(L,c,a,v),a.elementType=s,a.type=h,a.lanes=_,a}function Ao(s,a,c,h){return s=ss(7,s,h,a),s.lanes=c,s}function cg(s,a,c){return s=ss(6,s,null,a),s.lanes=c,s}function ug(s,a,c){return a=ss(4,s.children!==null?s.children:[],s.key,a),a.lanes=c,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var Pl=[],Ll=0,Gd=null,Wd=0,xs=[],_s=0,Mo=null,kr=1,jr="";function Ro(s,a){Pl[Ll++]=Wd,Pl[Ll++]=Gd,Gd=s,Wd=a}function Vb(s,a,c){xs[_s++]=kr,xs[_s++]=jr,xs[_s++]=Mo,Mo=s;var h=kr;s=jr;var v=32-qt(h)-1;h&=~(1<<v),c+=1;var _=32-qt(a)+v;if(30<_){var L=v-v%5;_=(h&(1<<L)-1).toString(32),h>>=L,v-=L,kr=1<<32-qt(a)+v|c<<v|h,jr=_+s}else kr=1<<_|c<<v|h,jr=s}function hg(s){s.return!==null&&(Ro(s,1),Vb(s,1,0))}function dg(s){for(;s===Gd;)Gd=Pl[--Ll],Pl[Ll]=null,Wd=Pl[--Ll],Pl[Ll]=null;for(;s===Mo;)Mo=xs[--_s],xs[_s]=null,jr=xs[--_s],xs[_s]=null,kr=xs[--_s],xs[_s]=null}var ji=null,Vn=null,on=!1,Co=null,rr=!1,fg=Error(i(519));function No(s){var a=Error(i(418,""));throw Eu(vs(a,s)),fg}function Fb(s){var a=s.stateNode,c=s.type,h=s.memoizedProps;switch(a[Ln]=s,a[Cn]=h,c){case"dialog":ke("cancel",a),ke("close",a);break;case"iframe":case"object":case"embed":ke("load",a);break;case"video":case"audio":for(c=0;c<qu.length;c++)ke(qu[c],a);break;case"source":ke("error",a);break;case"img":case"image":case"link":ke("error",a),ke("load",a);break;case"details":ke("toggle",a);break;case"input":ke("invalid",a),sn(a,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),ln(a);break;case"select":ke("invalid",a);break;case"textarea":ke("invalid",a),Un(a,h.value,h.defaultValue,h.children),ln(a)}c=h.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||a.textContent===""+c||h.suppressHydrationWarning===!0||eS(a.textContent,c)?(h.popover!=null&&(ke("beforetoggle",a),ke("toggle",a)),h.onScroll!=null&&ke("scroll",a),h.onScrollEnd!=null&&ke("scrollend",a),h.onClick!=null&&(a.onclick=Af),a=!0):a=!1,a||No(s)}function Bb(s){for(ji=s.return;ji;)switch(ji.tag){case 5:case 13:rr=!1;return;case 27:case 3:rr=!0;return;default:ji=ji.return}}function _u(s){if(s!==ji)return!1;if(!on)return Bb(s),on=!0,!1;var a=s.tag,c;if((c=a!==3&&a!==27)&&((c=a===5)&&(c=s.type,c=!(c!=="form"&&c!=="button")||C0(s.type,s.memoizedProps)),c=!c),c&&Vn&&No(s),Bb(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));t:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8)if(c=s.data,c==="/$"){if(a===0){Vn=Vs(s.nextSibling);break t}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++;s=s.nextSibling}Vn=null}}else a===27?(a=Vn,Oa(s.type)?(s=P0,P0=null,Vn=s):Vn=a):Vn=ji?Vs(s.stateNode.nextSibling):null;return!0}function bu(){Vn=ji=null,on=!1}function kb(){var s=Co;return s!==null&&(Xi===null?Xi=s:Xi.push.apply(Xi,s),Co=null),s}function Eu(s){Co===null?Co=[s]:Co.push(s)}var mg=at(null),Do=null,zr=null;function _a(s,a,c){Et(mg,a._currentValue),a._currentValue=c}function Hr(s){s._currentValue=mg.current,wt(mg)}function pg(s,a,c){for(;s!==null;){var h=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,h!==null&&(h.childLanes|=a)):h!==null&&(h.childLanes&a)!==a&&(h.childLanes|=a),s===c)break;s=s.return}}function gg(s,a,c,h){var v=s.child;for(v!==null&&(v.return=s);v!==null;){var _=v.dependencies;if(_!==null){var L=v.child;_=_.firstContext;t:for(;_!==null;){var B=_;_=v;for(var K=0;K<a.length;K++)if(B.context===a[K]){_.lanes|=c,B=_.alternate,B!==null&&(B.lanes|=c),pg(_.return,c,s),h||(L=null);break t}_=B.next}}else if(v.tag===18){if(L=v.return,L===null)throw Error(i(341));L.lanes|=c,_=L.alternate,_!==null&&(_.lanes|=c),pg(L,c,s),L=null}else L=v.child;if(L!==null)L.return=v;else for(L=v;L!==null;){if(L===s){L=null;break}if(v=L.sibling,v!==null){v.return=L.return,L=v;break}L=L.return}v=L}}function Su(s,a,c,h){s=null;for(var v=a,_=!1;v!==null;){if(!_){if((v.flags&524288)!==0)_=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var L=v.alternate;if(L===null)throw Error(i(387));if(L=L.memoizedProps,L!==null){var B=v.type;is(v.pendingProps.value,L.value)||(s!==null?s.push(B):s=[B])}}else if(v===Vt.current){if(L=v.alternate,L===null)throw Error(i(387));L.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(s!==null?s.push(Zu):s=[Zu])}v=v.return}s!==null&&gg(a,s,c,h),a.flags|=262144}function qd(s){for(s=s.firstContext;s!==null;){if(!is(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Io(s){Do=s,zr=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Di(s){return jb(Do,s)}function Xd(s,a){return Do===null&&Io(s),jb(s,a)}function jb(s,a){var c=a._currentValue;if(a={context:a,memoizedValue:c,next:null},zr===null){if(s===null)throw Error(i(308));zr=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else zr=zr.next=a;return c}var y3=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(c,h){s.push(h)}};this.abort=function(){a.aborted=!0,s.forEach(function(c){return c()})}},x3=n.unstable_scheduleCallback,_3=n.unstable_NormalPriority,ri={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vg(){return{controller:new y3,data:new Map,refCount:0}}function Tu(s){s.refCount--,s.refCount===0&&x3(_3,function(){s.controller.abort()})}var wu=null,yg=0,Ol=0,Ul=null;function b3(s,a){if(wu===null){var c=wu=[];yg=0,Ol=_0(),Ul={status:"pending",value:void 0,then:function(h){c.push(h)}}}return yg++,a.then(zb,zb),a}function zb(){if(--yg===0&&wu!==null){Ul!==null&&(Ul.status="fulfilled");var s=wu;wu=null,Ol=0,Ul=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function E3(s,a){var c=[],h={status:"pending",value:null,reason:null,then:function(v){c.push(v)}};return s.then(function(){h.status="fulfilled",h.value=a;for(var v=0;v<c.length;v++)(0,c[v])(a)},function(v){for(h.status="rejected",h.reason=v,v=0;v<c.length;v++)(0,c[v])(void 0)}),h}var Hb=Y.S;Y.S=function(s,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&b3(s,a),Hb!==null&&Hb(s,a)};var Po=at(null);function xg(){var s=Po.current;return s!==null?s:En.pooledCache}function Yd(s,a){a===null?Et(Po,Po.current):Et(Po,a.pool)}function Gb(){var s=xg();return s===null?null:{parent:ri._currentValue,pool:s}}var Au=Error(i(460)),Wb=Error(i(474)),Kd=Error(i(542)),_g={then:function(){}};function qb(s){return s=s.status,s==="fulfilled"||s==="rejected"}function $d(){}function Xb(s,a,c){switch(c=s[c],c===void 0?s.push(a):c!==a&&(a.then($d,$d),a=c),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,Kb(s),s;default:if(typeof a.status=="string")a.then($d,$d);else{if(s=En,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=a,s.status="pending",s.then(function(h){if(a.status==="pending"){var v=a;v.status="fulfilled",v.value=h}},function(h){if(a.status==="pending"){var v=a;v.status="rejected",v.reason=h}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,Kb(s),s}throw Mu=a,Au}}var Mu=null;function Yb(){if(Mu===null)throw Error(i(459));var s=Mu;return Mu=null,s}function Kb(s){if(s===Au||s===Kd)throw Error(i(483))}var ba=!1;function bg(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Eg(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Ea(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Sa(s,a,c){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,(dn&2)!==0){var v=h.pending;return v===null?a.next=a:(a.next=v.next,v.next=a),h.pending=a,a=zd(s),Ob(s,null,c),a}return jd(s,h,a,c),zd(s)}function Ru(s,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194048)!==0)){var h=a.lanes;h&=s.pendingLanes,c|=h,a.lanes=c,Qt(s,c)}}function Sg(s,a){var c=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var v=null,_=null;if(c=c.firstBaseUpdate,c!==null){do{var L={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};_===null?v=_=L:_=_.next=L,c=c.next}while(c!==null);_===null?v=_=a:_=_.next=a}else v=_=a;c={baseState:h.baseState,firstBaseUpdate:v,lastBaseUpdate:_,shared:h.shared,callbacks:h.callbacks},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=a:s.next=a,c.lastBaseUpdate=a}var Tg=!1;function Cu(){if(Tg){var s=Ul;if(s!==null)throw s}}function Nu(s,a,c,h){Tg=!1;var v=s.updateQueue;ba=!1;var _=v.firstBaseUpdate,L=v.lastBaseUpdate,B=v.shared.pending;if(B!==null){v.shared.pending=null;var K=B,ct=K.next;K.next=null,L===null?_=ct:L.next=ct,L=K;var Tt=s.alternate;Tt!==null&&(Tt=Tt.updateQueue,B=Tt.lastBaseUpdate,B!==L&&(B===null?Tt.firstBaseUpdate=ct:B.next=ct,Tt.lastBaseUpdate=K))}if(_!==null){var Nt=v.baseState;L=0,Tt=ct=K=null,B=_;do{var ht=B.lane&-536870913,ft=ht!==B.lane;if(ft?(Ze&ht)===ht:(h&ht)===ht){ht!==0&&ht===Ol&&(Tg=!0),Tt!==null&&(Tt=Tt.next={lane:0,tag:B.tag,payload:B.payload,callback:null,next:null});t:{var be=s,pe=B;ht=a;var vn=c;switch(pe.tag){case 1:if(be=pe.payload,typeof be=="function"){Nt=be.call(vn,Nt,ht);break t}Nt=be;break t;case 3:be.flags=be.flags&-65537|128;case 0:if(be=pe.payload,ht=typeof be=="function"?be.call(vn,Nt,ht):be,ht==null)break t;Nt=g({},Nt,ht);break t;case 2:ba=!0}}ht=B.callback,ht!==null&&(s.flags|=64,ft&&(s.flags|=8192),ft=v.callbacks,ft===null?v.callbacks=[ht]:ft.push(ht))}else ft={lane:ht,tag:B.tag,payload:B.payload,callback:B.callback,next:null},Tt===null?(ct=Tt=ft,K=Nt):Tt=Tt.next=ft,L|=ht;if(B=B.next,B===null){if(B=v.shared.pending,B===null)break;ft=B,B=ft.next,ft.next=null,v.lastBaseUpdate=ft,v.shared.pending=null}}while(!0);Tt===null&&(K=Nt),v.baseState=K,v.firstBaseUpdate=ct,v.lastBaseUpdate=Tt,_===null&&(v.shared.lanes=0),Da|=L,s.lanes=L,s.memoizedState=Nt}}function $b(s,a){if(typeof s!="function")throw Error(i(191,s));s.call(a)}function Qb(s,a){var c=s.callbacks;if(c!==null)for(s.callbacks=null,s=0;s<c.length;s++)$b(c[s],a)}var Vl=at(null),Qd=at(0);function Zb(s,a){s=$r,Et(Qd,s),Et(Vl,a),$r=s|a.baseLanes}function wg(){Et(Qd,$r),Et(Vl,Vl.current)}function Ag(){$r=Qd.current,wt(Vl),wt(Qd)}var Ta=0,Le=null,pn=null,Kn=null,Zd=!1,Fl=!1,Lo=!1,Jd=0,Du=0,Bl=null,S3=0;function zn(){throw Error(i(321))}function Mg(s,a){if(a===null)return!1;for(var c=0;c<a.length&&c<s.length;c++)if(!is(s[c],a[c]))return!1;return!0}function Rg(s,a,c,h,v,_){return Ta=_,Le=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Y.H=s===null||s.memoizedState===null?O1:U1,Lo=!1,_=c(h,v),Lo=!1,Fl&&(_=t1(a,c,h,v)),Jb(s),_}function Jb(s){Y.H=af;var a=pn!==null&&pn.next!==null;if(Ta=0,Kn=pn=Le=null,Zd=!1,Du=0,Bl=null,a)throw Error(i(300));s===null||fi||(s=s.dependencies,s!==null&&qd(s)&&(fi=!0))}function t1(s,a,c,h){Le=s;var v=0;do{if(Fl&&(Bl=null),Du=0,Fl=!1,25<=v)throw Error(i(301));if(v+=1,Kn=pn=null,s.updateQueue!=null){var _=s.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}Y.H=N3,_=a(c,h)}while(Fl);return _}function T3(){var s=Y.H,a=s.useState()[0];return a=typeof a.then=="function"?Iu(a):a,s=s.useState()[0],(pn!==null?pn.memoizedState:null)!==s&&(Le.flags|=1024),a}function Cg(){var s=Jd!==0;return Jd=0,s}function Ng(s,a,c){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~c}function Dg(s){if(Zd){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}Zd=!1}Ta=0,Kn=pn=Le=null,Fl=!1,Du=Jd=0,Bl=null}function Wi(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kn===null?Le.memoizedState=Kn=s:Kn=Kn.next=s,Kn}function $n(){if(pn===null){var s=Le.alternate;s=s!==null?s.memoizedState:null}else s=pn.next;var a=Kn===null?Le.memoizedState:Kn.next;if(a!==null)Kn=a,pn=s;else{if(s===null)throw Le.alternate===null?Error(i(467)):Error(i(310));pn=s,s={memoizedState:pn.memoizedState,baseState:pn.baseState,baseQueue:pn.baseQueue,queue:pn.queue,next:null},Kn===null?Le.memoizedState=Kn=s:Kn=Kn.next=s}return Kn}function Ig(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Iu(s){var a=Du;return Du+=1,Bl===null&&(Bl=[]),s=Xb(Bl,s,a),a=Le,(Kn===null?a.memoizedState:Kn.next)===null&&(a=a.alternate,Y.H=a===null||a.memoizedState===null?O1:U1),s}function tf(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Iu(s);if(s.$$typeof===N)return Di(s)}throw Error(i(438,String(s)))}function Pg(s){var a=null,c=Le.updateQueue;if(c!==null&&(a=c.memoCache),a==null){var h=Le.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(a={data:h.data.map(function(v){return v.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),c===null&&(c=Ig(),Le.updateQueue=c),c.memoCache=a,c=a.data[a.index],c===void 0)for(c=a.data[a.index]=Array(s),h=0;h<s;h++)c[h]=M;return a.index++,c}function Gr(s,a){return typeof a=="function"?a(s):a}function ef(s){var a=$n();return Lg(a,pn,s)}function Lg(s,a,c){var h=s.queue;if(h===null)throw Error(i(311));h.lastRenderedReducer=c;var v=s.baseQueue,_=h.pending;if(_!==null){if(v!==null){var L=v.next;v.next=_.next,_.next=L}a.baseQueue=v=_,h.pending=null}if(_=s.baseState,v===null)s.memoizedState=_;else{a=v.next;var B=L=null,K=null,ct=a,Tt=!1;do{var Nt=ct.lane&-536870913;if(Nt!==ct.lane?(Ze&Nt)===Nt:(Ta&Nt)===Nt){var ht=ct.revertLane;if(ht===0)K!==null&&(K=K.next={lane:0,revertLane:0,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null}),Nt===Ol&&(Tt=!0);else if((Ta&ht)===ht){ct=ct.next,ht===Ol&&(Tt=!0);continue}else Nt={lane:0,revertLane:ct.revertLane,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null},K===null?(B=K=Nt,L=_):K=K.next=Nt,Le.lanes|=ht,Da|=ht;Nt=ct.action,Lo&&c(_,Nt),_=ct.hasEagerState?ct.eagerState:c(_,Nt)}else ht={lane:Nt,revertLane:ct.revertLane,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null},K===null?(B=K=ht,L=_):K=K.next=ht,Le.lanes|=Nt,Da|=Nt;ct=ct.next}while(ct!==null&&ct!==a);if(K===null?L=_:K.next=B,!is(_,s.memoizedState)&&(fi=!0,Tt&&(c=Ul,c!==null)))throw c;s.memoizedState=_,s.baseState=L,s.baseQueue=K,h.lastRenderedState=_}return v===null&&(h.lanes=0),[s.memoizedState,h.dispatch]}function Og(s){var a=$n(),c=a.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=s;var h=c.dispatch,v=c.pending,_=a.memoizedState;if(v!==null){c.pending=null;var L=v=v.next;do _=s(_,L.action),L=L.next;while(L!==v);is(_,a.memoizedState)||(fi=!0),a.memoizedState=_,a.baseQueue===null&&(a.baseState=_),c.lastRenderedState=_}return[_,h]}function e1(s,a,c){var h=Le,v=$n(),_=on;if(_){if(c===void 0)throw Error(i(407));c=c()}else c=a();var L=!is((pn||v).memoizedState,c);L&&(v.memoizedState=c,fi=!0),v=v.queue;var B=s1.bind(null,h,v,s);if(Pu(2048,8,B,[s]),v.getSnapshot!==a||L||Kn!==null&&Kn.memoizedState.tag&1){if(h.flags|=2048,kl(9,nf(),i1.bind(null,h,v,c,a),null),En===null)throw Error(i(349));_||(Ta&124)!==0||n1(h,a,c)}return c}function n1(s,a,c){s.flags|=16384,s={getSnapshot:a,value:c},a=Le.updateQueue,a===null?(a=Ig(),Le.updateQueue=a,a.stores=[s]):(c=a.stores,c===null?a.stores=[s]:c.push(s))}function i1(s,a,c,h){a.value=c,a.getSnapshot=h,r1(a)&&a1(s)}function s1(s,a,c){return c(function(){r1(a)&&a1(s)})}function r1(s){var a=s.getSnapshot;s=s.value;try{var c=a();return!is(s,c)}catch{return!0}}function a1(s){var a=Dl(s,2);a!==null&&cs(a,s,2)}function Ug(s){var a=Wi();if(typeof s=="function"){var c=s;if(s=c(),Lo){_t(!0);try{c()}finally{_t(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gr,lastRenderedState:s},a}function o1(s,a,c,h){return s.baseState=c,Lg(s,pn,typeof h=="function"?h:Gr)}function w3(s,a,c,h,v){if(rf(s))throw Error(i(485));if(s=a.action,s!==null){var _={payload:v,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(L){_.listeners.push(L)}};Y.T!==null?c(!0):_.isTransition=!1,h(_),c=a.pending,c===null?(_.next=a.pending=_,l1(a,_)):(_.next=c.next,a.pending=c.next=_)}}function l1(s,a){var c=a.action,h=a.payload,v=s.state;if(a.isTransition){var _=Y.T,L={};Y.T=L;try{var B=c(v,h),K=Y.S;K!==null&&K(L,B),c1(s,a,B)}catch(ct){Vg(s,a,ct)}finally{Y.T=_}}else try{_=c(v,h),c1(s,a,_)}catch(ct){Vg(s,a,ct)}}function c1(s,a,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(h){u1(s,a,h)},function(h){return Vg(s,a,h)}):u1(s,a,c)}function u1(s,a,c){a.status="fulfilled",a.value=c,h1(a),s.state=c,a=s.pending,a!==null&&(c=a.next,c===a?s.pending=null:(c=c.next,a.next=c,l1(s,c)))}function Vg(s,a,c){var h=s.pending;if(s.pending=null,h!==null){h=h.next;do a.status="rejected",a.reason=c,h1(a),a=a.next;while(a!==h)}s.action=null}function h1(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function d1(s,a){return a}function f1(s,a){if(on){var c=En.formState;if(c!==null){t:{var h=Le;if(on){if(Vn){e:{for(var v=Vn,_=rr;v.nodeType!==8;){if(!_){v=null;break e}if(v=Vs(v.nextSibling),v===null){v=null;break e}}_=v.data,v=_==="F!"||_==="F"?v:null}if(v){Vn=Vs(v.nextSibling),h=v.data==="F!";break t}}No(h)}h=!1}h&&(a=c[0])}}return c=Wi(),c.memoizedState=c.baseState=a,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:d1,lastRenderedState:a},c.queue=h,c=I1.bind(null,Le,h),h.dispatch=c,h=Ug(!1),_=zg.bind(null,Le,!1,h.queue),h=Wi(),v={state:a,dispatch:null,action:s,pending:null},h.queue=v,c=w3.bind(null,Le,v,_,c),v.dispatch=c,h.memoizedState=s,[a,c,!1]}function m1(s){var a=$n();return p1(a,pn,s)}function p1(s,a,c){if(a=Lg(s,a,d1)[0],s=ef(Gr)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var h=Iu(a)}catch(L){throw L===Au?Kd:L}else h=a;a=$n();var v=a.queue,_=v.dispatch;return c!==a.memoizedState&&(Le.flags|=2048,kl(9,nf(),A3.bind(null,v,c),null)),[h,_,s]}function A3(s,a){s.action=a}function g1(s){var a=$n(),c=pn;if(c!==null)return p1(a,c,s);$n(),a=a.memoizedState,c=$n();var h=c.queue.dispatch;return c.memoizedState=s,[a,h,!1]}function kl(s,a,c,h){return s={tag:s,create:c,deps:h,inst:a,next:null},a=Le.updateQueue,a===null&&(a=Ig(),Le.updateQueue=a),c=a.lastEffect,c===null?a.lastEffect=s.next=s:(h=c.next,c.next=s,s.next=h,a.lastEffect=s),s}function nf(){return{destroy:void 0,resource:void 0}}function v1(){return $n().memoizedState}function sf(s,a,c,h){var v=Wi();h=h===void 0?null:h,Le.flags|=s,v.memoizedState=kl(1|a,nf(),c,h)}function Pu(s,a,c,h){var v=$n();h=h===void 0?null:h;var _=v.memoizedState.inst;pn!==null&&h!==null&&Mg(h,pn.memoizedState.deps)?v.memoizedState=kl(a,_,c,h):(Le.flags|=s,v.memoizedState=kl(1|a,_,c,h))}function y1(s,a){sf(8390656,8,s,a)}function x1(s,a){Pu(2048,8,s,a)}function _1(s,a){return Pu(4,2,s,a)}function b1(s,a){return Pu(4,4,s,a)}function E1(s,a){if(typeof a=="function"){s=s();var c=a(s);return function(){typeof c=="function"?c():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function S1(s,a,c){c=c!=null?c.concat([s]):null,Pu(4,4,E1.bind(null,a,s),c)}function Fg(){}function T1(s,a){var c=$n();a=a===void 0?null:a;var h=c.memoizedState;return a!==null&&Mg(a,h[1])?h[0]:(c.memoizedState=[s,a],s)}function w1(s,a){var c=$n();a=a===void 0?null:a;var h=c.memoizedState;if(a!==null&&Mg(a,h[1]))return h[0];if(h=s(),Lo){_t(!0);try{s()}finally{_t(!1)}}return c.memoizedState=[h,a],h}function Bg(s,a,c){return c===void 0||(Ta&1073741824)!==0?s.memoizedState=a:(s.memoizedState=c,s=RE(),Le.lanes|=s,Da|=s,c)}function A1(s,a,c,h){return is(c,a)?c:Vl.current!==null?(s=Bg(s,c,h),is(s,a)||(fi=!0),s):(Ta&42)===0?(fi=!0,s.memoizedState=c):(s=RE(),Le.lanes|=s,Da|=s,a)}function M1(s,a,c,h,v){var _=Z.p;Z.p=_!==0&&8>_?_:8;var L=Y.T,B={};Y.T=B,zg(s,!1,a,c);try{var K=v(),ct=Y.S;if(ct!==null&&ct(B,K),K!==null&&typeof K=="object"&&typeof K.then=="function"){var Tt=E3(K,h);Lu(s,a,Tt,ls(s))}else Lu(s,a,h,ls(s))}catch(Nt){Lu(s,a,{then:function(){},status:"rejected",reason:Nt},ls())}finally{Z.p=_,Y.T=L}}function M3(){}function kg(s,a,c,h){if(s.tag!==5)throw Error(i(476));var v=R1(s).queue;M1(s,v,a,Q,c===null?M3:function(){return C1(s),c(h)})}function R1(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gr,lastRenderedState:Q},next:null};var c={};return a.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gr,lastRenderedState:c},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function C1(s){var a=R1(s).next.queue;Lu(s,a,{},ls())}function jg(){return Di(Zu)}function N1(){return $n().memoizedState}function D1(){return $n().memoizedState}function R3(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var c=ls();s=Ea(c);var h=Sa(a,s,c);h!==null&&(cs(h,a,c),Ru(h,a,c)),a={cache:vg()},s.payload=a;return}a=a.return}}function C3(s,a,c){var h=ls();c={lane:h,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},rf(s)?P1(a,c):(c=og(s,a,c,h),c!==null&&(cs(c,s,h),L1(c,a,h)))}function I1(s,a,c){var h=ls();Lu(s,a,c,h)}function Lu(s,a,c,h){var v={lane:h,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(rf(s))P1(a,v);else{var _=s.alternate;if(s.lanes===0&&(_===null||_.lanes===0)&&(_=a.lastRenderedReducer,_!==null))try{var L=a.lastRenderedState,B=_(L,c);if(v.hasEagerState=!0,v.eagerState=B,is(B,L))return jd(s,a,v,0),En===null&&kd(),!1}catch{}finally{}if(c=og(s,a,v,h),c!==null)return cs(c,s,h),L1(c,a,h),!0}return!1}function zg(s,a,c,h){if(h={lane:2,revertLane:_0(),action:h,hasEagerState:!1,eagerState:null,next:null},rf(s)){if(a)throw Error(i(479))}else a=og(s,c,h,2),a!==null&&cs(a,s,2)}function rf(s){var a=s.alternate;return s===Le||a!==null&&a===Le}function P1(s,a){Fl=Zd=!0;var c=s.pending;c===null?a.next=a:(a.next=c.next,c.next=a),s.pending=a}function L1(s,a,c){if((c&4194048)!==0){var h=a.lanes;h&=s.pendingLanes,c|=h,a.lanes=c,Qt(s,c)}}var af={readContext:Di,use:tf,useCallback:zn,useContext:zn,useEffect:zn,useImperativeHandle:zn,useLayoutEffect:zn,useInsertionEffect:zn,useMemo:zn,useReducer:zn,useRef:zn,useState:zn,useDebugValue:zn,useDeferredValue:zn,useTransition:zn,useSyncExternalStore:zn,useId:zn,useHostTransitionStatus:zn,useFormState:zn,useActionState:zn,useOptimistic:zn,useMemoCache:zn,useCacheRefresh:zn},O1={readContext:Di,use:tf,useCallback:function(s,a){return Wi().memoizedState=[s,a===void 0?null:a],s},useContext:Di,useEffect:y1,useImperativeHandle:function(s,a,c){c=c!=null?c.concat([s]):null,sf(4194308,4,E1.bind(null,a,s),c)},useLayoutEffect:function(s,a){return sf(4194308,4,s,a)},useInsertionEffect:function(s,a){sf(4,2,s,a)},useMemo:function(s,a){var c=Wi();a=a===void 0?null:a;var h=s();if(Lo){_t(!0);try{s()}finally{_t(!1)}}return c.memoizedState=[h,a],h},useReducer:function(s,a,c){var h=Wi();if(c!==void 0){var v=c(a);if(Lo){_t(!0);try{c(a)}finally{_t(!1)}}}else v=a;return h.memoizedState=h.baseState=v,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:v},h.queue=s,s=s.dispatch=C3.bind(null,Le,s),[h.memoizedState,s]},useRef:function(s){var a=Wi();return s={current:s},a.memoizedState=s},useState:function(s){s=Ug(s);var a=s.queue,c=I1.bind(null,Le,a);return a.dispatch=c,[s.memoizedState,c]},useDebugValue:Fg,useDeferredValue:function(s,a){var c=Wi();return Bg(c,s,a)},useTransition:function(){var s=Ug(!1);return s=M1.bind(null,Le,s.queue,!0,!1),Wi().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,c){var h=Le,v=Wi();if(on){if(c===void 0)throw Error(i(407));c=c()}else{if(c=a(),En===null)throw Error(i(349));(Ze&124)!==0||n1(h,a,c)}v.memoizedState=c;var _={value:c,getSnapshot:a};return v.queue=_,y1(s1.bind(null,h,_,s),[s]),h.flags|=2048,kl(9,nf(),i1.bind(null,h,_,c,a),null),c},useId:function(){var s=Wi(),a=En.identifierPrefix;if(on){var c=jr,h=kr;c=(h&~(1<<32-qt(h)-1)).toString(32)+c,a="«"+a+"R"+c,c=Jd++,0<c&&(a+="H"+c.toString(32)),a+="»"}else c=S3++,a="«"+a+"r"+c.toString(32)+"»";return s.memoizedState=a},useHostTransitionStatus:jg,useFormState:f1,useActionState:f1,useOptimistic:function(s){var a=Wi();a.memoizedState=a.baseState=s;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=c,a=zg.bind(null,Le,!0,c),c.dispatch=a,[s,a]},useMemoCache:Pg,useCacheRefresh:function(){return Wi().memoizedState=R3.bind(null,Le)}},U1={readContext:Di,use:tf,useCallback:T1,useContext:Di,useEffect:x1,useImperativeHandle:S1,useInsertionEffect:_1,useLayoutEffect:b1,useMemo:w1,useReducer:ef,useRef:v1,useState:function(){return ef(Gr)},useDebugValue:Fg,useDeferredValue:function(s,a){var c=$n();return A1(c,pn.memoizedState,s,a)},useTransition:function(){var s=ef(Gr)[0],a=$n().memoizedState;return[typeof s=="boolean"?s:Iu(s),a]},useSyncExternalStore:e1,useId:N1,useHostTransitionStatus:jg,useFormState:m1,useActionState:m1,useOptimistic:function(s,a){var c=$n();return o1(c,pn,s,a)},useMemoCache:Pg,useCacheRefresh:D1},N3={readContext:Di,use:tf,useCallback:T1,useContext:Di,useEffect:x1,useImperativeHandle:S1,useInsertionEffect:_1,useLayoutEffect:b1,useMemo:w1,useReducer:Og,useRef:v1,useState:function(){return Og(Gr)},useDebugValue:Fg,useDeferredValue:function(s,a){var c=$n();return pn===null?Bg(c,s,a):A1(c,pn.memoizedState,s,a)},useTransition:function(){var s=Og(Gr)[0],a=$n().memoizedState;return[typeof s=="boolean"?s:Iu(s),a]},useSyncExternalStore:e1,useId:N1,useHostTransitionStatus:jg,useFormState:g1,useActionState:g1,useOptimistic:function(s,a){var c=$n();return pn!==null?o1(c,pn,s,a):(c.baseState=s,[s,c.queue.dispatch])},useMemoCache:Pg,useCacheRefresh:D1},jl=null,Ou=0;function of(s){var a=Ou;return Ou+=1,jl===null&&(jl=[]),Xb(jl,s,a)}function Uu(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function lf(s,a){throw a.$$typeof===y?Error(i(525)):(s=Object.prototype.toString.call(a),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function V1(s){var a=s._init;return a(s._payload)}function F1(s){function a(nt,J){if(s){var ot=nt.deletions;ot===null?(nt.deletions=[J],nt.flags|=16):ot.push(J)}}function c(nt,J){if(!s)return null;for(;J!==null;)a(nt,J),J=J.sibling;return null}function h(nt){for(var J=new Map;nt!==null;)nt.key!==null?J.set(nt.key,nt):J.set(nt.index,nt),nt=nt.sibling;return J}function v(nt,J){return nt=Br(nt,J),nt.index=0,nt.sibling=null,nt}function _(nt,J,ot){return nt.index=ot,s?(ot=nt.alternate,ot!==null?(ot=ot.index,ot<J?(nt.flags|=67108866,J):ot):(nt.flags|=67108866,J)):(nt.flags|=1048576,J)}function L(nt){return s&&nt.alternate===null&&(nt.flags|=67108866),nt}function B(nt,J,ot,Mt){return J===null||J.tag!==6?(J=cg(ot,nt.mode,Mt),J.return=nt,J):(J=v(J,ot),J.return=nt,J)}function K(nt,J,ot,Mt){var Jt=ot.type;return Jt===T?Tt(nt,J,ot.props.children,Mt,ot.key):J!==null&&(J.elementType===Jt||typeof Jt=="object"&&Jt!==null&&Jt.$$typeof===R&&V1(Jt)===J.type)?(J=v(J,ot.props),Uu(J,ot),J.return=nt,J):(J=Hd(ot.type,ot.key,ot.props,null,nt.mode,Mt),Uu(J,ot),J.return=nt,J)}function ct(nt,J,ot,Mt){return J===null||J.tag!==4||J.stateNode.containerInfo!==ot.containerInfo||J.stateNode.implementation!==ot.implementation?(J=ug(ot,nt.mode,Mt),J.return=nt,J):(J=v(J,ot.children||[]),J.return=nt,J)}function Tt(nt,J,ot,Mt,Jt){return J===null||J.tag!==7?(J=Ao(ot,nt.mode,Mt,Jt),J.return=nt,J):(J=v(J,ot),J.return=nt,J)}function Nt(nt,J,ot){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return J=cg(""+J,nt.mode,ot),J.return=nt,J;if(typeof J=="object"&&J!==null){switch(J.$$typeof){case x:return ot=Hd(J.type,J.key,J.props,null,nt.mode,ot),Uu(ot,J),ot.return=nt,ot;case E:return J=ug(J,nt.mode,ot),J.return=nt,J;case R:var Mt=J._init;return J=Mt(J._payload),Nt(nt,J,ot)}if(gt(J)||z(J))return J=Ao(J,nt.mode,ot,null),J.return=nt,J;if(typeof J.then=="function")return Nt(nt,of(J),ot);if(J.$$typeof===N)return Nt(nt,Xd(nt,J),ot);lf(nt,J)}return null}function ht(nt,J,ot,Mt){var Jt=J!==null?J.key:null;if(typeof ot=="string"&&ot!==""||typeof ot=="number"||typeof ot=="bigint")return Jt!==null?null:B(nt,J,""+ot,Mt);if(typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case x:return ot.key===Jt?K(nt,J,ot,Mt):null;case E:return ot.key===Jt?ct(nt,J,ot,Mt):null;case R:return Jt=ot._init,ot=Jt(ot._payload),ht(nt,J,ot,Mt)}if(gt(ot)||z(ot))return Jt!==null?null:Tt(nt,J,ot,Mt,null);if(typeof ot.then=="function")return ht(nt,J,of(ot),Mt);if(ot.$$typeof===N)return ht(nt,J,Xd(nt,ot),Mt);lf(nt,ot)}return null}function ft(nt,J,ot,Mt,Jt){if(typeof Mt=="string"&&Mt!==""||typeof Mt=="number"||typeof Mt=="bigint")return nt=nt.get(ot)||null,B(J,nt,""+Mt,Jt);if(typeof Mt=="object"&&Mt!==null){switch(Mt.$$typeof){case x:return nt=nt.get(Mt.key===null?ot:Mt.key)||null,K(J,nt,Mt,Jt);case E:return nt=nt.get(Mt.key===null?ot:Mt.key)||null,ct(J,nt,Mt,Jt);case R:var Fe=Mt._init;return Mt=Fe(Mt._payload),ft(nt,J,ot,Mt,Jt)}if(gt(Mt)||z(Mt))return nt=nt.get(ot)||null,Tt(J,nt,Mt,Jt,null);if(typeof Mt.then=="function")return ft(nt,J,ot,of(Mt),Jt);if(Mt.$$typeof===N)return ft(nt,J,ot,Xd(J,Mt),Jt);lf(J,Mt)}return null}function be(nt,J,ot,Mt){for(var Jt=null,Fe=null,le=J,ye=J=0,pi=null;le!==null&&ye<ot.length;ye++){le.index>ye?(pi=le,le=null):pi=le.sibling;var rn=ht(nt,le,ot[ye],Mt);if(rn===null){le===null&&(le=pi);break}s&&le&&rn.alternate===null&&a(nt,le),J=_(rn,J,ye),Fe===null?Jt=rn:Fe.sibling=rn,Fe=rn,le=pi}if(ye===ot.length)return c(nt,le),on&&Ro(nt,ye),Jt;if(le===null){for(;ye<ot.length;ye++)le=Nt(nt,ot[ye],Mt),le!==null&&(J=_(le,J,ye),Fe===null?Jt=le:Fe.sibling=le,Fe=le);return on&&Ro(nt,ye),Jt}for(le=h(le);ye<ot.length;ye++)pi=ft(le,nt,ye,ot[ye],Mt),pi!==null&&(s&&pi.alternate!==null&&le.delete(pi.key===null?ye:pi.key),J=_(pi,J,ye),Fe===null?Jt=pi:Fe.sibling=pi,Fe=pi);return s&&le.forEach(function(ka){return a(nt,ka)}),on&&Ro(nt,ye),Jt}function pe(nt,J,ot,Mt){if(ot==null)throw Error(i(151));for(var Jt=null,Fe=null,le=J,ye=J=0,pi=null,rn=ot.next();le!==null&&!rn.done;ye++,rn=ot.next()){le.index>ye?(pi=le,le=null):pi=le.sibling;var ka=ht(nt,le,rn.value,Mt);if(ka===null){le===null&&(le=pi);break}s&&le&&ka.alternate===null&&a(nt,le),J=_(ka,J,ye),Fe===null?Jt=ka:Fe.sibling=ka,Fe=ka,le=pi}if(rn.done)return c(nt,le),on&&Ro(nt,ye),Jt;if(le===null){for(;!rn.done;ye++,rn=ot.next())rn=Nt(nt,rn.value,Mt),rn!==null&&(J=_(rn,J,ye),Fe===null?Jt=rn:Fe.sibling=rn,Fe=rn);return on&&Ro(nt,ye),Jt}for(le=h(le);!rn.done;ye++,rn=ot.next())rn=ft(le,nt,ye,rn.value,Mt),rn!==null&&(s&&rn.alternate!==null&&le.delete(rn.key===null?ye:rn.key),J=_(rn,J,ye),Fe===null?Jt=rn:Fe.sibling=rn,Fe=rn);return s&&le.forEach(function(DD){return a(nt,DD)}),on&&Ro(nt,ye),Jt}function vn(nt,J,ot,Mt){if(typeof ot=="object"&&ot!==null&&ot.type===T&&ot.key===null&&(ot=ot.props.children),typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case x:t:{for(var Jt=ot.key;J!==null;){if(J.key===Jt){if(Jt=ot.type,Jt===T){if(J.tag===7){c(nt,J.sibling),Mt=v(J,ot.props.children),Mt.return=nt,nt=Mt;break t}}else if(J.elementType===Jt||typeof Jt=="object"&&Jt!==null&&Jt.$$typeof===R&&V1(Jt)===J.type){c(nt,J.sibling),Mt=v(J,ot.props),Uu(Mt,ot),Mt.return=nt,nt=Mt;break t}c(nt,J);break}else a(nt,J);J=J.sibling}ot.type===T?(Mt=Ao(ot.props.children,nt.mode,Mt,ot.key),Mt.return=nt,nt=Mt):(Mt=Hd(ot.type,ot.key,ot.props,null,nt.mode,Mt),Uu(Mt,ot),Mt.return=nt,nt=Mt)}return L(nt);case E:t:{for(Jt=ot.key;J!==null;){if(J.key===Jt)if(J.tag===4&&J.stateNode.containerInfo===ot.containerInfo&&J.stateNode.implementation===ot.implementation){c(nt,J.sibling),Mt=v(J,ot.children||[]),Mt.return=nt,nt=Mt;break t}else{c(nt,J);break}else a(nt,J);J=J.sibling}Mt=ug(ot,nt.mode,Mt),Mt.return=nt,nt=Mt}return L(nt);case R:return Jt=ot._init,ot=Jt(ot._payload),vn(nt,J,ot,Mt)}if(gt(ot))return be(nt,J,ot,Mt);if(z(ot)){if(Jt=z(ot),typeof Jt!="function")throw Error(i(150));return ot=Jt.call(ot),pe(nt,J,ot,Mt)}if(typeof ot.then=="function")return vn(nt,J,of(ot),Mt);if(ot.$$typeof===N)return vn(nt,J,Xd(nt,ot),Mt);lf(nt,ot)}return typeof ot=="string"&&ot!==""||typeof ot=="number"||typeof ot=="bigint"?(ot=""+ot,J!==null&&J.tag===6?(c(nt,J.sibling),Mt=v(J,ot),Mt.return=nt,nt=Mt):(c(nt,J),Mt=cg(ot,nt.mode,Mt),Mt.return=nt,nt=Mt),L(nt)):c(nt,J)}return function(nt,J,ot,Mt){try{Ou=0;var Jt=vn(nt,J,ot,Mt);return jl=null,Jt}catch(le){if(le===Au||le===Kd)throw le;var Fe=ss(29,le,null,nt.mode);return Fe.lanes=Mt,Fe.return=nt,Fe}finally{}}}var zl=F1(!0),B1=F1(!1),bs=at(null),ar=null;function wa(s){var a=s.alternate;Et(ai,ai.current&1),Et(bs,s),ar===null&&(a===null||Vl.current!==null||a.memoizedState!==null)&&(ar=s)}function k1(s){if(s.tag===22){if(Et(ai,ai.current),Et(bs,s),ar===null){var a=s.alternate;a!==null&&a.memoizedState!==null&&(ar=s)}}else Aa()}function Aa(){Et(ai,ai.current),Et(bs,bs.current)}function Wr(s){wt(bs),ar===s&&(ar=null),wt(ai)}var ai=at(0);function cf(s){for(var a=s;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||I0(c)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function Hg(s,a,c,h){a=s.memoizedState,c=c(h,a),c=c==null?a:g({},a,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var Gg={enqueueSetState:function(s,a,c){s=s._reactInternals;var h=ls(),v=Ea(h);v.payload=a,c!=null&&(v.callback=c),a=Sa(s,v,h),a!==null&&(cs(a,s,h),Ru(a,s,h))},enqueueReplaceState:function(s,a,c){s=s._reactInternals;var h=ls(),v=Ea(h);v.tag=1,v.payload=a,c!=null&&(v.callback=c),a=Sa(s,v,h),a!==null&&(cs(a,s,h),Ru(a,s,h))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var c=ls(),h=Ea(c);h.tag=2,a!=null&&(h.callback=a),a=Sa(s,h,c),a!==null&&(cs(a,s,c),Ru(a,s,c))}};function j1(s,a,c,h,v,_,L){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,_,L):a.prototype&&a.prototype.isPureReactComponent?!yu(c,h)||!yu(v,_):!0}function z1(s,a,c,h){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,h),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,h),a.state!==s&&Gg.enqueueReplaceState(a,a.state,null)}function Oo(s,a){var c=a;if("ref"in a){c={};for(var h in a)h!=="ref"&&(c[h]=a[h])}if(s=s.defaultProps){c===a&&(c=g({},c));for(var v in s)c[v]===void 0&&(c[v]=s[v])}return c}var uf=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function H1(s){uf(s)}function G1(s){console.error(s)}function W1(s){uf(s)}function hf(s,a){try{var c=s.onUncaughtError;c(a.value,{componentStack:a.stack})}catch(h){setTimeout(function(){throw h})}}function q1(s,a,c){try{var h=s.onCaughtError;h(c.value,{componentStack:c.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function Wg(s,a,c){return c=Ea(c),c.tag=3,c.payload={element:null},c.callback=function(){hf(s,a)},c}function X1(s){return s=Ea(s),s.tag=3,s}function Y1(s,a,c,h){var v=c.type.getDerivedStateFromError;if(typeof v=="function"){var _=h.value;s.payload=function(){return v(_)},s.callback=function(){q1(a,c,h)}}var L=c.stateNode;L!==null&&typeof L.componentDidCatch=="function"&&(s.callback=function(){q1(a,c,h),typeof v!="function"&&(Ia===null?Ia=new Set([this]):Ia.add(this));var B=h.stack;this.componentDidCatch(h.value,{componentStack:B!==null?B:""})})}function D3(s,a,c,h,v){if(c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(a=c.alternate,a!==null&&Su(a,c,v,!0),c=bs.current,c!==null){switch(c.tag){case 13:return ar===null?p0():c.alternate===null&&Fn===0&&(Fn=3),c.flags&=-257,c.flags|=65536,c.lanes=v,h===_g?c.flags|=16384:(a=c.updateQueue,a===null?c.updateQueue=new Set([h]):a.add(h),v0(s,h,v)),!1;case 22:return c.flags|=65536,h===_g?c.flags|=16384:(a=c.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([h])},c.updateQueue=a):(c=a.retryQueue,c===null?a.retryQueue=new Set([h]):c.add(h)),v0(s,h,v)),!1}throw Error(i(435,c.tag))}return v0(s,h,v),p0(),!1}if(on)return a=bs.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=v,h!==fg&&(s=Error(i(422),{cause:h}),Eu(vs(s,c)))):(h!==fg&&(a=Error(i(423),{cause:h}),Eu(vs(a,c))),s=s.current.alternate,s.flags|=65536,v&=-v,s.lanes|=v,h=vs(h,c),v=Wg(s.stateNode,h,v),Sg(s,v),Fn!==4&&(Fn=2)),!1;var _=Error(i(520),{cause:h});if(_=vs(_,c),Hu===null?Hu=[_]:Hu.push(_),Fn!==4&&(Fn=2),a===null)return!0;h=vs(h,c),c=a;do{switch(c.tag){case 3:return c.flags|=65536,s=v&-v,c.lanes|=s,s=Wg(c.stateNode,h,s),Sg(c,s),!1;case 1:if(a=c.type,_=c.stateNode,(c.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Ia===null||!Ia.has(_))))return c.flags|=65536,v&=-v,c.lanes|=v,v=X1(v),Y1(v,s,c,h),Sg(c,v),!1}c=c.return}while(c!==null);return!1}var K1=Error(i(461)),fi=!1;function _i(s,a,c,h){a.child=s===null?B1(a,null,c,h):zl(a,s.child,c,h)}function $1(s,a,c,h,v){c=c.render;var _=a.ref;if("ref"in h){var L={};for(var B in h)B!=="ref"&&(L[B]=h[B])}else L=h;return Io(a),h=Rg(s,a,c,L,_,v),B=Cg(),s!==null&&!fi?(Ng(s,a,v),qr(s,a,v)):(on&&B&&hg(a),a.flags|=1,_i(s,a,h,v),a.child)}function Q1(s,a,c,h,v){if(s===null){var _=c.type;return typeof _=="function"&&!lg(_)&&_.defaultProps===void 0&&c.compare===null?(a.tag=15,a.type=_,Z1(s,a,_,h,v)):(s=Hd(c.type,null,h,a,a.mode,v),s.ref=a.ref,s.return=a,a.child=s)}if(_=s.child,!Jg(s,v)){var L=_.memoizedProps;if(c=c.compare,c=c!==null?c:yu,c(L,h)&&s.ref===a.ref)return qr(s,a,v)}return a.flags|=1,s=Br(_,h),s.ref=a.ref,s.return=a,a.child=s}function Z1(s,a,c,h,v){if(s!==null){var _=s.memoizedProps;if(yu(_,h)&&s.ref===a.ref)if(fi=!1,a.pendingProps=h=_,Jg(s,v))(s.flags&131072)!==0&&(fi=!0);else return a.lanes=s.lanes,qr(s,a,v)}return qg(s,a,c,h,v)}function J1(s,a,c){var h=a.pendingProps,v=h.children,_=s!==null?s.memoizedState:null;if(h.mode==="hidden"){if((a.flags&128)!==0){if(h=_!==null?_.baseLanes|c:c,s!==null){for(v=a.child=s.child,_=0;v!==null;)_=_|v.lanes|v.childLanes,v=v.sibling;a.childLanes=_&~h}else a.childLanes=0,a.child=null;return tE(s,a,h,c)}if((c&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&Yd(a,_!==null?_.cachePool:null),_!==null?Zb(a,_):wg(),k1(a);else return a.lanes=a.childLanes=536870912,tE(s,a,_!==null?_.baseLanes|c:c,c)}else _!==null?(Yd(a,_.cachePool),Zb(a,_),Aa(),a.memoizedState=null):(s!==null&&Yd(a,null),wg(),Aa());return _i(s,a,v,c),a.child}function tE(s,a,c,h){var v=xg();return v=v===null?null:{parent:ri._currentValue,pool:v},a.memoizedState={baseLanes:c,cachePool:v},s!==null&&Yd(a,null),wg(),k1(a),s!==null&&Su(s,a,h,!0),null}function df(s,a){var c=a.ref;if(c===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(i(284));(s===null||s.ref!==c)&&(a.flags|=4194816)}}function qg(s,a,c,h,v){return Io(a),c=Rg(s,a,c,h,void 0,v),h=Cg(),s!==null&&!fi?(Ng(s,a,v),qr(s,a,v)):(on&&h&&hg(a),a.flags|=1,_i(s,a,c,v),a.child)}function eE(s,a,c,h,v,_){return Io(a),a.updateQueue=null,c=t1(a,h,c,v),Jb(s),h=Cg(),s!==null&&!fi?(Ng(s,a,_),qr(s,a,_)):(on&&h&&hg(a),a.flags|=1,_i(s,a,c,_),a.child)}function nE(s,a,c,h,v){if(Io(a),a.stateNode===null){var _=Il,L=c.contextType;typeof L=="object"&&L!==null&&(_=Di(L)),_=new c(h,_),a.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=Gg,a.stateNode=_,_._reactInternals=a,_=a.stateNode,_.props=h,_.state=a.memoizedState,_.refs={},bg(a),L=c.contextType,_.context=typeof L=="object"&&L!==null?Di(L):Il,_.state=a.memoizedState,L=c.getDerivedStateFromProps,typeof L=="function"&&(Hg(a,c,L,h),_.state=a.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(L=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),L!==_.state&&Gg.enqueueReplaceState(_,_.state,null),Nu(a,h,_,v),Cu(),_.state=a.memoizedState),typeof _.componentDidMount=="function"&&(a.flags|=4194308),h=!0}else if(s===null){_=a.stateNode;var B=a.memoizedProps,K=Oo(c,B);_.props=K;var ct=_.context,Tt=c.contextType;L=Il,typeof Tt=="object"&&Tt!==null&&(L=Di(Tt));var Nt=c.getDerivedStateFromProps;Tt=typeof Nt=="function"||typeof _.getSnapshotBeforeUpdate=="function",B=a.pendingProps!==B,Tt||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(B||ct!==L)&&z1(a,_,h,L),ba=!1;var ht=a.memoizedState;_.state=ht,Nu(a,h,_,v),Cu(),ct=a.memoizedState,B||ht!==ct||ba?(typeof Nt=="function"&&(Hg(a,c,Nt,h),ct=a.memoizedState),(K=ba||j1(a,c,K,h,ht,ct,L))?(Tt||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(a.flags|=4194308)):(typeof _.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=h,a.memoizedState=ct),_.props=h,_.state=ct,_.context=L,h=K):(typeof _.componentDidMount=="function"&&(a.flags|=4194308),h=!1)}else{_=a.stateNode,Eg(s,a),L=a.memoizedProps,Tt=Oo(c,L),_.props=Tt,Nt=a.pendingProps,ht=_.context,ct=c.contextType,K=Il,typeof ct=="object"&&ct!==null&&(K=Di(ct)),B=c.getDerivedStateFromProps,(ct=typeof B=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(L!==Nt||ht!==K)&&z1(a,_,h,K),ba=!1,ht=a.memoizedState,_.state=ht,Nu(a,h,_,v),Cu();var ft=a.memoizedState;L!==Nt||ht!==ft||ba||s!==null&&s.dependencies!==null&&qd(s.dependencies)?(typeof B=="function"&&(Hg(a,c,B,h),ft=a.memoizedState),(Tt=ba||j1(a,c,Tt,h,ht,ft,K)||s!==null&&s.dependencies!==null&&qd(s.dependencies))?(ct||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(h,ft,K),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(h,ft,K)),typeof _.componentDidUpdate=="function"&&(a.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof _.componentDidUpdate!="function"||L===s.memoizedProps&&ht===s.memoizedState||(a.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||L===s.memoizedProps&&ht===s.memoizedState||(a.flags|=1024),a.memoizedProps=h,a.memoizedState=ft),_.props=h,_.state=ft,_.context=K,h=Tt):(typeof _.componentDidUpdate!="function"||L===s.memoizedProps&&ht===s.memoizedState||(a.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||L===s.memoizedProps&&ht===s.memoizedState||(a.flags|=1024),h=!1)}return _=h,df(s,a),h=(a.flags&128)!==0,_||h?(_=a.stateNode,c=h&&typeof c.getDerivedStateFromError!="function"?null:_.render(),a.flags|=1,s!==null&&h?(a.child=zl(a,s.child,null,v),a.child=zl(a,null,c,v)):_i(s,a,c,v),a.memoizedState=_.state,s=a.child):s=qr(s,a,v),s}function iE(s,a,c,h){return bu(),a.flags|=256,_i(s,a,c,h),a.child}var Xg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yg(s){return{baseLanes:s,cachePool:Gb()}}function Kg(s,a,c){return s=s!==null?s.childLanes&~c:0,a&&(s|=Es),s}function sE(s,a,c){var h=a.pendingProps,v=!1,_=(a.flags&128)!==0,L;if((L=_)||(L=s!==null&&s.memoizedState===null?!1:(ai.current&2)!==0),L&&(v=!0,a.flags&=-129),L=(a.flags&32)!==0,a.flags&=-33,s===null){if(on){if(v?wa(a):Aa(),on){var B=Vn,K;if(K=B){t:{for(K=B,B=rr;K.nodeType!==8;){if(!B){B=null;break t}if(K=Vs(K.nextSibling),K===null){B=null;break t}}B=K}B!==null?(a.memoizedState={dehydrated:B,treeContext:Mo!==null?{id:kr,overflow:jr}:null,retryLane:536870912,hydrationErrors:null},K=ss(18,null,null,0),K.stateNode=B,K.return=a,a.child=K,ji=a,Vn=null,K=!0):K=!1}K||No(a)}if(B=a.memoizedState,B!==null&&(B=B.dehydrated,B!==null))return I0(B)?a.lanes=32:a.lanes=536870912,null;Wr(a)}return B=h.children,h=h.fallback,v?(Aa(),v=a.mode,B=ff({mode:"hidden",children:B},v),h=Ao(h,v,c,null),B.return=a,h.return=a,B.sibling=h,a.child=B,v=a.child,v.memoizedState=Yg(c),v.childLanes=Kg(s,L,c),a.memoizedState=Xg,h):(wa(a),$g(a,B))}if(K=s.memoizedState,K!==null&&(B=K.dehydrated,B!==null)){if(_)a.flags&256?(wa(a),a.flags&=-257,a=Qg(s,a,c)):a.memoizedState!==null?(Aa(),a.child=s.child,a.flags|=128,a=null):(Aa(),v=h.fallback,B=a.mode,h=ff({mode:"visible",children:h.children},B),v=Ao(v,B,c,null),v.flags|=2,h.return=a,v.return=a,h.sibling=v,a.child=h,zl(a,s.child,null,c),h=a.child,h.memoizedState=Yg(c),h.childLanes=Kg(s,L,c),a.memoizedState=Xg,a=v);else if(wa(a),I0(B)){if(L=B.nextSibling&&B.nextSibling.dataset,L)var ct=L.dgst;L=ct,h=Error(i(419)),h.stack="",h.digest=L,Eu({value:h,source:null,stack:null}),a=Qg(s,a,c)}else if(fi||Su(s,a,c,!1),L=(c&s.childLanes)!==0,fi||L){if(L=En,L!==null&&(h=c&-c,h=(h&42)!==0?1:fe(h),h=(h&(L.suspendedLanes|c))!==0?0:h,h!==0&&h!==K.retryLane))throw K.retryLane=h,Dl(s,h),cs(L,s,h),K1;B.data==="$?"||p0(),a=Qg(s,a,c)}else B.data==="$?"?(a.flags|=192,a.child=s.child,a=null):(s=K.treeContext,Vn=Vs(B.nextSibling),ji=a,on=!0,Co=null,rr=!1,s!==null&&(xs[_s++]=kr,xs[_s++]=jr,xs[_s++]=Mo,kr=s.id,jr=s.overflow,Mo=a),a=$g(a,h.children),a.flags|=4096);return a}return v?(Aa(),v=h.fallback,B=a.mode,K=s.child,ct=K.sibling,h=Br(K,{mode:"hidden",children:h.children}),h.subtreeFlags=K.subtreeFlags&65011712,ct!==null?v=Br(ct,v):(v=Ao(v,B,c,null),v.flags|=2),v.return=a,h.return=a,h.sibling=v,a.child=h,h=v,v=a.child,B=s.child.memoizedState,B===null?B=Yg(c):(K=B.cachePool,K!==null?(ct=ri._currentValue,K=K.parent!==ct?{parent:ct,pool:ct}:K):K=Gb(),B={baseLanes:B.baseLanes|c,cachePool:K}),v.memoizedState=B,v.childLanes=Kg(s,L,c),a.memoizedState=Xg,h):(wa(a),c=s.child,s=c.sibling,c=Br(c,{mode:"visible",children:h.children}),c.return=a,c.sibling=null,s!==null&&(L=a.deletions,L===null?(a.deletions=[s],a.flags|=16):L.push(s)),a.child=c,a.memoizedState=null,c)}function $g(s,a){return a=ff({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function ff(s,a){return s=ss(22,s,null,a),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function Qg(s,a,c){return zl(a,s.child,null,c),s=$g(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function rE(s,a,c){s.lanes|=a;var h=s.alternate;h!==null&&(h.lanes|=a),pg(s.return,a,c)}function Zg(s,a,c,h,v){var _=s.memoizedState;_===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:v}:(_.isBackwards=a,_.rendering=null,_.renderingStartTime=0,_.last=h,_.tail=c,_.tailMode=v)}function aE(s,a,c){var h=a.pendingProps,v=h.revealOrder,_=h.tail;if(_i(s,a,h.children,c),h=ai.current,(h&2)!==0)h=h&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)t:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&rE(s,c,a);else if(s.tag===19)rE(s,c,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break t;for(;s.sibling===null;){if(s.return===null||s.return===a)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}h&=1}switch(Et(ai,h),v){case"forwards":for(c=a.child,v=null;c!==null;)s=c.alternate,s!==null&&cf(s)===null&&(v=c),c=c.sibling;c=v,c===null?(v=a.child,a.child=null):(v=c.sibling,c.sibling=null),Zg(a,!1,v,c,_);break;case"backwards":for(c=null,v=a.child,a.child=null;v!==null;){if(s=v.alternate,s!==null&&cf(s)===null){a.child=v;break}s=v.sibling,v.sibling=c,c=v,v=s}Zg(a,!0,c,null,_);break;case"together":Zg(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function qr(s,a,c){if(s!==null&&(a.dependencies=s.dependencies),Da|=a.lanes,(c&a.childLanes)===0)if(s!==null){if(Su(s,a,c,!1),(c&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(i(153));if(a.child!==null){for(s=a.child,c=Br(s,s.pendingProps),a.child=c,c.return=a;s.sibling!==null;)s=s.sibling,c=c.sibling=Br(s,s.pendingProps),c.return=a;c.sibling=null}return a.child}function Jg(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&qd(s)))}function I3(s,a,c){switch(a.tag){case 3:Ft(a,a.stateNode.containerInfo),_a(a,ri,s.memoizedState.cache),bu();break;case 27:case 5:ee(a);break;case 4:Ft(a,a.stateNode.containerInfo);break;case 10:_a(a,a.type,a.memoizedProps.value);break;case 13:var h=a.memoizedState;if(h!==null)return h.dehydrated!==null?(wa(a),a.flags|=128,null):(c&a.child.childLanes)!==0?sE(s,a,c):(wa(a),s=qr(s,a,c),s!==null?s.sibling:null);wa(a);break;case 19:var v=(s.flags&128)!==0;if(h=(c&a.childLanes)!==0,h||(Su(s,a,c,!1),h=(c&a.childLanes)!==0),v){if(h)return aE(s,a,c);a.flags|=128}if(v=a.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),Et(ai,ai.current),h)break;return null;case 22:case 23:return a.lanes=0,J1(s,a,c);case 24:_a(a,ri,s.memoizedState.cache)}return qr(s,a,c)}function oE(s,a,c){if(s!==null)if(s.memoizedProps!==a.pendingProps)fi=!0;else{if(!Jg(s,c)&&(a.flags&128)===0)return fi=!1,I3(s,a,c);fi=(s.flags&131072)!==0}else fi=!1,on&&(a.flags&1048576)!==0&&Vb(a,Wd,a.index);switch(a.lanes=0,a.tag){case 16:t:{s=a.pendingProps;var h=a.elementType,v=h._init;if(h=v(h._payload),a.type=h,typeof h=="function")lg(h)?(s=Oo(h,s),a.tag=1,a=nE(null,a,h,s,c)):(a.tag=0,a=qg(null,a,h,s,c));else{if(h!=null){if(v=h.$$typeof,v===U){a.tag=11,a=$1(null,a,h,s,c);break t}else if(v===D){a.tag=14,a=Q1(null,a,h,s,c);break t}}throw a=yt(h)||h,Error(i(306,a,""))}}return a;case 0:return qg(s,a,a.type,a.pendingProps,c);case 1:return h=a.type,v=Oo(h,a.pendingProps),nE(s,a,h,v,c);case 3:t:{if(Ft(a,a.stateNode.containerInfo),s===null)throw Error(i(387));h=a.pendingProps;var _=a.memoizedState;v=_.element,Eg(s,a),Nu(a,h,null,c);var L=a.memoizedState;if(h=L.cache,_a(a,ri,h),h!==_.cache&&gg(a,[ri],c,!0),Cu(),h=L.element,_.isDehydrated)if(_={element:h,isDehydrated:!1,cache:L.cache},a.updateQueue.baseState=_,a.memoizedState=_,a.flags&256){a=iE(s,a,h,c);break t}else if(h!==v){v=vs(Error(i(424)),a),Eu(v),a=iE(s,a,h,c);break t}else{switch(s=a.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Vn=Vs(s.firstChild),ji=a,on=!0,Co=null,rr=!0,c=B1(a,null,h,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(bu(),h===v){a=qr(s,a,c);break t}_i(s,a,h,c)}a=a.child}return a;case 26:return df(s,a),s===null?(c=hS(a.type,null,a.pendingProps,null))?a.memoizedState=c:on||(c=a.type,s=a.pendingProps,h=Mf(Ct.current).createElement(c),h[Ln]=a,h[Cn]=s,Ei(h,c,s),Nn(h),a.stateNode=h):a.memoizedState=hS(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return ee(a),s===null&&on&&(h=a.stateNode=lS(a.type,a.pendingProps,Ct.current),ji=a,rr=!0,v=Vn,Oa(a.type)?(P0=v,Vn=Vs(h.firstChild)):Vn=v),_i(s,a,a.pendingProps.children,c),df(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&on&&((v=h=Vn)&&(h=aD(h,a.type,a.pendingProps,rr),h!==null?(a.stateNode=h,ji=a,Vn=Vs(h.firstChild),rr=!1,v=!0):v=!1),v||No(a)),ee(a),v=a.type,_=a.pendingProps,L=s!==null?s.memoizedProps:null,h=_.children,C0(v,_)?h=null:L!==null&&C0(v,L)&&(a.flags|=32),a.memoizedState!==null&&(v=Rg(s,a,T3,null,null,c),Zu._currentValue=v),df(s,a),_i(s,a,h,c),a.child;case 6:return s===null&&on&&((s=c=Vn)&&(c=oD(c,a.pendingProps,rr),c!==null?(a.stateNode=c,ji=a,Vn=null,s=!0):s=!1),s||No(a)),null;case 13:return sE(s,a,c);case 4:return Ft(a,a.stateNode.containerInfo),h=a.pendingProps,s===null?a.child=zl(a,null,h,c):_i(s,a,h,c),a.child;case 11:return $1(s,a,a.type,a.pendingProps,c);case 7:return _i(s,a,a.pendingProps,c),a.child;case 8:return _i(s,a,a.pendingProps.children,c),a.child;case 12:return _i(s,a,a.pendingProps.children,c),a.child;case 10:return h=a.pendingProps,_a(a,a.type,h.value),_i(s,a,h.children,c),a.child;case 9:return v=a.type._context,h=a.pendingProps.children,Io(a),v=Di(v),h=h(v),a.flags|=1,_i(s,a,h,c),a.child;case 14:return Q1(s,a,a.type,a.pendingProps,c);case 15:return Z1(s,a,a.type,a.pendingProps,c);case 19:return aE(s,a,c);case 31:return h=a.pendingProps,c=a.mode,h={mode:h.mode,children:h.children},s===null?(c=ff(h,c),c.ref=a.ref,a.child=c,c.return=a,a=c):(c=Br(s.child,h),c.ref=a.ref,a.child=c,c.return=a,a=c),a;case 22:return J1(s,a,c);case 24:return Io(a),h=Di(ri),s===null?(v=xg(),v===null&&(v=En,_=vg(),v.pooledCache=_,_.refCount++,_!==null&&(v.pooledCacheLanes|=c),v=_),a.memoizedState={parent:h,cache:v},bg(a),_a(a,ri,v)):((s.lanes&c)!==0&&(Eg(s,a),Nu(a,null,null,c),Cu()),v=s.memoizedState,_=a.memoizedState,v.parent!==h?(v={parent:h,cache:h},a.memoizedState=v,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=v),_a(a,ri,h)):(h=_.cache,_a(a,ri,h),h!==v.cache&&gg(a,[ri],c,!0))),_i(s,a,a.pendingProps.children,c),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function Xr(s){s.flags|=4}function lE(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!gS(a)){if(a=bs.current,a!==null&&((Ze&4194048)===Ze?ar!==null:(Ze&62914560)!==Ze&&(Ze&536870912)===0||a!==ar))throw Mu=_g,Wb;s.flags|=8192}}function mf(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?Gt():536870912,s.lanes|=a,ql|=a)}function Vu(s,a){if(!on)switch(s.tailMode){case"hidden":a=s.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function Dn(s){var a=s.alternate!==null&&s.alternate.child===s.child,c=0,h=0;if(a)for(var v=s.child;v!==null;)c|=v.lanes|v.childLanes,h|=v.subtreeFlags&65011712,h|=v.flags&65011712,v.return=s,v=v.sibling;else for(v=s.child;v!==null;)c|=v.lanes|v.childLanes,h|=v.subtreeFlags,h|=v.flags,v.return=s,v=v.sibling;return s.subtreeFlags|=h,s.childLanes=c,a}function P3(s,a,c){var h=a.pendingProps;switch(dg(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dn(a),null;case 1:return Dn(a),null;case 3:return c=a.stateNode,h=null,s!==null&&(h=s.memoizedState.cache),a.memoizedState.cache!==h&&(a.flags|=2048),Hr(ri),de(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(s===null||s.child===null)&&(_u(a)?Xr(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,kb())),Dn(a),null;case 26:return c=a.memoizedState,s===null?(Xr(a),c!==null?(Dn(a),lE(a,c)):(Dn(a),a.flags&=-16777217)):c?c!==s.memoizedState?(Xr(a),Dn(a),lE(a,c)):(Dn(a),a.flags&=-16777217):(s.memoizedProps!==h&&Xr(a),Dn(a),a.flags&=-16777217),null;case 27:Ie(a),c=Ct.current;var v=a.type;if(s!==null&&a.stateNode!=null)s.memoizedProps!==h&&Xr(a);else{if(!h){if(a.stateNode===null)throw Error(i(166));return Dn(a),null}s=it.current,_u(a)?Fb(a):(s=lS(v,h,c),a.stateNode=s,Xr(a))}return Dn(a),null;case 5:if(Ie(a),c=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==h&&Xr(a);else{if(!h){if(a.stateNode===null)throw Error(i(166));return Dn(a),null}if(s=it.current,_u(a))Fb(a);else{switch(v=Mf(Ct.current),s){case 1:s=v.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:s=v.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":s=v.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":s=v.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":s=v.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof h.is=="string"?v.createElement("select",{is:h.is}):v.createElement("select"),h.multiple?s.multiple=!0:h.size&&(s.size=h.size);break;default:s=typeof h.is=="string"?v.createElement(c,{is:h.is}):v.createElement(c)}}s[Ln]=a,s[Cn]=h;t:for(v=a.child;v!==null;){if(v.tag===5||v.tag===6)s.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===a)break t;for(;v.sibling===null;){if(v.return===null||v.return===a)break t;v=v.return}v.sibling.return=v.return,v=v.sibling}a.stateNode=s;t:switch(Ei(s,c,h),c){case"button":case"input":case"select":case"textarea":s=!!h.autoFocus;break t;case"img":s=!0;break t;default:s=!1}s&&Xr(a)}}return Dn(a),a.flags&=-16777217,null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==h&&Xr(a);else{if(typeof h!="string"&&a.stateNode===null)throw Error(i(166));if(s=Ct.current,_u(a)){if(s=a.stateNode,c=a.memoizedProps,h=null,v=ji,v!==null)switch(v.tag){case 27:case 5:h=v.memoizedProps}s[Ln]=a,s=!!(s.nodeValue===c||h!==null&&h.suppressHydrationWarning===!0||eS(s.nodeValue,c)),s||No(a)}else s=Mf(s).createTextNode(h),s[Ln]=a,a.stateNode=s}return Dn(a),null;case 13:if(h=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(v=_u(a),h!==null&&h.dehydrated!==null){if(s===null){if(!v)throw Error(i(318));if(v=a.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(i(317));v[Ln]=a}else bu(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Dn(a),v=!1}else v=kb(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=v),v=!0;if(!v)return a.flags&256?(Wr(a),a):(Wr(a),null)}if(Wr(a),(a.flags&128)!==0)return a.lanes=c,a;if(c=h!==null,s=s!==null&&s.memoizedState!==null,c){h=a.child,v=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(v=h.alternate.memoizedState.cachePool.pool);var _=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(_=h.memoizedState.cachePool.pool),_!==v&&(h.flags|=2048)}return c!==s&&c&&(a.child.flags|=8192),mf(a,a.updateQueue),Dn(a),null;case 4:return de(),s===null&&T0(a.stateNode.containerInfo),Dn(a),null;case 10:return Hr(a.type),Dn(a),null;case 19:if(wt(ai),v=a.memoizedState,v===null)return Dn(a),null;if(h=(a.flags&128)!==0,_=v.rendering,_===null)if(h)Vu(v,!1);else{if(Fn!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(_=cf(s),_!==null){for(a.flags|=128,Vu(v,!1),s=_.updateQueue,a.updateQueue=s,mf(a,s),a.subtreeFlags=0,s=c,c=a.child;c!==null;)Ub(c,s),c=c.sibling;return Et(ai,ai.current&1|2),a.child}s=s.sibling}v.tail!==null&&Pe()>vf&&(a.flags|=128,h=!0,Vu(v,!1),a.lanes=4194304)}else{if(!h)if(s=cf(_),s!==null){if(a.flags|=128,h=!0,s=s.updateQueue,a.updateQueue=s,mf(a,s),Vu(v,!0),v.tail===null&&v.tailMode==="hidden"&&!_.alternate&&!on)return Dn(a),null}else 2*Pe()-v.renderingStartTime>vf&&c!==536870912&&(a.flags|=128,h=!0,Vu(v,!1),a.lanes=4194304);v.isBackwards?(_.sibling=a.child,a.child=_):(s=v.last,s!==null?s.sibling=_:a.child=_,v.last=_)}return v.tail!==null?(a=v.tail,v.rendering=a,v.tail=a.sibling,v.renderingStartTime=Pe(),a.sibling=null,s=ai.current,Et(ai,h?s&1|2:s&1),a):(Dn(a),null);case 22:case 23:return Wr(a),Ag(),h=a.memoizedState!==null,s!==null?s.memoizedState!==null!==h&&(a.flags|=8192):h&&(a.flags|=8192),h?(c&536870912)!==0&&(a.flags&128)===0&&(Dn(a),a.subtreeFlags&6&&(a.flags|=8192)):Dn(a),c=a.updateQueue,c!==null&&mf(a,c.retryQueue),c=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),h=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),h!==c&&(a.flags|=2048),s!==null&&wt(Po),null;case 24:return c=null,s!==null&&(c=s.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),Hr(ri),Dn(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function L3(s,a){switch(dg(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Hr(ri),de(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return Ie(a),null;case 13:if(Wr(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(i(340));bu()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return wt(ai),null;case 4:return de(),null;case 10:return Hr(a.type),null;case 22:case 23:return Wr(a),Ag(),s!==null&&wt(Po),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return Hr(ri),null;case 25:return null;default:return null}}function cE(s,a){switch(dg(a),a.tag){case 3:Hr(ri),de();break;case 26:case 27:case 5:Ie(a);break;case 4:de();break;case 13:Wr(a);break;case 19:wt(ai);break;case 10:Hr(a.type);break;case 22:case 23:Wr(a),Ag(),s!==null&&wt(Po);break;case 24:Hr(ri)}}function Fu(s,a){try{var c=a.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var v=h.next;c=v;do{if((c.tag&s)===s){h=void 0;var _=c.create,L=c.inst;h=_(),L.destroy=h}c=c.next}while(c!==v)}}catch(B){_n(a,a.return,B)}}function Ma(s,a,c){try{var h=a.updateQueue,v=h!==null?h.lastEffect:null;if(v!==null){var _=v.next;h=_;do{if((h.tag&s)===s){var L=h.inst,B=L.destroy;if(B!==void 0){L.destroy=void 0,v=a;var K=c,ct=B;try{ct()}catch(Tt){_n(v,K,Tt)}}}h=h.next}while(h!==_)}}catch(Tt){_n(a,a.return,Tt)}}function uE(s){var a=s.updateQueue;if(a!==null){var c=s.stateNode;try{Qb(a,c)}catch(h){_n(s,s.return,h)}}}function hE(s,a,c){c.props=Oo(s.type,s.memoizedProps),c.state=s.memoizedState;try{c.componentWillUnmount()}catch(h){_n(s,a,h)}}function Bu(s,a){try{var c=s.ref;if(c!==null){switch(s.tag){case 26:case 27:case 5:var h=s.stateNode;break;case 30:h=s.stateNode;break;default:h=s.stateNode}typeof c=="function"?s.refCleanup=c(h):c.current=h}}catch(v){_n(s,a,v)}}function or(s,a){var c=s.ref,h=s.refCleanup;if(c!==null)if(typeof h=="function")try{h()}catch(v){_n(s,a,v)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(v){_n(s,a,v)}else c.current=null}function dE(s){var a=s.type,c=s.memoizedProps,h=s.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":c.autoFocus&&h.focus();break t;case"img":c.src?h.src=c.src:c.srcSet&&(h.srcset=c.srcSet)}}catch(v){_n(s,s.return,v)}}function t0(s,a,c){try{var h=s.stateNode;eD(h,s.type,c,a),h[Cn]=a}catch(v){_n(s,s.return,v)}}function fE(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Oa(s.type)||s.tag===4}function e0(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||fE(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Oa(s.type)||s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function n0(s,a,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,a?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(s,a):(a=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,a.appendChild(s),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=Af));else if(h!==4&&(h===27&&Oa(s.type)&&(c=s.stateNode,a=null),s=s.child,s!==null))for(n0(s,a,c),s=s.sibling;s!==null;)n0(s,a,c),s=s.sibling}function pf(s,a,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,a?c.insertBefore(s,a):c.appendChild(s);else if(h!==4&&(h===27&&Oa(s.type)&&(c=s.stateNode),s=s.child,s!==null))for(pf(s,a,c),s=s.sibling;s!==null;)pf(s,a,c),s=s.sibling}function mE(s){var a=s.stateNode,c=s.memoizedProps;try{for(var h=s.type,v=a.attributes;v.length;)a.removeAttributeNode(v[0]);Ei(a,h,c),a[Ln]=s,a[Cn]=c}catch(_){_n(s,s.return,_)}}var Yr=!1,Hn=!1,i0=!1,pE=typeof WeakSet=="function"?WeakSet:Set,mi=null;function O3(s,a){if(s=s.containerInfo,M0=Pf,s=Ab(s),eg(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else t:{c=(c=s.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var v=h.anchorOffset,_=h.focusNode;h=h.focusOffset;try{c.nodeType,_.nodeType}catch{c=null;break t}var L=0,B=-1,K=-1,ct=0,Tt=0,Nt=s,ht=null;e:for(;;){for(var ft;Nt!==c||v!==0&&Nt.nodeType!==3||(B=L+v),Nt!==_||h!==0&&Nt.nodeType!==3||(K=L+h),Nt.nodeType===3&&(L+=Nt.nodeValue.length),(ft=Nt.firstChild)!==null;)ht=Nt,Nt=ft;for(;;){if(Nt===s)break e;if(ht===c&&++ct===v&&(B=L),ht===_&&++Tt===h&&(K=L),(ft=Nt.nextSibling)!==null)break;Nt=ht,ht=Nt.parentNode}Nt=ft}c=B===-1||K===-1?null:{start:B,end:K}}else c=null}c=c||{start:0,end:0}}else c=null;for(R0={focusedElem:s,selectionRange:c},Pf=!1,mi=a;mi!==null;)if(a=mi,s=a.child,(a.subtreeFlags&1024)!==0&&s!==null)s.return=a,mi=s;else for(;mi!==null;){switch(a=mi,_=a.alternate,s=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&_!==null){s=void 0,c=a,v=_.memoizedProps,_=_.memoizedState,h=c.stateNode;try{var be=Oo(c.type,v,c.elementType===c.type);s=h.getSnapshotBeforeUpdate(be,_),h.__reactInternalSnapshotBeforeUpdate=s}catch(pe){_n(c,c.return,pe)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,c=s.nodeType,c===9)D0(s);else if(c===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":D0(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=a.sibling,s!==null){s.return=a.return,mi=s;break}mi=a.return}}function gE(s,a,c){var h=c.flags;switch(c.tag){case 0:case 11:case 15:Ra(s,c),h&4&&Fu(5,c);break;case 1:if(Ra(s,c),h&4)if(s=c.stateNode,a===null)try{s.componentDidMount()}catch(L){_n(c,c.return,L)}else{var v=Oo(c.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(v,a,s.__reactInternalSnapshotBeforeUpdate)}catch(L){_n(c,c.return,L)}}h&64&&uE(c),h&512&&Bu(c,c.return);break;case 3:if(Ra(s,c),h&64&&(s=c.updateQueue,s!==null)){if(a=null,c.child!==null)switch(c.child.tag){case 27:case 5:a=c.child.stateNode;break;case 1:a=c.child.stateNode}try{Qb(s,a)}catch(L){_n(c,c.return,L)}}break;case 27:a===null&&h&4&&mE(c);case 26:case 5:Ra(s,c),a===null&&h&4&&dE(c),h&512&&Bu(c,c.return);break;case 12:Ra(s,c);break;case 13:Ra(s,c),h&4&&xE(s,c),h&64&&(s=c.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(c=G3.bind(null,c),lD(s,c))));break;case 22:if(h=c.memoizedState!==null||Yr,!h){a=a!==null&&a.memoizedState!==null||Hn,v=Yr;var _=Hn;Yr=h,(Hn=a)&&!_?Ca(s,c,(c.subtreeFlags&8772)!==0):Ra(s,c),Yr=v,Hn=_}break;case 30:break;default:Ra(s,c)}}function vE(s){var a=s.alternate;a!==null&&(s.alternate=null,vE(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&ts(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var wn=null,qi=!1;function Kr(s,a,c){for(c=c.child;c!==null;)yE(s,a,c),c=c.sibling}function yE(s,a,c){if(bt&&typeof bt.onCommitFiberUnmount=="function")try{bt.onCommitFiberUnmount(xt,c)}catch{}switch(c.tag){case 26:Hn||or(c,a),Kr(s,a,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Hn||or(c,a);var h=wn,v=qi;Oa(c.type)&&(wn=c.stateNode,qi=!1),Kr(s,a,c),Yu(c.stateNode),wn=h,qi=v;break;case 5:Hn||or(c,a);case 6:if(h=wn,v=qi,wn=null,Kr(s,a,c),wn=h,qi=v,wn!==null)if(qi)try{(wn.nodeType===9?wn.body:wn.nodeName==="HTML"?wn.ownerDocument.body:wn).removeChild(c.stateNode)}catch(_){_n(c,a,_)}else try{wn.removeChild(c.stateNode)}catch(_){_n(c,a,_)}break;case 18:wn!==null&&(qi?(s=wn,aS(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,c.stateNode),nh(s)):aS(wn,c.stateNode));break;case 4:h=wn,v=qi,wn=c.stateNode.containerInfo,qi=!0,Kr(s,a,c),wn=h,qi=v;break;case 0:case 11:case 14:case 15:Hn||Ma(2,c,a),Hn||Ma(4,c,a),Kr(s,a,c);break;case 1:Hn||(or(c,a),h=c.stateNode,typeof h.componentWillUnmount=="function"&&hE(c,a,h)),Kr(s,a,c);break;case 21:Kr(s,a,c);break;case 22:Hn=(h=Hn)||c.memoizedState!==null,Kr(s,a,c),Hn=h;break;default:Kr(s,a,c)}}function xE(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{nh(s)}catch(c){_n(a,a.return,c)}}function U3(s){switch(s.tag){case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new pE),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new pE),a;default:throw Error(i(435,s.tag))}}function s0(s,a){var c=U3(s);a.forEach(function(h){var v=W3.bind(null,s,h);c.has(h)||(c.add(h),h.then(v,v))})}function rs(s,a){var c=a.deletions;if(c!==null)for(var h=0;h<c.length;h++){var v=c[h],_=s,L=a,B=L;t:for(;B!==null;){switch(B.tag){case 27:if(Oa(B.type)){wn=B.stateNode,qi=!1;break t}break;case 5:wn=B.stateNode,qi=!1;break t;case 3:case 4:wn=B.stateNode.containerInfo,qi=!0;break t}B=B.return}if(wn===null)throw Error(i(160));yE(_,L,v),wn=null,qi=!1,_=v.alternate,_!==null&&(_.return=null),v.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)_E(a,s),a=a.sibling}var Us=null;function _E(s,a){var c=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:rs(a,s),as(s),h&4&&(Ma(3,s,s.return),Fu(3,s),Ma(5,s,s.return));break;case 1:rs(a,s),as(s),h&512&&(Hn||c===null||or(c,c.return)),h&64&&Yr&&(s=s.updateQueue,s!==null&&(h=s.callbacks,h!==null&&(c=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=c===null?h:c.concat(h))));break;case 26:var v=Us;if(rs(a,s),as(s),h&512&&(Hn||c===null||or(c,c.return)),h&4){var _=c!==null?c.memoizedState:null;if(h=s.memoizedState,c===null)if(h===null)if(s.stateNode===null){t:{h=s.type,c=s.memoizedProps,v=v.ownerDocument||v;e:switch(h){case"title":_=v.getElementsByTagName("title")[0],(!_||_[$s]||_[Ln]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=v.createElement(h),v.head.insertBefore(_,v.querySelector("head > title"))),Ei(_,h,c),_[Ln]=s,Nn(_),h=_;break t;case"link":var L=mS("link","href",v).get(h+(c.href||""));if(L){for(var B=0;B<L.length;B++)if(_=L[B],_.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&_.getAttribute("rel")===(c.rel==null?null:c.rel)&&_.getAttribute("title")===(c.title==null?null:c.title)&&_.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){L.splice(B,1);break e}}_=v.createElement(h),Ei(_,h,c),v.head.appendChild(_);break;case"meta":if(L=mS("meta","content",v).get(h+(c.content||""))){for(B=0;B<L.length;B++)if(_=L[B],_.getAttribute("content")===(c.content==null?null:""+c.content)&&_.getAttribute("name")===(c.name==null?null:c.name)&&_.getAttribute("property")===(c.property==null?null:c.property)&&_.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&_.getAttribute("charset")===(c.charSet==null?null:c.charSet)){L.splice(B,1);break e}}_=v.createElement(h),Ei(_,h,c),v.head.appendChild(_);break;default:throw Error(i(468,h))}_[Ln]=s,Nn(_),h=_}s.stateNode=h}else pS(v,s.type,s.stateNode);else s.stateNode=fS(v,h,s.memoizedProps);else _!==h?(_===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):_.count--,h===null?pS(v,s.type,s.stateNode):fS(v,h,s.memoizedProps)):h===null&&s.stateNode!==null&&t0(s,s.memoizedProps,c.memoizedProps)}break;case 27:rs(a,s),as(s),h&512&&(Hn||c===null||or(c,c.return)),c!==null&&h&4&&t0(s,s.memoizedProps,c.memoizedProps);break;case 5:if(rs(a,s),as(s),h&512&&(Hn||c===null||or(c,c.return)),s.flags&32){v=s.stateNode;try{Ni(v,"")}catch(ft){_n(s,s.return,ft)}}h&4&&s.stateNode!=null&&(v=s.memoizedProps,t0(s,v,c!==null?c.memoizedProps:v)),h&1024&&(i0=!0);break;case 6:if(rs(a,s),as(s),h&4){if(s.stateNode===null)throw Error(i(162));h=s.memoizedProps,c=s.stateNode;try{c.nodeValue=h}catch(ft){_n(s,s.return,ft)}}break;case 3:if(Nf=null,v=Us,Us=Rf(a.containerInfo),rs(a,s),Us=v,as(s),h&4&&c!==null&&c.memoizedState.isDehydrated)try{nh(a.containerInfo)}catch(ft){_n(s,s.return,ft)}i0&&(i0=!1,bE(s));break;case 4:h=Us,Us=Rf(s.stateNode.containerInfo),rs(a,s),as(s),Us=h;break;case 12:rs(a,s),as(s);break;case 13:rs(a,s),as(s),s.child.flags&8192&&s.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(u0=Pe()),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,s0(s,h)));break;case 22:v=s.memoizedState!==null;var K=c!==null&&c.memoizedState!==null,ct=Yr,Tt=Hn;if(Yr=ct||v,Hn=Tt||K,rs(a,s),Hn=Tt,Yr=ct,as(s),h&8192)t:for(a=s.stateNode,a._visibility=v?a._visibility&-2:a._visibility|1,v&&(c===null||K||Yr||Hn||Uo(s)),c=null,a=s;;){if(a.tag===5||a.tag===26){if(c===null){K=c=a;try{if(_=K.stateNode,v)L=_.style,typeof L.setProperty=="function"?L.setProperty("display","none","important"):L.display="none";else{B=K.stateNode;var Nt=K.memoizedProps.style,ht=Nt!=null&&Nt.hasOwnProperty("display")?Nt.display:null;B.style.display=ht==null||typeof ht=="boolean"?"":(""+ht).trim()}}catch(ft){_n(K,K.return,ft)}}}else if(a.tag===6){if(c===null){K=a;try{K.stateNode.nodeValue=v?"":K.memoizedProps}catch(ft){_n(K,K.return,ft)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break t;for(;a.sibling===null;){if(a.return===null||a.return===s)break t;c===a&&(c=null),a=a.return}c===a&&(c=null),a.sibling.return=a.return,a=a.sibling}h&4&&(h=s.updateQueue,h!==null&&(c=h.retryQueue,c!==null&&(h.retryQueue=null,s0(s,c))));break;case 19:rs(a,s),as(s),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,s0(s,h)));break;case 30:break;case 21:break;default:rs(a,s),as(s)}}function as(s){var a=s.flags;if(a&2){try{for(var c,h=s.return;h!==null;){if(fE(h)){c=h;break}h=h.return}if(c==null)throw Error(i(160));switch(c.tag){case 27:var v=c.stateNode,_=e0(s);pf(s,_,v);break;case 5:var L=c.stateNode;c.flags&32&&(Ni(L,""),c.flags&=-33);var B=e0(s);pf(s,B,L);break;case 3:case 4:var K=c.stateNode.containerInfo,ct=e0(s);n0(s,ct,K);break;default:throw Error(i(161))}}catch(Tt){_n(s,s.return,Tt)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function bE(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;bE(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function Ra(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)gE(s,a.alternate,a),a=a.sibling}function Uo(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:Ma(4,a,a.return),Uo(a);break;case 1:or(a,a.return);var c=a.stateNode;typeof c.componentWillUnmount=="function"&&hE(a,a.return,c),Uo(a);break;case 27:Yu(a.stateNode);case 26:case 5:or(a,a.return),Uo(a);break;case 22:a.memoizedState===null&&Uo(a);break;case 30:Uo(a);break;default:Uo(a)}s=s.sibling}}function Ca(s,a,c){for(c=c&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var h=a.alternate,v=s,_=a,L=_.flags;switch(_.tag){case 0:case 11:case 15:Ca(v,_,c),Fu(4,_);break;case 1:if(Ca(v,_,c),h=_,v=h.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(ct){_n(h,h.return,ct)}if(h=_,v=h.updateQueue,v!==null){var B=h.stateNode;try{var K=v.shared.hiddenCallbacks;if(K!==null)for(v.shared.hiddenCallbacks=null,v=0;v<K.length;v++)$b(K[v],B)}catch(ct){_n(h,h.return,ct)}}c&&L&64&&uE(_),Bu(_,_.return);break;case 27:mE(_);case 26:case 5:Ca(v,_,c),c&&h===null&&L&4&&dE(_),Bu(_,_.return);break;case 12:Ca(v,_,c);break;case 13:Ca(v,_,c),c&&L&4&&xE(v,_);break;case 22:_.memoizedState===null&&Ca(v,_,c),Bu(_,_.return);break;case 30:break;default:Ca(v,_,c)}a=a.sibling}}function r0(s,a){var c=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==c&&(s!=null&&s.refCount++,c!=null&&Tu(c))}function a0(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Tu(s))}function lr(s,a,c,h){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)EE(s,a,c,h),a=a.sibling}function EE(s,a,c,h){var v=a.flags;switch(a.tag){case 0:case 11:case 15:lr(s,a,c,h),v&2048&&Fu(9,a);break;case 1:lr(s,a,c,h);break;case 3:lr(s,a,c,h),v&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Tu(s)));break;case 12:if(v&2048){lr(s,a,c,h),s=a.stateNode;try{var _=a.memoizedProps,L=_.id,B=_.onPostCommit;typeof B=="function"&&B(L,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(K){_n(a,a.return,K)}}else lr(s,a,c,h);break;case 13:lr(s,a,c,h);break;case 23:break;case 22:_=a.stateNode,L=a.alternate,a.memoizedState!==null?_._visibility&2?lr(s,a,c,h):ku(s,a):_._visibility&2?lr(s,a,c,h):(_._visibility|=2,Hl(s,a,c,h,(a.subtreeFlags&10256)!==0)),v&2048&&r0(L,a);break;case 24:lr(s,a,c,h),v&2048&&a0(a.alternate,a);break;default:lr(s,a,c,h)}}function Hl(s,a,c,h,v){for(v=v&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var _=s,L=a,B=c,K=h,ct=L.flags;switch(L.tag){case 0:case 11:case 15:Hl(_,L,B,K,v),Fu(8,L);break;case 23:break;case 22:var Tt=L.stateNode;L.memoizedState!==null?Tt._visibility&2?Hl(_,L,B,K,v):ku(_,L):(Tt._visibility|=2,Hl(_,L,B,K,v)),v&&ct&2048&&r0(L.alternate,L);break;case 24:Hl(_,L,B,K,v),v&&ct&2048&&a0(L.alternate,L);break;default:Hl(_,L,B,K,v)}a=a.sibling}}function ku(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var c=s,h=a,v=h.flags;switch(h.tag){case 22:ku(c,h),v&2048&&r0(h.alternate,h);break;case 24:ku(c,h),v&2048&&a0(h.alternate,h);break;default:ku(c,h)}a=a.sibling}}var ju=8192;function Gl(s){if(s.subtreeFlags&ju)for(s=s.child;s!==null;)SE(s),s=s.sibling}function SE(s){switch(s.tag){case 26:Gl(s),s.flags&ju&&s.memoizedState!==null&&bD(Us,s.memoizedState,s.memoizedProps);break;case 5:Gl(s);break;case 3:case 4:var a=Us;Us=Rf(s.stateNode.containerInfo),Gl(s),Us=a;break;case 22:s.memoizedState===null&&(a=s.alternate,a!==null&&a.memoizedState!==null?(a=ju,ju=16777216,Gl(s),ju=a):Gl(s));break;default:Gl(s)}}function TE(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function zu(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var h=a[c];mi=h,AE(h,s)}TE(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)wE(s),s=s.sibling}function wE(s){switch(s.tag){case 0:case 11:case 15:zu(s),s.flags&2048&&Ma(9,s,s.return);break;case 3:zu(s);break;case 12:zu(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,gf(s)):zu(s);break;default:zu(s)}}function gf(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var h=a[c];mi=h,AE(h,s)}TE(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:Ma(8,a,a.return),gf(a);break;case 22:c=a.stateNode,c._visibility&2&&(c._visibility&=-3,gf(a));break;default:gf(a)}s=s.sibling}}function AE(s,a){for(;mi!==null;){var c=mi;switch(c.tag){case 0:case 11:case 15:Ma(8,c,a);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var h=c.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Tu(c.memoizedState.cache)}if(h=c.child,h!==null)h.return=c,mi=h;else t:for(c=s;mi!==null;){h=mi;var v=h.sibling,_=h.return;if(vE(h),h===c){mi=null;break t}if(v!==null){v.return=_,mi=v;break t}mi=_}}}var V3={getCacheForType:function(s){var a=Di(ri),c=a.data.get(s);return c===void 0&&(c=s(),a.data.set(s,c)),c}},F3=typeof WeakMap=="function"?WeakMap:Map,dn=0,En=null,Be=null,Ze=0,fn=0,os=null,Na=!1,Wl=!1,o0=!1,$r=0,Fn=0,Da=0,Vo=0,l0=0,Es=0,ql=0,Hu=null,Xi=null,c0=!1,u0=0,vf=1/0,yf=null,Ia=null,bi=0,Pa=null,Xl=null,Yl=0,h0=0,d0=null,ME=null,Gu=0,f0=null;function ls(){if((dn&2)!==0&&Ze!==0)return Ze&-Ze;if(Y.T!==null){var s=Ol;return s!==0?s:_0()}return Ue()}function RE(){Es===0&&(Es=(Ze&536870912)===0||on?tt():536870912);var s=bs.current;return s!==null&&(s.flags|=32),Es}function cs(s,a,c){(s===En&&(fn===2||fn===9)||s.cancelPendingCommit!==null)&&(Kl(s,0),La(s,Ze,Es,!1)),Yt(s,c),((dn&2)===0||s!==En)&&(s===En&&((dn&2)===0&&(Vo|=c),Fn===4&&La(s,Ze,Es,!1)),cr(s))}function CE(s,a,c){if((dn&6)!==0)throw Error(i(327));var h=!c&&(a&124)===0&&(a&s.expiredLanes)===0||kt(s,a),v=h?j3(s,a):g0(s,a,!0),_=h;do{if(v===0){Wl&&!h&&La(s,a,0,!1);break}else{if(c=s.current.alternate,_&&!B3(c)){v=g0(s,a,!1),_=!1;continue}if(v===2){if(_=a,s.errorRecoveryDisabledLanes&_)var L=0;else L=s.pendingLanes&-536870913,L=L!==0?L:L&536870912?536870912:0;if(L!==0){a=L;t:{var B=s;v=Hu;var K=B.current.memoizedState.isDehydrated;if(K&&(Kl(B,L).flags|=256),L=g0(B,L,!1),L!==2){if(o0&&!K){B.errorRecoveryDisabledLanes|=_,Vo|=_,v=4;break t}_=Xi,Xi=v,_!==null&&(Xi===null?Xi=_:Xi.push.apply(Xi,_))}v=L}if(_=!1,v!==2)continue}}if(v===1){Kl(s,0),La(s,a,0,!0);break}t:{switch(h=s,_=v,_){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:La(h,a,Es,!Na);break t;case 2:Xi=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(v=u0+300-Pe(),10<v)){if(La(h,a,Es,!Na),oe(h,0,!0)!==0)break t;h.timeoutHandle=sS(NE.bind(null,h,c,Xi,yf,c0,a,Es,Vo,ql,Na,_,2,-0,0),v);break t}NE(h,c,Xi,yf,c0,a,Es,Vo,ql,Na,_,0,-0,0)}}break}while(!0);cr(s)}function NE(s,a,c,h,v,_,L,B,K,ct,Tt,Nt,ht,ft){if(s.timeoutHandle=-1,Nt=a.subtreeFlags,(Nt&8192||(Nt&16785408)===16785408)&&(Qu={stylesheets:null,count:0,unsuspend:_D},SE(a),Nt=ED(),Nt!==null)){s.cancelPendingCommit=Nt(VE.bind(null,s,a,_,c,h,v,L,B,K,Tt,1,ht,ft)),La(s,_,L,!ct);return}VE(s,a,_,c,h,v,L,B,K)}function B3(s){for(var a=s;;){var c=a.tag;if((c===0||c===11||c===15)&&a.flags&16384&&(c=a.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var h=0;h<c.length;h++){var v=c[h],_=v.getSnapshot;v=v.value;try{if(!is(_(),v))return!1}catch{return!1}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function La(s,a,c,h){a&=~l0,a&=~Vo,s.suspendedLanes|=a,s.pingedLanes&=~a,h&&(s.warmLanes|=a),h=s.expirationTimes;for(var v=a;0<v;){var _=31-qt(v),L=1<<_;h[_]=-1,v&=~L}c!==0&&At(s,c,a)}function xf(){return(dn&6)===0?(Wu(0),!1):!0}function m0(){if(Be!==null){if(fn===0)var s=Be.return;else s=Be,zr=Do=null,Dg(s),jl=null,Ou=0,s=Be;for(;s!==null;)cE(s.alternate,s),s=s.return;Be=null}}function Kl(s,a){var c=s.timeoutHandle;c!==-1&&(s.timeoutHandle=-1,iD(c)),c=s.cancelPendingCommit,c!==null&&(s.cancelPendingCommit=null,c()),m0(),En=s,Be=c=Br(s.current,null),Ze=a,fn=0,os=null,Na=!1,Wl=kt(s,a),o0=!1,ql=Es=l0=Vo=Da=Fn=0,Xi=Hu=null,c0=!1,(a&8)!==0&&(a|=a&32);var h=s.entangledLanes;if(h!==0)for(s=s.entanglements,h&=a;0<h;){var v=31-qt(h),_=1<<v;a|=s[v],h&=~_}return $r=a,kd(),c}function DE(s,a){Le=null,Y.H=af,a===Au||a===Kd?(a=Yb(),fn=3):a===Wb?(a=Yb(),fn=4):fn=a===K1?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,os=a,Be===null&&(Fn=1,hf(s,vs(a,s.current)))}function IE(){var s=Y.H;return Y.H=af,s===null?af:s}function PE(){var s=Y.A;return Y.A=V3,s}function p0(){Fn=4,Na||(Ze&4194048)!==Ze&&bs.current!==null||(Wl=!0),(Da&134217727)===0&&(Vo&134217727)===0||En===null||La(En,Ze,Es,!1)}function g0(s,a,c){var h=dn;dn|=2;var v=IE(),_=PE();(En!==s||Ze!==a)&&(yf=null,Kl(s,a)),a=!1;var L=Fn;t:do try{if(fn!==0&&Be!==null){var B=Be,K=os;switch(fn){case 8:m0(),L=6;break t;case 3:case 2:case 9:case 6:bs.current===null&&(a=!0);var ct=fn;if(fn=0,os=null,$l(s,B,K,ct),c&&Wl){L=0;break t}break;default:ct=fn,fn=0,os=null,$l(s,B,K,ct)}}k3(),L=Fn;break}catch(Tt){DE(s,Tt)}while(!0);return a&&s.shellSuspendCounter++,zr=Do=null,dn=h,Y.H=v,Y.A=_,Be===null&&(En=null,Ze=0,kd()),L}function k3(){for(;Be!==null;)LE(Be)}function j3(s,a){var c=dn;dn|=2;var h=IE(),v=PE();En!==s||Ze!==a?(yf=null,vf=Pe()+500,Kl(s,a)):Wl=kt(s,a);t:do try{if(fn!==0&&Be!==null){a=Be;var _=os;e:switch(fn){case 1:fn=0,os=null,$l(s,a,_,1);break;case 2:case 9:if(qb(_)){fn=0,os=null,OE(a);break}a=function(){fn!==2&&fn!==9||En!==s||(fn=7),cr(s)},_.then(a,a);break t;case 3:fn=7;break t;case 4:fn=5;break t;case 7:qb(_)?(fn=0,os=null,OE(a)):(fn=0,os=null,$l(s,a,_,7));break;case 5:var L=null;switch(Be.tag){case 26:L=Be.memoizedState;case 5:case 27:var B=Be;if(!L||gS(L)){fn=0,os=null;var K=B.sibling;if(K!==null)Be=K;else{var ct=B.return;ct!==null?(Be=ct,_f(ct)):Be=null}break e}}fn=0,os=null,$l(s,a,_,5);break;case 6:fn=0,os=null,$l(s,a,_,6);break;case 8:m0(),Fn=6;break t;default:throw Error(i(462))}}z3();break}catch(Tt){DE(s,Tt)}while(!0);return zr=Do=null,Y.H=h,Y.A=v,dn=c,Be!==null?0:(En=null,Ze=0,kd(),Fn)}function z3(){for(;Be!==null&&!bn();)LE(Be)}function LE(s){var a=oE(s.alternate,s,$r);s.memoizedProps=s.pendingProps,a===null?_f(s):Be=a}function OE(s){var a=s,c=a.alternate;switch(a.tag){case 15:case 0:a=eE(c,a,a.pendingProps,a.type,void 0,Ze);break;case 11:a=eE(c,a,a.pendingProps,a.type.render,a.ref,Ze);break;case 5:Dg(a);default:cE(c,a),a=Be=Ub(a,$r),a=oE(c,a,$r)}s.memoizedProps=s.pendingProps,a===null?_f(s):Be=a}function $l(s,a,c,h){zr=Do=null,Dg(a),jl=null,Ou=0;var v=a.return;try{if(D3(s,v,a,c,Ze)){Fn=1,hf(s,vs(c,s.current)),Be=null;return}}catch(_){if(v!==null)throw Be=v,_;Fn=1,hf(s,vs(c,s.current)),Be=null;return}a.flags&32768?(on||h===1?s=!0:Wl||(Ze&536870912)!==0?s=!1:(Na=s=!0,(h===2||h===9||h===3||h===6)&&(h=bs.current,h!==null&&h.tag===13&&(h.flags|=16384))),UE(a,s)):_f(a)}function _f(s){var a=s;do{if((a.flags&32768)!==0){UE(a,Na);return}s=a.return;var c=P3(a.alternate,a,$r);if(c!==null){Be=c;return}if(a=a.sibling,a!==null){Be=a;return}Be=a=s}while(a!==null);Fn===0&&(Fn=5)}function UE(s,a){do{var c=L3(s.alternate,s);if(c!==null){c.flags&=32767,Be=c;return}if(c=s.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!a&&(s=s.sibling,s!==null)){Be=s;return}Be=s=c}while(s!==null);Fn=6,Be=null}function VE(s,a,c,h,v,_,L,B,K){s.cancelPendingCommit=null;do bf();while(bi!==0);if((dn&6)!==0)throw Error(i(327));if(a!==null){if(a===s.current)throw Error(i(177));if(_=a.lanes|a.childLanes,_|=ag,Ut(s,c,_,L,B,K),s===En&&(Be=En=null,Ze=0),Xl=a,Pa=s,Yl=c,h0=_,d0=v,ME=h,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,q3(_e,function(){return zE(),null})):(s.callbackNode=null,s.callbackPriority=0),h=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||h){h=Y.T,Y.T=null,v=Z.p,Z.p=2,L=dn,dn|=4;try{O3(s,a,c)}finally{dn=L,Z.p=v,Y.T=h}}bi=1,FE(),BE(),kE()}}function FE(){if(bi===1){bi=0;var s=Pa,a=Xl,c=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||c){c=Y.T,Y.T=null;var h=Z.p;Z.p=2;var v=dn;dn|=4;try{_E(a,s);var _=R0,L=Ab(s.containerInfo),B=_.focusedElem,K=_.selectionRange;if(L!==B&&B&&B.ownerDocument&&wb(B.ownerDocument.documentElement,B)){if(K!==null&&eg(B)){var ct=K.start,Tt=K.end;if(Tt===void 0&&(Tt=ct),"selectionStart"in B)B.selectionStart=ct,B.selectionEnd=Math.min(Tt,B.value.length);else{var Nt=B.ownerDocument||document,ht=Nt&&Nt.defaultView||window;if(ht.getSelection){var ft=ht.getSelection(),be=B.textContent.length,pe=Math.min(K.start,be),vn=K.end===void 0?pe:Math.min(K.end,be);!ft.extend&&pe>vn&&(L=vn,vn=pe,pe=L);var nt=Tb(B,pe),J=Tb(B,vn);if(nt&&J&&(ft.rangeCount!==1||ft.anchorNode!==nt.node||ft.anchorOffset!==nt.offset||ft.focusNode!==J.node||ft.focusOffset!==J.offset)){var ot=Nt.createRange();ot.setStart(nt.node,nt.offset),ft.removeAllRanges(),pe>vn?(ft.addRange(ot),ft.extend(J.node,J.offset)):(ot.setEnd(J.node,J.offset),ft.addRange(ot))}}}}for(Nt=[],ft=B;ft=ft.parentNode;)ft.nodeType===1&&Nt.push({element:ft,left:ft.scrollLeft,top:ft.scrollTop});for(typeof B.focus=="function"&&B.focus(),B=0;B<Nt.length;B++){var Mt=Nt[B];Mt.element.scrollLeft=Mt.left,Mt.element.scrollTop=Mt.top}}Pf=!!M0,R0=M0=null}finally{dn=v,Z.p=h,Y.T=c}}s.current=a,bi=2}}function BE(){if(bi===2){bi=0;var s=Pa,a=Xl,c=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||c){c=Y.T,Y.T=null;var h=Z.p;Z.p=2;var v=dn;dn|=4;try{gE(s,a.alternate,a)}finally{dn=v,Z.p=h,Y.T=c}}bi=3}}function kE(){if(bi===4||bi===3){bi=0,je();var s=Pa,a=Xl,c=Yl,h=ME;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?bi=5:(bi=0,Xl=Pa=null,jE(s,s.pendingLanes));var v=s.pendingLanes;if(v===0&&(Ia=null),nn(c),a=a.stateNode,bt&&typeof bt.onCommitFiberRoot=="function")try{bt.onCommitFiberRoot(xt,a,void 0,(a.current.flags&128)===128)}catch{}if(h!==null){a=Y.T,v=Z.p,Z.p=2,Y.T=null;try{for(var _=s.onRecoverableError,L=0;L<h.length;L++){var B=h[L];_(B.value,{componentStack:B.stack})}}finally{Y.T=a,Z.p=v}}(Yl&3)!==0&&bf(),cr(s),v=s.pendingLanes,(c&4194090)!==0&&(v&42)!==0?s===f0?Gu++:(Gu=0,f0=s):Gu=0,Wu(0)}}function jE(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,Tu(a)))}function bf(s){return FE(),BE(),kE(),zE()}function zE(){if(bi!==5)return!1;var s=Pa,a=h0;h0=0;var c=nn(Yl),h=Y.T,v=Z.p;try{Z.p=32>c?32:c,Y.T=null,c=d0,d0=null;var _=Pa,L=Yl;if(bi=0,Xl=Pa=null,Yl=0,(dn&6)!==0)throw Error(i(331));var B=dn;if(dn|=4,wE(_.current),EE(_,_.current,L,c),dn=B,Wu(0,!1),bt&&typeof bt.onPostCommitFiberRoot=="function")try{bt.onPostCommitFiberRoot(xt,_)}catch{}return!0}finally{Z.p=v,Y.T=h,jE(s,a)}}function HE(s,a,c){a=vs(c,a),a=Wg(s.stateNode,a,2),s=Sa(s,a,2),s!==null&&(Yt(s,2),cr(s))}function _n(s,a,c){if(s.tag===3)HE(s,s,c);else for(;a!==null;){if(a.tag===3){HE(a,s,c);break}else if(a.tag===1){var h=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Ia===null||!Ia.has(h))){s=vs(c,s),c=X1(2),h=Sa(a,c,2),h!==null&&(Y1(c,h,a,s),Yt(h,2),cr(h));break}}a=a.return}}function v0(s,a,c){var h=s.pingCache;if(h===null){h=s.pingCache=new F3;var v=new Set;h.set(a,v)}else v=h.get(a),v===void 0&&(v=new Set,h.set(a,v));v.has(c)||(o0=!0,v.add(c),s=H3.bind(null,s,a,c),a.then(s,s))}function H3(s,a,c){var h=s.pingCache;h!==null&&h.delete(a),s.pingedLanes|=s.suspendedLanes&c,s.warmLanes&=~c,En===s&&(Ze&c)===c&&(Fn===4||Fn===3&&(Ze&62914560)===Ze&&300>Pe()-u0?(dn&2)===0&&Kl(s,0):l0|=c,ql===Ze&&(ql=0)),cr(s)}function GE(s,a){a===0&&(a=Gt()),s=Dl(s,a),s!==null&&(Yt(s,a),cr(s))}function G3(s){var a=s.memoizedState,c=0;a!==null&&(c=a.retryLane),GE(s,c)}function W3(s,a){var c=0;switch(s.tag){case 13:var h=s.stateNode,v=s.memoizedState;v!==null&&(c=v.retryLane);break;case 19:h=s.stateNode;break;case 22:h=s.stateNode._retryCache;break;default:throw Error(i(314))}h!==null&&h.delete(a),GE(s,c)}function q3(s,a){return ge(s,a)}var Ef=null,Ql=null,y0=!1,Sf=!1,x0=!1,Fo=0;function cr(s){s!==Ql&&s.next===null&&(Ql===null?Ef=Ql=s:Ql=Ql.next=s),Sf=!0,y0||(y0=!0,Y3())}function Wu(s,a){if(!x0&&Sf){x0=!0;do for(var c=!1,h=Ef;h!==null;){if(s!==0){var v=h.pendingLanes;if(v===0)var _=0;else{var L=h.suspendedLanes,B=h.pingedLanes;_=(1<<31-qt(42|s)+1)-1,_&=v&~(L&~B),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(c=!0,YE(h,_))}else _=Ze,_=oe(h,h===En?_:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(_&3)===0||kt(h,_)||(c=!0,YE(h,_));h=h.next}while(c);x0=!1}}function X3(){WE()}function WE(){Sf=y0=!1;var s=0;Fo!==0&&(nD()&&(s=Fo),Fo=0);for(var a=Pe(),c=null,h=Ef;h!==null;){var v=h.next,_=qE(h,a);_===0?(h.next=null,c===null?Ef=v:c.next=v,v===null&&(Ql=c)):(c=h,(s!==0||(_&3)!==0)&&(Sf=!0)),h=v}Wu(s)}function qE(s,a){for(var c=s.suspendedLanes,h=s.pingedLanes,v=s.expirationTimes,_=s.pendingLanes&-62914561;0<_;){var L=31-qt(_),B=1<<L,K=v[L];K===-1?((B&c)===0||(B&h)!==0)&&(v[L]=ve(B,a)):K<=a&&(s.expiredLanes|=B),_&=~B}if(a=En,c=Ze,c=oe(s,s===a?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h=s.callbackNode,c===0||s===a&&(fn===2||fn===9)||s.cancelPendingCommit!==null)return h!==null&&h!==null&&$(h),s.callbackNode=null,s.callbackPriority=0;if((c&3)===0||kt(s,c)){if(a=c&-c,a===s.callbackPriority)return a;switch(h!==null&&$(h),nn(c)){case 2:case 8:c=ae;break;case 32:c=_e;break;case 268435456:c=X;break;default:c=_e}return h=XE.bind(null,s),c=ge(c,h),s.callbackPriority=a,s.callbackNode=c,a}return h!==null&&h!==null&&$(h),s.callbackPriority=2,s.callbackNode=null,2}function XE(s,a){if(bi!==0&&bi!==5)return s.callbackNode=null,s.callbackPriority=0,null;var c=s.callbackNode;if(bf()&&s.callbackNode!==c)return null;var h=Ze;return h=oe(s,s===En?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h===0?null:(CE(s,h,a),qE(s,Pe()),s.callbackNode!=null&&s.callbackNode===c?XE.bind(null,s):null)}function YE(s,a){if(bf())return null;CE(s,a,!0)}function Y3(){sD(function(){(dn&6)!==0?ge(Oe,X3):WE()})}function _0(){return Fo===0&&(Fo=tt()),Fo}function KE(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:xl(""+s)}function $E(s,a){var c=a.ownerDocument.createElement("input");return c.name=a.name,c.value=a.value,s.id&&c.setAttribute("form",s.id),a.parentNode.insertBefore(c,a),s=new FormData(s),c.parentNode.removeChild(c),s}function K3(s,a,c,h,v){if(a==="submit"&&c&&c.stateNode===v){var _=KE((v[Cn]||null).action),L=h.submitter;L&&(a=(a=L[Cn]||null)?KE(a.formAction):L.getAttribute("formAction"),a!==null&&(_=a,L=null));var B=new _l("action","action",null,h,v);s.push({event:B,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Fo!==0){var K=L?$E(v,L):new FormData(v);kg(c,{pending:!0,data:K,method:v.method,action:_},null,K)}}else typeof _=="function"&&(B.preventDefault(),K=L?$E(v,L):new FormData(v),kg(c,{pending:!0,data:K,method:v.method,action:_},_,K))},currentTarget:v}]})}}for(var b0=0;b0<rg.length;b0++){var E0=rg[b0],$3=E0.toLowerCase(),Q3=E0[0].toUpperCase()+E0.slice(1);Os($3,"on"+Q3)}Os(Cb,"onAnimationEnd"),Os(Nb,"onAnimationIteration"),Os(Db,"onAnimationStart"),Os("dblclick","onDoubleClick"),Os("focusin","onFocus"),Os("focusout","onBlur"),Os(m3,"onTransitionRun"),Os(p3,"onTransitionStart"),Os(g3,"onTransitionCancel"),Os(Ib,"onTransitionEnd"),k("onMouseEnter",["mouseout","mouseover"]),k("onMouseLeave",["mouseout","mouseover"]),k("onPointerEnter",["pointerout","pointerover"]),k("onPointerLeave",["pointerout","pointerover"]),ns("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ns("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ns("onBeforeInput",["compositionend","keypress","textInput","paste"]),ns("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ns("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ns("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Z3=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(qu));function QE(s,a){a=(a&4)!==0;for(var c=0;c<s.length;c++){var h=s[c],v=h.event;h=h.listeners;t:{var _=void 0;if(a)for(var L=h.length-1;0<=L;L--){var B=h[L],K=B.instance,ct=B.currentTarget;if(B=B.listener,K!==_&&v.isPropagationStopped())break t;_=B,v.currentTarget=ct;try{_(v)}catch(Tt){uf(Tt)}v.currentTarget=null,_=K}else for(L=0;L<h.length;L++){if(B=h[L],K=B.instance,ct=B.currentTarget,B=B.listener,K!==_&&v.isPropagationStopped())break t;_=B,v.currentTarget=ct;try{_(v)}catch(Tt){uf(Tt)}v.currentTarget=null,_=K}}}}function ke(s,a){var c=a[Dr];c===void 0&&(c=a[Dr]=new Set);var h=s+"__bubble";c.has(h)||(ZE(a,s,2,!1),c.add(h))}function S0(s,a,c){var h=0;a&&(h|=4),ZE(c,s,h,a)}var Tf="_reactListening"+Math.random().toString(36).slice(2);function T0(s){if(!s[Tf]){s[Tf]=!0,go.forEach(function(c){c!=="selectionchange"&&(Z3.has(c)||S0(c,!1,s),S0(c,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Tf]||(a[Tf]=!0,S0("selectionchange",!1,a))}}function ZE(s,a,c,h){switch(ES(a)){case 2:var v=wD;break;case 8:v=AD;break;default:v=F0}c=v.bind(null,a,c,s),v=void 0,!ps||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(v=!0),h?v!==void 0?s.addEventListener(a,c,{capture:!0,passive:v}):s.addEventListener(a,c,!0):v!==void 0?s.addEventListener(a,c,{passive:v}):s.addEventListener(a,c,!1)}function w0(s,a,c,h,v){var _=h;if((a&1)===0&&(a&2)===0&&h!==null)t:for(;;){if(h===null)return;var L=h.tag;if(L===3||L===4){var B=h.stateNode.containerInfo;if(B===v)break;if(L===4)for(L=h.return;L!==null;){var K=L.tag;if((K===3||K===4)&&L.stateNode.containerInfo===v)return;L=L.return}for(;B!==null;){if(L=ds(B),L===null)return;if(K=L.tag,K===5||K===6||K===26||K===27){h=_=L;continue t}B=B.parentNode}}h=h.return}wd(function(){var ct=_,Tt=ms(c),Nt=[];t:{var ht=Pb.get(s);if(ht!==void 0){var ft=_l,be=s;switch(s){case"keypress":if(tr(c)===0)break t;case"keydown":case"keyup":ft=Al;break;case"focusin":be="focus",ft=Sl;break;case"focusout":be="blur",ft=Sl;break;case"beforeblur":case"afterblur":ft=Sl;break;case"click":if(c.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ft=gs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ft=Qp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ft=Pd;break;case Cb:case Nb:case Db:ft=Tl;break;case Ib:ft=Od;break;case"scroll":case"scrollend":ft=Ad;break;case"wheel":ft=Ml;break;case"copy":case"cut":case"paste":ft=wl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ft=gu;break;case"toggle":case"beforetoggle":ft=Vd}var pe=(a&4)!==0,vn=!pe&&(s==="scroll"||s==="scrollend"),nt=pe?ht!==null?ht+"Capture":null:ht;pe=[];for(var J=ct,ot;J!==null;){var Mt=J;if(ot=Mt.stateNode,Mt=Mt.tag,Mt!==5&&Mt!==26&&Mt!==27||ot===null||nt===null||(Mt=vo(J,nt),Mt!=null&&pe.push(Xu(J,Mt,ot))),vn)break;J=J.return}0<pe.length&&(ht=new ft(ht,be,null,c,Tt),Nt.push({event:ht,listeners:pe}))}}if((a&7)===0){t:{if(ht=s==="mouseover"||s==="pointerover",ft=s==="mouseout"||s==="pointerout",ht&&c!==Pr&&(be=c.relatedTarget||c.fromElement)&&(ds(be)||be[Yn]))break t;if((ft||ht)&&(ht=Tt.window===Tt?Tt:(ht=Tt.ownerDocument)?ht.defaultView||ht.parentWindow:window,ft?(be=c.relatedTarget||c.toElement,ft=ct,be=be?ds(be):null,be!==null&&(vn=o(be),pe=be.tag,be!==vn||pe!==5&&pe!==27&&pe!==6)&&(be=null)):(ft=null,be=ct),ft!==be)){if(pe=gs,Mt="onMouseLeave",nt="onMouseEnter",J="mouse",(s==="pointerout"||s==="pointerover")&&(pe=gu,Mt="onPointerLeave",nt="onPointerEnter",J="pointer"),vn=ft==null?ht:fs(ft),ot=be==null?ht:fs(be),ht=new pe(Mt,J+"leave",ft,c,Tt),ht.target=vn,ht.relatedTarget=ot,Mt=null,ds(Tt)===ct&&(pe=new pe(nt,J+"enter",be,c,Tt),pe.target=ot,pe.relatedTarget=vn,Mt=pe),vn=Mt,ft&&be)e:{for(pe=ft,nt=be,J=0,ot=pe;ot;ot=Zl(ot))J++;for(ot=0,Mt=nt;Mt;Mt=Zl(Mt))ot++;for(;0<J-ot;)pe=Zl(pe),J--;for(;0<ot-J;)nt=Zl(nt),ot--;for(;J--;){if(pe===nt||nt!==null&&pe===nt.alternate)break e;pe=Zl(pe),nt=Zl(nt)}pe=null}else pe=null;ft!==null&&JE(Nt,ht,ft,pe,!1),be!==null&&vn!==null&&JE(Nt,vn,be,pe,!0)}}t:{if(ht=ct?fs(ct):window,ft=ht.nodeName&&ht.nodeName.toLowerCase(),ft==="select"||ft==="input"&&ht.type==="file")var Jt=yb;else if(si(ht))if(xb)Jt=h3;else{Jt=c3;var Fe=l3}else ft=ht.nodeName,!ft||ft.toLowerCase()!=="input"||ht.type!=="checkbox"&&ht.type!=="radio"?ct&&cu(ct.elementType)&&(Jt=yb):Jt=u3;if(Jt&&(Jt=Jt(s,ct))){Fr(Nt,Jt,c,Tt);break t}Fe&&Fe(s,ht,ct),s==="focusout"&&ct&&ht.type==="number"&&ct.memoizedProps.value!=null&&jn(ht,"number",ht.value)}switch(Fe=ct?fs(ct):window,s){case"focusin":(si(Fe)||Fe.contentEditable==="true")&&(Rl=Fe,ng=ct,xu=null);break;case"focusout":xu=ng=Rl=null;break;case"mousedown":ig=!0;break;case"contextmenu":case"mouseup":case"dragend":ig=!1,Mb(Nt,c,Tt);break;case"selectionchange":if(f3)break;case"keydown":case"keyup":Mb(Nt,c,Tt)}var le;if(ir)t:{switch(s){case"compositionstart":var ye="onCompositionStart";break t;case"compositionend":ye="onCompositionEnd";break t;case"compositionupdate":ye="onCompositionUpdate";break t}ye=void 0}else $e?vt(s,c)&&(ye="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(ye="onCompositionStart");ye&&(I&&c.locale!=="ko"&&($e||ye!=="onCompositionStart"?ye==="onCompositionEnd"&&$e&&(le=hu()):(Js=Tt,xa="value"in Js?Js.value:Js.textContent,$e=!0)),Fe=wf(ct,ye),0<Fe.length&&(ye=new mu(ye,s,null,c,Tt),Nt.push({event:ye,listeners:Fe}),le?ye.data=le:(le=Bt(c),le!==null&&(ye.data=le)))),(le=A?ii(s,c):Qe(s,c))&&(ye=wf(ct,"onBeforeInput"),0<ye.length&&(Fe=new mu("onBeforeInput","beforeinput",null,c,Tt),Nt.push({event:Fe,listeners:ye}),Fe.data=le)),K3(Nt,s,ct,c,Tt)}QE(Nt,a)})}function Xu(s,a,c){return{instance:s,listener:a,currentTarget:c}}function wf(s,a){for(var c=a+"Capture",h=[];s!==null;){var v=s,_=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||_===null||(v=vo(s,c),v!=null&&h.unshift(Xu(s,v,_)),v=vo(s,a),v!=null&&h.push(Xu(s,v,_))),s.tag===3)return h;s=s.return}return[]}function Zl(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function JE(s,a,c,h,v){for(var _=a._reactName,L=[];c!==null&&c!==h;){var B=c,K=B.alternate,ct=B.stateNode;if(B=B.tag,K!==null&&K===h)break;B!==5&&B!==26&&B!==27||ct===null||(K=ct,v?(ct=vo(c,_),ct!=null&&L.unshift(Xu(c,ct,K))):v||(ct=vo(c,_),ct!=null&&L.push(Xu(c,ct,K)))),c=c.return}L.length!==0&&s.push({event:a,listeners:L})}var J3=/\r\n?/g,tD=/\u0000|\uFFFD/g;function tS(s){return(typeof s=="string"?s:""+s).replace(J3,`
`).replace(tD,"")}function eS(s,a){return a=tS(a),tS(s)===a}function Af(){}function gn(s,a,c,h,v,_){switch(c){case"children":typeof h=="string"?a==="body"||a==="textarea"&&h===""||Ni(s,h):(typeof h=="number"||typeof h=="bigint")&&a!=="body"&&Ni(s,""+h);break;case"className":jt(s,"class",h);break;case"tabIndex":jt(s,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":jt(s,c,h);break;case"style":lu(s,h,_);break;case"data":if(a!=="object"){jt(s,"data",h);break}case"src":case"href":if(h===""&&(a!=="a"||c!=="href")){s.removeAttribute(c);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(c);break}h=xl(""+h),s.setAttribute(c,h);break;case"action":case"formAction":if(typeof h=="function"){s.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(c==="formAction"?(a!=="input"&&gn(s,a,"name",v.name,v,null),gn(s,a,"formEncType",v.formEncType,v,null),gn(s,a,"formMethod",v.formMethod,v,null),gn(s,a,"formTarget",v.formTarget,v,null)):(gn(s,a,"encType",v.encType,v,null),gn(s,a,"method",v.method,v,null),gn(s,a,"target",v.target,v,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(c);break}h=xl(""+h),s.setAttribute(c,h);break;case"onClick":h!=null&&(s.onclick=Af);break;case"onScroll":h!=null&&ke("scroll",s);break;case"onScrollEnd":h!=null&&ke("scrollend",s);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(i(61));if(c=h.__html,c!=null){if(v.children!=null)throw Error(i(60));s.innerHTML=c}}break;case"multiple":s.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":s.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){s.removeAttribute("xlink:href");break}c=xl(""+h),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(c,""+h):s.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(c,""):s.removeAttribute(c);break;case"capture":case"download":h===!0?s.setAttribute(c,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(c,h):s.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?s.setAttribute(c,h):s.removeAttribute(c);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?s.removeAttribute(c):s.setAttribute(c,h);break;case"popover":ke("beforetoggle",s),ke("toggle",s),Ot(s,"popover",h);break;case"xlinkActuate":Ht(s,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Ht(s,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Ht(s,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Ht(s,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Ht(s,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Ht(s,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Ht(s,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Ht(s,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Ht(s,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Ot(s,"is",h);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=Kp.get(c)||c,Ot(s,c,h))}}function A0(s,a,c,h,v,_){switch(c){case"style":lu(s,h,_);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(i(61));if(c=h.__html,c!=null){if(v.children!=null)throw Error(i(60));s.innerHTML=c}}break;case"children":typeof h=="string"?Ni(s,h):(typeof h=="number"||typeof h=="bigint")&&Ni(s,""+h);break;case"onScroll":h!=null&&ke("scroll",s);break;case"onScrollEnd":h!=null&&ke("scrollend",s);break;case"onClick":h!=null&&(s.onclick=Af);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ya.hasOwnProperty(c))t:{if(c[0]==="o"&&c[1]==="n"&&(v=c.endsWith("Capture"),a=c.slice(2,v?c.length-7:void 0),_=s[Cn]||null,_=_!=null?_[c]:null,typeof _=="function"&&s.removeEventListener(a,_,v),typeof h=="function")){typeof _!="function"&&_!==null&&(c in s?s[c]=null:s.hasAttribute(c)&&s.removeAttribute(c)),s.addEventListener(a,h,v);break t}c in s?s[c]=h:h===!0?s.setAttribute(c,""):Ot(s,c,h)}}}function Ei(s,a,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",s),ke("load",s);var h=!1,v=!1,_;for(_ in c)if(c.hasOwnProperty(_)){var L=c[_];if(L!=null)switch(_){case"src":h=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:gn(s,a,_,L,c,null)}}v&&gn(s,a,"srcSet",c.srcSet,c,null),h&&gn(s,a,"src",c.src,c,null);return;case"input":ke("invalid",s);var B=_=L=v=null,K=null,ct=null;for(h in c)if(c.hasOwnProperty(h)){var Tt=c[h];if(Tt!=null)switch(h){case"name":v=Tt;break;case"type":L=Tt;break;case"checked":K=Tt;break;case"defaultChecked":ct=Tt;break;case"value":_=Tt;break;case"defaultValue":B=Tt;break;case"children":case"dangerouslySetInnerHTML":if(Tt!=null)throw Error(i(137,a));break;default:gn(s,a,h,Tt,c,null)}}sn(s,_,B,K,ct,L,v,!1),ln(s);return;case"select":ke("invalid",s),h=L=_=null;for(v in c)if(c.hasOwnProperty(v)&&(B=c[v],B!=null))switch(v){case"value":_=B;break;case"defaultValue":L=B;break;case"multiple":h=B;default:gn(s,a,v,B,c,null)}a=_,c=L,s.multiple=!!h,a!=null?On(s,!!h,a,!1):c!=null&&On(s,!!h,c,!0);return;case"textarea":ke("invalid",s),_=v=h=null;for(L in c)if(c.hasOwnProperty(L)&&(B=c[L],B!=null))switch(L){case"value":h=B;break;case"defaultValue":v=B;break;case"children":_=B;break;case"dangerouslySetInnerHTML":if(B!=null)throw Error(i(91));break;default:gn(s,a,L,B,c,null)}Un(s,h,v,_),ln(s);return;case"option":for(K in c)if(c.hasOwnProperty(K)&&(h=c[K],h!=null))switch(K){case"selected":s.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:gn(s,a,K,h,c,null)}return;case"dialog":ke("beforetoggle",s),ke("toggle",s),ke("cancel",s),ke("close",s);break;case"iframe":case"object":ke("load",s);break;case"video":case"audio":for(h=0;h<qu.length;h++)ke(qu[h],s);break;case"image":ke("error",s),ke("load",s);break;case"details":ke("toggle",s);break;case"embed":case"source":case"link":ke("error",s),ke("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ct in c)if(c.hasOwnProperty(ct)&&(h=c[ct],h!=null))switch(ct){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:gn(s,a,ct,h,c,null)}return;default:if(cu(a)){for(Tt in c)c.hasOwnProperty(Tt)&&(h=c[Tt],h!==void 0&&A0(s,a,Tt,h,c,void 0));return}}for(B in c)c.hasOwnProperty(B)&&(h=c[B],h!=null&&gn(s,a,B,h,c,null))}function eD(s,a,c,h){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,_=null,L=null,B=null,K=null,ct=null,Tt=null;for(ft in c){var Nt=c[ft];if(c.hasOwnProperty(ft)&&Nt!=null)switch(ft){case"checked":break;case"value":break;case"defaultValue":K=Nt;default:h.hasOwnProperty(ft)||gn(s,a,ft,null,h,Nt)}}for(var ht in h){var ft=h[ht];if(Nt=c[ht],h.hasOwnProperty(ht)&&(ft!=null||Nt!=null))switch(ht){case"type":_=ft;break;case"name":v=ft;break;case"checked":ct=ft;break;case"defaultChecked":Tt=ft;break;case"value":L=ft;break;case"defaultValue":B=ft;break;case"children":case"dangerouslySetInnerHTML":if(ft!=null)throw Error(i(137,a));break;default:ft!==Nt&&gn(s,a,ht,ft,h,Nt)}}ni(s,L,B,K,ct,Tt,_,v);return;case"select":ft=L=B=ht=null;for(_ in c)if(K=c[_],c.hasOwnProperty(_)&&K!=null)switch(_){case"value":break;case"multiple":ft=K;default:h.hasOwnProperty(_)||gn(s,a,_,null,h,K)}for(v in h)if(_=h[v],K=c[v],h.hasOwnProperty(v)&&(_!=null||K!=null))switch(v){case"value":ht=_;break;case"defaultValue":B=_;break;case"multiple":L=_;default:_!==K&&gn(s,a,v,_,h,K)}a=B,c=L,h=ft,ht!=null?On(s,!!c,ht,!1):!!h!=!!c&&(a!=null?On(s,!!c,a,!0):On(s,!!c,c?[]:"",!1));return;case"textarea":ft=ht=null;for(B in c)if(v=c[B],c.hasOwnProperty(B)&&v!=null&&!h.hasOwnProperty(B))switch(B){case"value":break;case"children":break;default:gn(s,a,B,null,h,v)}for(L in h)if(v=h[L],_=c[L],h.hasOwnProperty(L)&&(v!=null||_!=null))switch(L){case"value":ht=v;break;case"defaultValue":ft=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(i(91));break;default:v!==_&&gn(s,a,L,v,h,_)}Te(s,ht,ft);return;case"option":for(var be in c)if(ht=c[be],c.hasOwnProperty(be)&&ht!=null&&!h.hasOwnProperty(be))switch(be){case"selected":s.selected=!1;break;default:gn(s,a,be,null,h,ht)}for(K in h)if(ht=h[K],ft=c[K],h.hasOwnProperty(K)&&ht!==ft&&(ht!=null||ft!=null))switch(K){case"selected":s.selected=ht&&typeof ht!="function"&&typeof ht!="symbol";break;default:gn(s,a,K,ht,h,ft)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pe in c)ht=c[pe],c.hasOwnProperty(pe)&&ht!=null&&!h.hasOwnProperty(pe)&&gn(s,a,pe,null,h,ht);for(ct in h)if(ht=h[ct],ft=c[ct],h.hasOwnProperty(ct)&&ht!==ft&&(ht!=null||ft!=null))switch(ct){case"children":case"dangerouslySetInnerHTML":if(ht!=null)throw Error(i(137,a));break;default:gn(s,a,ct,ht,h,ft)}return;default:if(cu(a)){for(var vn in c)ht=c[vn],c.hasOwnProperty(vn)&&ht!==void 0&&!h.hasOwnProperty(vn)&&A0(s,a,vn,void 0,h,ht);for(Tt in h)ht=h[Tt],ft=c[Tt],!h.hasOwnProperty(Tt)||ht===ft||ht===void 0&&ft===void 0||A0(s,a,Tt,ht,h,ft);return}}for(var nt in c)ht=c[nt],c.hasOwnProperty(nt)&&ht!=null&&!h.hasOwnProperty(nt)&&gn(s,a,nt,null,h,ht);for(Nt in h)ht=h[Nt],ft=c[Nt],!h.hasOwnProperty(Nt)||ht===ft||ht==null&&ft==null||gn(s,a,Nt,ht,h,ft)}var M0=null,R0=null;function Mf(s){return s.nodeType===9?s:s.ownerDocument}function nS(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function iS(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function C0(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var N0=null;function nD(){var s=window.event;return s&&s.type==="popstate"?s===N0?!1:(N0=s,!0):(N0=null,!1)}var sS=typeof setTimeout=="function"?setTimeout:void 0,iD=typeof clearTimeout=="function"?clearTimeout:void 0,rS=typeof Promise=="function"?Promise:void 0,sD=typeof queueMicrotask=="function"?queueMicrotask:typeof rS<"u"?function(s){return rS.resolve(null).then(s).catch(rD)}:sS;function rD(s){setTimeout(function(){throw s})}function Oa(s){return s==="head"}function aS(s,a){var c=a,h=0,v=0;do{var _=c.nextSibling;if(s.removeChild(c),_&&_.nodeType===8)if(c=_.data,c==="/$"){if(0<h&&8>h){c=h;var L=s.ownerDocument;if(c&1&&Yu(L.documentElement),c&2&&Yu(L.body),c&4)for(c=L.head,Yu(c),L=c.firstChild;L;){var B=L.nextSibling,K=L.nodeName;L[$s]||K==="SCRIPT"||K==="STYLE"||K==="LINK"&&L.rel.toLowerCase()==="stylesheet"||c.removeChild(L),L=B}}if(v===0){s.removeChild(_),nh(a);return}v--}else c==="$"||c==="$?"||c==="$!"?v++:h=c.charCodeAt(0)-48;else h=0;c=_}while(c);nh(a)}function D0(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var c=a;switch(a=a.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":D0(c),ts(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}s.removeChild(c)}}function aD(s,a,c,h){for(;s.nodeType===1;){var v=c;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!h&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(h){if(!s[$s])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(_=s.getAttribute("rel"),_==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(_!==v.rel||s.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||s.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||s.getAttribute("title")!==(v.title==null?null:v.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(_=s.getAttribute("src"),(_!==(v.src==null?null:v.src)||s.getAttribute("type")!==(v.type==null?null:v.type)||s.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&_&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var _=v.name==null?null:""+v.name;if(v.type==="hidden"&&s.getAttribute("name")===_)return s}else return s;if(s=Vs(s.nextSibling),s===null)break}return null}function oD(s,a,c){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!c||(s=Vs(s.nextSibling),s===null))return null;return s}function I0(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function lD(s,a){var c=s.ownerDocument;if(s.data!=="$?"||c.readyState==="complete")a();else{var h=function(){a(),c.removeEventListener("DOMContentLoaded",h)};c.addEventListener("DOMContentLoaded",h),s._reactRetry=h}}function Vs(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return s}var P0=null;function oS(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return s;a--}else c==="/$"&&a++}s=s.previousSibling}return null}function lS(s,a,c){switch(a=Mf(c),s){case"html":if(s=a.documentElement,!s)throw Error(i(452));return s;case"head":if(s=a.head,!s)throw Error(i(453));return s;case"body":if(s=a.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function Yu(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);ts(s)}var Ss=new Map,cS=new Set;function Rf(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Qr=Z.d;Z.d={f:cD,r:uD,D:hD,C:dD,L:fD,m:mD,X:gD,S:pD,M:vD};function cD(){var s=Qr.f(),a=xf();return s||a}function uD(s){var a=es(s);a!==null&&a.tag===5&&a.type==="form"?C1(a):Qr.r(s)}var Jl=typeof document>"u"?null:document;function uS(s,a,c){var h=Jl;if(h&&typeof a=="string"&&a){var v=Ke(a);v='link[rel="'+s+'"][href="'+v+'"]',typeof c=="string"&&(v+='[crossorigin="'+c+'"]'),cS.has(v)||(cS.add(v),s={rel:s,crossOrigin:c,href:a},h.querySelector(v)===null&&(a=h.createElement("link"),Ei(a,"link",s),Nn(a),h.head.appendChild(a)))}}function hD(s){Qr.D(s),uS("dns-prefetch",s,null)}function dD(s,a){Qr.C(s,a),uS("preconnect",s,a)}function fD(s,a,c){Qr.L(s,a,c);var h=Jl;if(h&&s&&a){var v='link[rel="preload"][as="'+Ke(a)+'"]';a==="image"&&c&&c.imageSrcSet?(v+='[imagesrcset="'+Ke(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(v+='[imagesizes="'+Ke(c.imageSizes)+'"]')):v+='[href="'+Ke(s)+'"]';var _=v;switch(a){case"style":_=tc(s);break;case"script":_=ec(s)}Ss.has(_)||(s=g({rel:"preload",href:a==="image"&&c&&c.imageSrcSet?void 0:s,as:a},c),Ss.set(_,s),h.querySelector(v)!==null||a==="style"&&h.querySelector(Ku(_))||a==="script"&&h.querySelector($u(_))||(a=h.createElement("link"),Ei(a,"link",s),Nn(a),h.head.appendChild(a)))}}function mD(s,a){Qr.m(s,a);var c=Jl;if(c&&s){var h=a&&typeof a.as=="string"?a.as:"script",v='link[rel="modulepreload"][as="'+Ke(h)+'"][href="'+Ke(s)+'"]',_=v;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=ec(s)}if(!Ss.has(_)&&(s=g({rel:"modulepreload",href:s},a),Ss.set(_,s),c.querySelector(v)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector($u(_)))return}h=c.createElement("link"),Ei(h,"link",s),Nn(h),c.head.appendChild(h)}}}function pD(s,a,c){Qr.S(s,a,c);var h=Jl;if(h&&s){var v=yi(h).hoistableStyles,_=tc(s);a=a||"default";var L=v.get(_);if(!L){var B={loading:0,preload:null};if(L=h.querySelector(Ku(_)))B.loading=5;else{s=g({rel:"stylesheet",href:s,"data-precedence":a},c),(c=Ss.get(_))&&L0(s,c);var K=L=h.createElement("link");Nn(K),Ei(K,"link",s),K._p=new Promise(function(ct,Tt){K.onload=ct,K.onerror=Tt}),K.addEventListener("load",function(){B.loading|=1}),K.addEventListener("error",function(){B.loading|=2}),B.loading|=4,Cf(L,a,h)}L={type:"stylesheet",instance:L,count:1,state:B},v.set(_,L)}}}function gD(s,a){Qr.X(s,a);var c=Jl;if(c&&s){var h=yi(c).hoistableScripts,v=ec(s),_=h.get(v);_||(_=c.querySelector($u(v)),_||(s=g({src:s,async:!0},a),(a=Ss.get(v))&&O0(s,a),_=c.createElement("script"),Nn(_),Ei(_,"link",s),c.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},h.set(v,_))}}function vD(s,a){Qr.M(s,a);var c=Jl;if(c&&s){var h=yi(c).hoistableScripts,v=ec(s),_=h.get(v);_||(_=c.querySelector($u(v)),_||(s=g({src:s,async:!0,type:"module"},a),(a=Ss.get(v))&&O0(s,a),_=c.createElement("script"),Nn(_),Ei(_,"link",s),c.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},h.set(v,_))}}function hS(s,a,c,h){var v=(v=Ct.current)?Rf(v):null;if(!v)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(a=tc(c.href),c=yi(v).hoistableStyles,h=c.get(a),h||(h={type:"style",instance:null,count:0,state:null},c.set(a,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){s=tc(c.href);var _=yi(v).hoistableStyles,L=_.get(s);if(L||(v=v.ownerDocument||v,L={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(s,L),(_=v.querySelector(Ku(s)))&&!_._p&&(L.instance=_,L.state.loading=5),Ss.has(s)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Ss.set(s,c),_||yD(v,s,c,L.state))),a&&h===null)throw Error(i(528,""));return L}if(a&&h!==null)throw Error(i(529,""));return null;case"script":return a=c.async,c=c.src,typeof c=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=ec(c),c=yi(v).hoistableScripts,h=c.get(a),h||(h={type:"script",instance:null,count:0,state:null},c.set(a,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function tc(s){return'href="'+Ke(s)+'"'}function Ku(s){return'link[rel="stylesheet"]['+s+"]"}function dS(s){return g({},s,{"data-precedence":s.precedence,precedence:null})}function yD(s,a,c,h){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?h.loading=1:(a=s.createElement("link"),h.preload=a,a.addEventListener("load",function(){return h.loading|=1}),a.addEventListener("error",function(){return h.loading|=2}),Ei(a,"link",c),Nn(a),s.head.appendChild(a))}function ec(s){return'[src="'+Ke(s)+'"]'}function $u(s){return"script[async]"+s}function fS(s,a,c){if(a.count++,a.instance===null)switch(a.type){case"style":var h=s.querySelector('style[data-href~="'+Ke(c.href)+'"]');if(h)return a.instance=h,Nn(h),h;var v=g({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return h=(s.ownerDocument||s).createElement("style"),Nn(h),Ei(h,"style",v),Cf(h,c.precedence,s),a.instance=h;case"stylesheet":v=tc(c.href);var _=s.querySelector(Ku(v));if(_)return a.state.loading|=4,a.instance=_,Nn(_),_;h=dS(c),(v=Ss.get(v))&&L0(h,v),_=(s.ownerDocument||s).createElement("link"),Nn(_);var L=_;return L._p=new Promise(function(B,K){L.onload=B,L.onerror=K}),Ei(_,"link",h),a.state.loading|=4,Cf(_,c.precedence,s),a.instance=_;case"script":return _=ec(c.src),(v=s.querySelector($u(_)))?(a.instance=v,Nn(v),v):(h=c,(v=Ss.get(_))&&(h=g({},c),O0(h,v)),s=s.ownerDocument||s,v=s.createElement("script"),Nn(v),Ei(v,"link",h),s.head.appendChild(v),a.instance=v);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(h=a.instance,a.state.loading|=4,Cf(h,c.precedence,s));return a.instance}function Cf(s,a,c){for(var h=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=h.length?h[h.length-1]:null,_=v,L=0;L<h.length;L++){var B=h[L];if(B.dataset.precedence===a)_=B;else if(_!==v)break}_?_.parentNode.insertBefore(s,_.nextSibling):(a=c.nodeType===9?c.head:c,a.insertBefore(s,a.firstChild))}function L0(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function O0(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var Nf=null;function mS(s,a,c){if(Nf===null){var h=new Map,v=Nf=new Map;v.set(c,h)}else v=Nf,h=v.get(c),h||(h=new Map,v.set(c,h));if(h.has(s))return h;for(h.set(s,null),c=c.getElementsByTagName(s),v=0;v<c.length;v++){var _=c[v];if(!(_[$s]||_[Ln]||s==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var L=_.getAttribute(a)||"";L=s+L;var B=h.get(L);B?B.push(_):h.set(L,[_])}}return h}function pS(s,a,c){s=s.ownerDocument||s,s.head.insertBefore(c,a==="title"?s.querySelector("head > title"):null)}function xD(s,a,c){if(c===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return s=a.disabled,typeof a.precedence=="string"&&s==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function gS(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var Qu=null;function _D(){}function bD(s,a,c){if(Qu===null)throw Error(i(475));var h=Qu;if(a.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var v=tc(c.href),_=s.querySelector(Ku(v));if(_){s=_._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(h.count++,h=Df.bind(h),s.then(h,h)),a.state.loading|=4,a.instance=_,Nn(_);return}_=s.ownerDocument||s,c=dS(c),(v=Ss.get(v))&&L0(c,v),_=_.createElement("link"),Nn(_);var L=_;L._p=new Promise(function(B,K){L.onload=B,L.onerror=K}),Ei(_,"link",c),a.instance=_}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(h.count++,a=Df.bind(h),s.addEventListener("load",a),s.addEventListener("error",a))}}function ED(){if(Qu===null)throw Error(i(475));var s=Qu;return s.stylesheets&&s.count===0&&U0(s,s.stylesheets),0<s.count?function(a){var c=setTimeout(function(){if(s.stylesheets&&U0(s,s.stylesheets),s.unsuspend){var h=s.unsuspend;s.unsuspend=null,h()}},6e4);return s.unsuspend=a,function(){s.unsuspend=null,clearTimeout(c)}}:null}function Df(){if(this.count--,this.count===0){if(this.stylesheets)U0(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var If=null;function U0(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,If=new Map,a.forEach(SD,s),If=null,Df.call(s))}function SD(s,a){if(!(a.state.loading&4)){var c=If.get(s);if(c)var h=c.get(null);else{c=new Map,If.set(s,c);for(var v=s.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<v.length;_++){var L=v[_];(L.nodeName==="LINK"||L.getAttribute("media")!=="not all")&&(c.set(L.dataset.precedence,L),h=L)}h&&c.set(null,h)}v=a.instance,L=v.getAttribute("data-precedence"),_=c.get(L)||h,_===h&&c.set(null,v),c.set(L,v),this.count++,h=Df.bind(this),v.addEventListener("load",h),v.addEventListener("error",h),_?_.parentNode.insertBefore(v,_.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(v,s.firstChild)),a.state.loading|=4}}var Zu={$$typeof:N,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function TD(s,a,c,h,v,_,L,B){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pt(0),this.hiddenUpdates=Pt(null),this.identifierPrefix=h,this.onUncaughtError=v,this.onCaughtError=_,this.onRecoverableError=L,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=B,this.incompleteTransitions=new Map}function vS(s,a,c,h,v,_,L,B,K,ct,Tt,Nt){return s=new TD(s,a,c,L,B,K,ct,Nt),a=1,_===!0&&(a|=24),_=ss(3,null,null,a),s.current=_,_.stateNode=s,a=vg(),a.refCount++,s.pooledCache=a,a.refCount++,_.memoizedState={element:h,isDehydrated:c,cache:a},bg(_),s}function yS(s){return s?(s=Il,s):Il}function xS(s,a,c,h,v,_){v=yS(v),h.context===null?h.context=v:h.pendingContext=v,h=Ea(a),h.payload={element:c},_=_===void 0?null:_,_!==null&&(h.callback=_),c=Sa(s,h,a),c!==null&&(cs(c,s,a),Ru(c,s,a))}function _S(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<a?c:a}}function V0(s,a){_S(s,a),(s=s.alternate)&&_S(s,a)}function bS(s){if(s.tag===13){var a=Dl(s,67108864);a!==null&&cs(a,s,67108864),V0(s,67108864)}}var Pf=!0;function wD(s,a,c,h){var v=Y.T;Y.T=null;var _=Z.p;try{Z.p=2,F0(s,a,c,h)}finally{Z.p=_,Y.T=v}}function AD(s,a,c,h){var v=Y.T;Y.T=null;var _=Z.p;try{Z.p=8,F0(s,a,c,h)}finally{Z.p=_,Y.T=v}}function F0(s,a,c,h){if(Pf){var v=B0(h);if(v===null)w0(s,a,h,Lf,c),SS(s,h);else if(RD(v,s,a,c,h))h.stopPropagation();else if(SS(s,h),a&4&&-1<MD.indexOf(s)){for(;v!==null;){var _=es(v);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var L=ie(_.pendingLanes);if(L!==0){var B=_;for(B.pendingLanes|=2,B.entangledLanes|=2;L;){var K=1<<31-qt(L);B.entanglements[1]|=K,L&=~K}cr(_),(dn&6)===0&&(vf=Pe()+500,Wu(0))}}break;case 13:B=Dl(_,2),B!==null&&cs(B,_,2),xf(),V0(_,2)}if(_=B0(h),_===null&&w0(s,a,h,Lf,c),_===v)break;v=_}v!==null&&h.stopPropagation()}else w0(s,a,h,null,c)}}function B0(s){return s=ms(s),k0(s)}var Lf=null;function k0(s){if(Lf=null,s=ds(s),s!==null){var a=o(s);if(a===null)s=null;else{var c=a.tag;if(c===13){if(s=l(a),s!==null)return s;s=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return Lf=s,null}function ES(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case Oe:return 2;case ae:return 8;case _e:case Rn:return 32;case X:return 268435456;default:return 32}default:return 32}}var j0=!1,Ua=null,Va=null,Fa=null,Ju=new Map,th=new Map,Ba=[],MD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function SS(s,a){switch(s){case"focusin":case"focusout":Ua=null;break;case"dragenter":case"dragleave":Va=null;break;case"mouseover":case"mouseout":Fa=null;break;case"pointerover":case"pointerout":Ju.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":th.delete(a.pointerId)}}function eh(s,a,c,h,v,_){return s===null||s.nativeEvent!==_?(s={blockedOn:a,domEventName:c,eventSystemFlags:h,nativeEvent:_,targetContainers:[v]},a!==null&&(a=es(a),a!==null&&bS(a)),s):(s.eventSystemFlags|=h,a=s.targetContainers,v!==null&&a.indexOf(v)===-1&&a.push(v),s)}function RD(s,a,c,h,v){switch(a){case"focusin":return Ua=eh(Ua,s,a,c,h,v),!0;case"dragenter":return Va=eh(Va,s,a,c,h,v),!0;case"mouseover":return Fa=eh(Fa,s,a,c,h,v),!0;case"pointerover":var _=v.pointerId;return Ju.set(_,eh(Ju.get(_)||null,s,a,c,h,v)),!0;case"gotpointercapture":return _=v.pointerId,th.set(_,eh(th.get(_)||null,s,a,c,h,v)),!0}return!1}function TS(s){var a=ds(s.target);if(a!==null){var c=o(a);if(c!==null){if(a=c.tag,a===13){if(a=l(c),a!==null){s.blockedOn=a,Ci(s.priority,function(){if(c.tag===13){var h=ls();h=fe(h);var v=Dl(c,h);v!==null&&cs(v,c,h),V0(c,h)}});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Of(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var c=B0(s.nativeEvent);if(c===null){c=s.nativeEvent;var h=new c.constructor(c.type,c);Pr=h,c.target.dispatchEvent(h),Pr=null}else return a=es(c),a!==null&&bS(a),s.blockedOn=c,!1;a.shift()}return!0}function wS(s,a,c){Of(s)&&c.delete(a)}function CD(){j0=!1,Ua!==null&&Of(Ua)&&(Ua=null),Va!==null&&Of(Va)&&(Va=null),Fa!==null&&Of(Fa)&&(Fa=null),Ju.forEach(wS),th.forEach(wS)}function Uf(s,a){s.blockedOn===a&&(s.blockedOn=null,j0||(j0=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,CD)))}var Vf=null;function AS(s){Vf!==s&&(Vf=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Vf===s&&(Vf=null);for(var a=0;a<s.length;a+=3){var c=s[a],h=s[a+1],v=s[a+2];if(typeof h!="function"){if(k0(h||c)===null)continue;break}var _=es(c);_!==null&&(s.splice(a,3),a-=3,kg(_,{pending:!0,data:v,method:c.method,action:h},h,v))}}))}function nh(s){function a(K){return Uf(K,s)}Ua!==null&&Uf(Ua,s),Va!==null&&Uf(Va,s),Fa!==null&&Uf(Fa,s),Ju.forEach(a),th.forEach(a);for(var c=0;c<Ba.length;c++){var h=Ba[c];h.blockedOn===s&&(h.blockedOn=null)}for(;0<Ba.length&&(c=Ba[0],c.blockedOn===null);)TS(c),c.blockedOn===null&&Ba.shift();if(c=(s.ownerDocument||s).$$reactFormReplay,c!=null)for(h=0;h<c.length;h+=3){var v=c[h],_=c[h+1],L=v[Cn]||null;if(typeof _=="function")L||AS(c);else if(L){var B=null;if(_&&_.hasAttribute("formAction")){if(v=_,L=_[Cn]||null)B=L.formAction;else if(k0(v)!==null)continue}else B=L.action;typeof B=="function"?c[h+1]=B:(c.splice(h,3),h-=3),AS(c)}}}function z0(s){this._internalRoot=s}Ff.prototype.render=z0.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(i(409));var c=a.current,h=ls();xS(c,h,s,a,null,null)},Ff.prototype.unmount=z0.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;xS(s.current,2,null,s,null,null),xf(),a[Yn]=null}};function Ff(s){this._internalRoot=s}Ff.prototype.unstable_scheduleHydration=function(s){if(s){var a=Ue();s={blockedOn:null,target:s,priority:a};for(var c=0;c<Ba.length&&a!==0&&a<Ba[c].priority;c++);Ba.splice(c,0,s),c===0&&TS(s)}};var MS=t.version;if(MS!=="19.1.0")throw Error(i(527,MS,"19.1.0"));Z.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=d(a),s=s!==null?f(s):null,s=s===null?null:s.stateNode,s};var ND={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bf.isDisabled&&Bf.supportsFiber)try{xt=Bf.inject(ND),bt=Bf}catch{}}return sh.createRoot=function(s,a){if(!r(s))throw Error(i(299));var c=!1,h="",v=H1,_=G1,L=W1,B=null;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(v=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(L=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(B=a.unstable_transitionCallbacks)),a=vS(s,1,!1,null,null,c,h,v,_,L,B,null),s[Yn]=a.current,T0(s),new z0(a)},sh.hydrateRoot=function(s,a,c){if(!r(s))throw Error(i(299));var h=!1,v="",_=H1,L=G1,B=W1,K=null,ct=null;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onUncaughtError!==void 0&&(_=c.onUncaughtError),c.onCaughtError!==void 0&&(L=c.onCaughtError),c.onRecoverableError!==void 0&&(B=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(K=c.unstable_transitionCallbacks),c.formState!==void 0&&(ct=c.formState)),a=vS(s,1,!0,a,c??null,h,v,_,L,B,K,ct),a.context=yS(null),c=a.current,h=ls(),h=fe(h),v=Ea(h),v.callback=null,Sa(c,v,h),c=h,a.current.lanes=c,Yt(a,c),cr(a),s[Yn]=a.current,T0(s),new Ff(a)},sh.version="19.1.0",sh}var VS;function kD(){if(VS)return W0.exports;VS=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),W0.exports=BD(),W0.exports}var jD=kD(),rh={},FS;function zD(){if(FS)return rh;FS=1,Object.defineProperty(rh,"__esModule",{value:!0}),rh.parse=l,rh.serialize=f;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,e=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,r=Object.prototype.toString,o=(()=>{const x=function(){};return x.prototype=Object.create(null),x})();function l(x,E){const T=new o,C=x.length;if(C<2)return T;const S=E?.decode||g;let b=0;do{const O=x.indexOf("=",b);if(O===-1)break;const N=x.indexOf(";",b),U=N===-1?C:N;if(O>U){b=x.lastIndexOf(";",O-1)+1;continue}const j=u(x,b,O),G=d(x,O,j),D=x.slice(j,G);if(T[D]===void 0){let R=u(x,O+1,U),w=d(x,U,R);const M=S(x.slice(R,w));T[D]=M}b=U+1}while(b<C);return T}function u(x,E,T){do{const C=x.charCodeAt(E);if(C!==32&&C!==9)return E}while(++E<T);return T}function d(x,E,T){for(;E>T;){const C=x.charCodeAt(--E);if(C!==32&&C!==9)return E+1}return T}function f(x,E,T){const C=T?.encode||encodeURIComponent;if(!n.test(x))throw new TypeError(`argument name is invalid: ${x}`);const S=C(E);if(!t.test(S))throw new TypeError(`argument val is invalid: ${E}`);let b=x+"="+S;if(!T)return b;if(T.maxAge!==void 0){if(!Number.isInteger(T.maxAge))throw new TypeError(`option maxAge is invalid: ${T.maxAge}`);b+="; Max-Age="+T.maxAge}if(T.domain){if(!e.test(T.domain))throw new TypeError(`option domain is invalid: ${T.domain}`);b+="; Domain="+T.domain}if(T.path){if(!i.test(T.path))throw new TypeError(`option path is invalid: ${T.path}`);b+="; Path="+T.path}if(T.expires){if(!y(T.expires)||!Number.isFinite(T.expires.valueOf()))throw new TypeError(`option expires is invalid: ${T.expires}`);b+="; Expires="+T.expires.toUTCString()}if(T.httpOnly&&(b+="; HttpOnly"),T.secure&&(b+="; Secure"),T.partitioned&&(b+="; Partitioned"),T.priority)switch(typeof T.priority=="string"?T.priority.toLowerCase():void 0){case"low":b+="; Priority=Low";break;case"medium":b+="; Priority=Medium";break;case"high":b+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${T.priority}`)}if(T.sameSite)switch(typeof T.sameSite=="string"?T.sameSite.toLowerCase():T.sameSite){case!0:case"strict":b+="; SameSite=Strict";break;case"lax":b+="; SameSite=Lax";break;case"none":b+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${T.sameSite}`)}return b}function g(x){if(x.indexOf("%")===-1)return x;try{return decodeURIComponent(x)}catch{return x}}function y(x){return r.call(x)==="[object Date]"}return rh}zD();var BS="popstate";function HD(n={}){function t(i,r){let{pathname:o,search:l,hash:u}=i.location;return ty("",{pathname:o,search:l,hash:u},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function e(i,r){return typeof r=="string"?r:Lh(r)}return WD(t,e,null,n)}function Mn(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function Xs(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function GD(){return Math.random().toString(36).substring(2,10)}function kS(n,t){return{usr:n.state,key:n.key,idx:t}}function ty(n,t,e=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?Kc(t):t,state:e,key:t&&t.key||i||GD()}}function Lh({pathname:n="/",search:t="",hash:e=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(n+=e.charAt(0)==="#"?e:"#"+e),n}function Kc(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substring(e),n=n.substring(0,e));let i=n.indexOf("?");i>=0&&(t.search=n.substring(i),n=n.substring(0,i)),n&&(t.pathname=n)}return t}function WD(n,t,e,i={}){let{window:r=document.defaultView,v5Compat:o=!1}=i,l=r.history,u="POP",d=null,f=g();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function g(){return(l.state||{idx:null}).idx}function y(){u="POP";let S=g(),b=S==null?null:S-f;f=S,d&&d({action:u,location:C.location,delta:b})}function x(S,b){u="PUSH";let O=ty(C.location,S,b);f=g()+1;let N=kS(O,f),U=C.createHref(O);try{l.pushState(N,"",U)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;r.location.assign(U)}o&&d&&d({action:u,location:C.location,delta:1})}function E(S,b){u="REPLACE";let O=ty(C.location,S,b);f=g();let N=kS(O,f),U=C.createHref(O);l.replaceState(N,"",U),o&&d&&d({action:u,location:C.location,delta:0})}function T(S){return qD(S)}let C={get action(){return u},get location(){return n(r,l)},listen(S){if(d)throw new Error("A history only accepts one active listener");return r.addEventListener(BS,y),d=S,()=>{r.removeEventListener(BS,y),d=null}},createHref(S){return t(r,S)},createURL:T,encodeLocation(S){let b=T(S);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:x,replace:E,go(S){return l.go(S)}};return C}function qD(n,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),Mn(e,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Lh(n);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=e+i),new URL(i,e)}function M2(n,t,e="/"){return XD(n,t,e,!1)}function XD(n,t,e,i){let r=typeof t=="string"?Kc(t):t,o=ca(r.pathname||"/",e);if(o==null)return null;let l=R2(n);YD(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let f=rI(o);u=iI(l[d],f,i)}return u}function R2(n,t=[],e=[],i=""){let r=(o,l,u)=>{let d={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};d.relativePath.startsWith("/")&&(Mn(d.relativePath.startsWith(i),`Absolute route path "${d.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(i.length));let f=oa([i,d.relativePath]),g=e.concat(d);o.children&&o.children.length>0&&(Mn(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),R2(o.children,t,g,f)),!(o.path==null&&!o.index)&&t.push({path:f,score:eI(f,o.index),routesMeta:g})};return n.forEach((o,l)=>{if(o.path===""||!o.path?.includes("?"))r(o,l);else for(let u of C2(o.path))r(o,l,u)}),t}function C2(n){let t=n.split("/");if(t.length===0)return[];let[e,...i]=t,r=e.endsWith("?"),o=e.replace(/\?$/,"");if(i.length===0)return r?[o,""]:[o];let l=C2(i.join("/")),u=[];return u.push(...l.map(d=>d===""?o:[o,d].join("/"))),r&&u.push(...l),u.map(d=>n.startsWith("/")&&d===""?"/":d)}function YD(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:nI(t.routesMeta.map(i=>i.childrenIndex),e.routesMeta.map(i=>i.childrenIndex)))}var KD=/^:[\w-]+$/,$D=3,QD=2,ZD=1,JD=10,tI=-2,jS=n=>n==="*";function eI(n,t){let e=n.split("/"),i=e.length;return e.some(jS)&&(i+=tI),t&&(i+=QD),e.filter(r=>!jS(r)).reduce((r,o)=>r+(KD.test(o)?$D:o===""?ZD:JD),i)}function nI(n,t){return n.length===t.length&&n.slice(0,-1).every((i,r)=>i===t[r])?n[n.length-1]-t[t.length-1]:0}function iI(n,t,e=!1){let{routesMeta:i}=n,r={},o="/",l=[];for(let u=0;u<i.length;++u){let d=i[u],f=u===i.length-1,g=o==="/"?t:t.slice(o.length)||"/",y=jm({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},g),x=d.route;if(!y&&f&&e&&!i[i.length-1].route.index&&(y=jm({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!y)return null;Object.assign(r,y.params),l.push({params:r,pathname:oa([o,y.pathname]),pathnameBase:cI(oa([o,y.pathnameBase])),route:x}),y.pathnameBase!=="/"&&(o=oa([o,y.pathnameBase]))}return l}function jm(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,i]=sI(n.path,n.caseSensitive,n.end),r=t.match(e);if(!r)return null;let o=r[0],l=o.replace(/(.)\/+$/,"$1"),u=r.slice(1);return{params:i.reduce((f,{paramName:g,isOptional:y},x)=>{if(g==="*"){let T=u[x]||"";l=o.slice(0,o.length-T.length).replace(/(.)\/+$/,"$1")}const E=u[x];return y&&!E?f[g]=void 0:f[g]=(E||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:l,pattern:n}}function sI(n,t=!1,e=!0){Xs(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(i.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),i]}function rI(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Xs(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function ca(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,i=n.charAt(e);return i&&i!=="/"?null:n.slice(e)||"/"}function aI(n,t="/"){let{pathname:e,search:i="",hash:r=""}=typeof n=="string"?Kc(n):n;return{pathname:e?e.startsWith("/")?e:oI(e,t):t,search:uI(i),hash:hI(r)}}function oI(n,t){let e=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?e.length>1&&e.pop():r!=="."&&e.push(r)}),e.length>1?e.join("/"):"/"}function K0(n,t,e,i){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function lI(n){return n.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function Fx(n){let t=lI(n);return t.map((e,i)=>i===t.length-1?e.pathname:e.pathnameBase)}function Bx(n,t,e,i=!1){let r;typeof n=="string"?r=Kc(n):(r={...n},Mn(!r.pathname||!r.pathname.includes("?"),K0("?","pathname","search",r)),Mn(!r.pathname||!r.pathname.includes("#"),K0("#","pathname","hash",r)),Mn(!r.search||!r.search.includes("#"),K0("#","search","hash",r)));let o=n===""||r.pathname==="",l=o?"/":r.pathname,u;if(l==null)u=e;else{let y=t.length-1;if(!i&&l.startsWith("..")){let x=l.split("/");for(;x[0]==="..";)x.shift(),y-=1;r.pathname=x.join("/")}u=y>=0?t[y]:"/"}let d=aI(r,u),f=l&&l!=="/"&&l.endsWith("/"),g=(o||l===".")&&e.endsWith("/");return!d.pathname.endsWith("/")&&(f||g)&&(d.pathname+="/"),d}var oa=n=>n.join("/").replace(/\/\/+/g,"/"),cI=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),uI=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,hI=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function dI(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var N2=["POST","PUT","PATCH","DELETE"];new Set(N2);var fI=["GET",...N2];new Set(fI);var $c=q.createContext(null);$c.displayName="DataRouter";var xp=q.createContext(null);xp.displayName="DataRouterState";var D2=q.createContext({isTransitioning:!1});D2.displayName="ViewTransition";var mI=q.createContext(new Map);mI.displayName="Fetchers";var pI=q.createContext(null);pI.displayName="Await";var Ks=q.createContext(null);Ks.displayName="Navigation";var rd=q.createContext(null);rd.displayName="Location";var Rr=q.createContext({outlet:null,matches:[],isDataRoute:!1});Rr.displayName="Route";var kx=q.createContext(null);kx.displayName="RouteError";function gI(n,{relative:t}={}){Mn(Qc(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:i}=q.useContext(Ks),{hash:r,pathname:o,search:l}=ad(n,{relative:t}),u=o;return e!=="/"&&(u=o==="/"?e:oa([e,o])),i.createHref({pathname:u,search:l,hash:r})}function Qc(){return q.useContext(rd)!=null}function Cr(){return Mn(Qc(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(rd).location}var I2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function P2(n){q.useContext(Ks).static||q.useLayoutEffect(n)}function _p(){let{isDataRoute:n}=q.useContext(Rr);return n?CI():vI()}function vI(){Mn(Qc(),"useNavigate() may be used only in the context of a <Router> component.");let n=q.useContext($c),{basename:t,navigator:e}=q.useContext(Ks),{matches:i}=q.useContext(Rr),{pathname:r}=Cr(),o=JSON.stringify(Fx(i)),l=q.useRef(!1);return P2(()=>{l.current=!0}),q.useCallback((d,f={})=>{if(Xs(l.current,I2),!l.current)return;if(typeof d=="number"){e.go(d);return}let g=Bx(d,JSON.parse(o),r,f.relative==="path");n==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:oa([t,g.pathname])),(f.replace?e.replace:e.push)(g,f.state,f)},[t,e,o,r,n])}q.createContext(null);function ad(n,{relative:t}={}){let{matches:e}=q.useContext(Rr),{pathname:i}=Cr(),r=JSON.stringify(Fx(e));return q.useMemo(()=>Bx(n,JSON.parse(r),i,t==="path"),[n,r,i,t])}function yI(n,t){return L2(n,t)}function L2(n,t,e,i){Mn(Qc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=q.useContext(Ks),{matches:o}=q.useContext(Rr),l=o[o.length-1],u=l?l.params:{},d=l?l.pathname:"/",f=l?l.pathnameBase:"/",g=l&&l.route;{let b=g&&g.path||"";O2(d,!g||b.endsWith("*")||b.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${b}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${b}"> to <Route path="${b==="/"?"*":`${b}/*`}">.`)}let y=Cr(),x;if(t){let b=typeof t=="string"?Kc(t):t;Mn(f==="/"||b.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${b.pathname}" was given in the \`location\` prop.`),x=b}else x=y;let E=x.pathname||"/",T=E;if(f!=="/"){let b=f.replace(/^\//,"").split("/");T="/"+E.replace(/^\//,"").split("/").slice(b.length).join("/")}let C=M2(n,{pathname:T});Xs(g||C!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Xs(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=SI(C&&C.map(b=>Object.assign({},b,{params:Object.assign({},u,b.params),pathname:oa([f,r.encodeLocation?r.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?f:oa([f,r.encodeLocation?r.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),o,e,i);return t&&S?q.createElement(rd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},S):S}function xI(){let n=RI(),t=dI(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=q.createElement(q.Fragment,null,q.createElement("p",null,"💿 Hey developer 👋"),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:o},"ErrorBoundary")," or"," ",q.createElement("code",{style:o},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},t),e?q.createElement("pre",{style:r},e):null,l)}var _I=q.createElement(xI,null),bI=class extends q.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){console.error("React Router caught the following error during render",n,t)}render(){return this.state.error!==void 0?q.createElement(Rr.Provider,{value:this.props.routeContext},q.createElement(kx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function EI({routeContext:n,match:t,children:e}){let i=q.useContext($c);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),q.createElement(Rr.Provider,{value:n},e)}function SI(n,t=[],e=null,i=null){if(n==null){if(!e)return null;if(e.errors)n=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)n=e.matches;else return null}let r=n,o=e?.errors;if(o!=null){let d=r.findIndex(f=>f.route.id&&o?.[f.route.id]!==void 0);Mn(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),r=r.slice(0,Math.min(r.length,d+1))}let l=!1,u=-1;if(e)for(let d=0;d<r.length;d++){let f=r[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:g,errors:y}=e,x=f.route.loader&&!g.hasOwnProperty(f.route.id)&&(!y||y[f.route.id]===void 0);if(f.route.lazy||x){l=!0,u>=0?r=r.slice(0,u+1):r=[r[0]];break}}}return r.reduceRight((d,f,g)=>{let y,x=!1,E=null,T=null;e&&(y=o&&f.route.id?o[f.route.id]:void 0,E=f.route.errorElement||_I,l&&(u<0&&g===0?(O2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,T=null):u===g&&(x=!0,T=f.route.hydrateFallbackElement||null)));let C=t.concat(r.slice(0,g+1)),S=()=>{let b;return y?b=E:x?b=T:f.route.Component?b=q.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=d,q.createElement(EI,{match:f,routeContext:{outlet:d,matches:C,isDataRoute:e!=null},children:b})};return e&&(f.route.ErrorBoundary||f.route.errorElement||g===0)?q.createElement(bI,{location:e.location,revalidation:e.revalidation,component:E,error:y,children:S(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):S()},null)}function jx(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function TI(n){let t=q.useContext($c);return Mn(t,jx(n)),t}function wI(n){let t=q.useContext(xp);return Mn(t,jx(n)),t}function AI(n){let t=q.useContext(Rr);return Mn(t,jx(n)),t}function zx(n){let t=AI(n),e=t.matches[t.matches.length-1];return Mn(e.route.id,`${n} can only be used on routes that contain a unique "id"`),e.route.id}function MI(){return zx("useRouteId")}function RI(){let n=q.useContext(kx),t=wI("useRouteError"),e=zx("useRouteError");return n!==void 0?n:t.errors?.[e]}function CI(){let{router:n}=TI("useNavigate"),t=zx("useNavigate"),e=q.useRef(!1);return P2(()=>{e.current=!0}),q.useCallback(async(r,o={})=>{Xs(e.current,I2),e.current&&(typeof r=="number"?n.navigate(r):await n.navigate(r,{fromRouteId:t,...o}))},[n,t])}var zS={};function O2(n,t,e){!t&&!zS[n]&&(zS[n]=!0,Xs(!1,e))}q.memo(NI);function NI({routes:n,future:t,state:e}){return L2(n,void 0,e,t)}function DI({to:n,replace:t,state:e,relative:i}){Mn(Qc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=q.useContext(Ks);Xs(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=q.useContext(Rr),{pathname:l}=Cr(),u=_p(),d=Bx(n,Fx(o),l,i==="path"),f=JSON.stringify(d);return q.useEffect(()=>{u(JSON.parse(f),{replace:t,state:e,relative:i})},[u,f,i,t,e]),null}function dr(n){Mn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function II({basename:n="/",children:t=null,location:e,navigationType:i="POP",navigator:r,static:o=!1}){Mn(!Qc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),u=q.useMemo(()=>({basename:l,navigator:r,static:o,future:{}}),[l,r,o]);typeof e=="string"&&(e=Kc(e));let{pathname:d="/",search:f="",hash:g="",state:y=null,key:x="default"}=e,E=q.useMemo(()=>{let T=ca(d,l);return T==null?null:{location:{pathname:T,search:f,hash:g,state:y,key:x},navigationType:i}},[l,d,f,g,y,x,i]);return Xs(E!=null,`<Router basename="${l}"> is not able to match the URL "${d}${f}${g}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:q.createElement(Ks.Provider,{value:u},q.createElement(rd.Provider,{children:t,value:E}))}function PI({children:n,location:t}){return yI(ey(n),t)}function ey(n,t=[]){let e=[];return q.Children.forEach(n,(i,r)=>{if(!q.isValidElement(i))return;let o=[...t,r];if(i.type===q.Fragment){e.push.apply(e,ey(i.props.children,o));return}Mn(i.type===dr,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Mn(!i.props.index||!i.props.children,"An index route cannot have child routes.");let l={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=ey(i.props.children,o)),e.push(l)}),e}var Em="get",Sm="application/x-www-form-urlencoded";function bp(n){return n!=null&&typeof n.tagName=="string"}function LI(n){return bp(n)&&n.tagName.toLowerCase()==="button"}function OI(n){return bp(n)&&n.tagName.toLowerCase()==="form"}function UI(n){return bp(n)&&n.tagName.toLowerCase()==="input"}function VI(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function FI(n,t){return n.button===0&&(!t||t==="_self")&&!VI(n)}var kf=null;function BI(){if(kf===null)try{new FormData(document.createElement("form"),0),kf=!1}catch{kf=!0}return kf}var kI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function $0(n){return n!=null&&!kI.has(n)?(Xs(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Sm}"`),null):n}function jI(n,t){let e,i,r,o,l;if(OI(n)){let u=n.getAttribute("action");i=u?ca(u,t):null,e=n.getAttribute("method")||Em,r=$0(n.getAttribute("enctype"))||Sm,o=new FormData(n)}else if(LI(n)||UI(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||u.getAttribute("action");if(i=d?ca(d,t):null,e=n.getAttribute("formmethod")||u.getAttribute("method")||Em,r=$0(n.getAttribute("formenctype"))||$0(u.getAttribute("enctype"))||Sm,o=new FormData(u,n),!BI()){let{name:f,type:g,value:y}=n;if(g==="image"){let x=f?`${f}.`:"";o.append(`${x}x`,"0"),o.append(`${x}y`,"0")}else f&&o.append(f,y)}}else{if(bp(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=Em,i=null,r=Sm,l=n}return o&&r==="text/plain"&&(l=o,o=void 0),{action:i,method:e.toLowerCase(),encType:r,formData:o,body:l}}function Hx(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}async function zI(n,t){if(n.id in t)return t[n.id];try{let e=await import(n.module);return t[n.id]=e,e}catch(e){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function HI(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function GI(n,t,e){let i=await Promise.all(n.map(async r=>{let o=t.routes[r.route.id];if(o){let l=await zI(o,e);return l.links?l.links():[]}return[]}));return YI(i.flat(1).filter(HI).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function HS(n,t,e,i,r,o){let l=(d,f)=>e[f]?d.route.id!==e[f].route.id:!0,u=(d,f)=>e[f].pathname!==d.pathname||e[f].route.path?.endsWith("*")&&e[f].params["*"]!==d.params["*"];return o==="assets"?t.filter((d,f)=>l(d,f)||u(d,f)):o==="data"?t.filter((d,f)=>{let g=i.routes[d.route.id];if(!g||!g.hasLoader)return!1;if(l(d,f)||u(d,f))return!0;if(d.route.shouldRevalidate){let y=d.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:e[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function WI(n,t,{includeHydrateFallback:e}={}){return qI(n.map(i=>{let r=t.routes[i.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),e&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function qI(n){return[...new Set(n)]}function XI(n){let t={},e=Object.keys(n).sort();for(let i of e)t[i]=n[i];return t}function YI(n,t){let e=new Set;return new Set(t),n.reduce((i,r)=>{let o=JSON.stringify(XI(r));return e.has(o)||(e.add(o),i.push({key:o,link:r})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var KI=new Set([100,101,204,205]);function $I(n,t){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":t&&ca(e.pathname,t)==="/"?e.pathname=`${t.replace(/\/$/,"")}/_root.data`:e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function U2(){let n=q.useContext($c);return Hx(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function QI(){let n=q.useContext(xp);return Hx(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Gx=q.createContext(void 0);Gx.displayName="FrameworkContext";function V2(){let n=q.useContext(Gx);return Hx(n,"You must render this element inside a <HydratedRouter> element"),n}function ZI(n,t){let e=q.useContext(Gx),[i,r]=q.useState(!1),[o,l]=q.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:f,onMouseLeave:g,onTouchStart:y}=t,x=q.useRef(null);q.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let C=b=>{b.forEach(O=>{l(O.isIntersecting)})},S=new IntersectionObserver(C,{threshold:.5});return x.current&&S.observe(x.current),()=>{S.disconnect()}}},[n]),q.useEffect(()=>{if(i){let C=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(C)}}},[i]);let E=()=>{r(!0)},T=()=>{r(!1),l(!1)};return e?n!=="intent"?[o,x,{}]:[o,x,{onFocus:ah(u,E),onBlur:ah(d,T),onMouseEnter:ah(f,E),onMouseLeave:ah(g,T),onTouchStart:ah(y,E)}]:[!1,x,{}]}function ah(n,t){return e=>{n&&n(e),e.defaultPrevented||t(e)}}function JI({page:n,...t}){let{router:e}=U2(),i=q.useMemo(()=>M2(e.routes,n,e.basename),[e.routes,n,e.basename]);return i?q.createElement(eP,{page:n,matches:i,...t}):null}function tP(n){let{manifest:t,routeModules:e}=V2(),[i,r]=q.useState([]);return q.useEffect(()=>{let o=!1;return GI(n,t,e).then(l=>{o||r(l)}),()=>{o=!0}},[n,t,e]),i}function eP({page:n,matches:t,...e}){let i=Cr(),{manifest:r,routeModules:o}=V2(),{basename:l}=U2(),{loaderData:u,matches:d}=QI(),f=q.useMemo(()=>HS(n,t,d,r,i,"data"),[n,t,d,r,i]),g=q.useMemo(()=>HS(n,t,d,r,i,"assets"),[n,t,d,r,i]),y=q.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let T=new Set,C=!1;if(t.forEach(b=>{let O=r.routes[b.route.id];!O||!O.hasLoader||(!f.some(N=>N.route.id===b.route.id)&&b.route.id in u&&o[b.route.id]?.shouldRevalidate||O.hasClientLoader?C=!0:T.add(b.route.id))}),T.size===0)return[];let S=$I(n,l);return C&&T.size>0&&S.searchParams.set("_routes",t.filter(b=>T.has(b.route.id)).map(b=>b.route.id).join(",")),[S.pathname+S.search]},[l,u,i,r,f,t,n,o]),x=q.useMemo(()=>WI(g,r),[g,r]),E=tP(g);return q.createElement(q.Fragment,null,y.map(T=>q.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...e})),x.map(T=>q.createElement("link",{key:T,rel:"modulepreload",href:T,...e})),E.map(({key:T,link:C})=>q.createElement("link",{key:T,...C})))}function nP(...n){return t=>{n.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var F2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{F2&&(window.__reactRouterVersion="7.6.3")}catch{}function iP({basename:n,children:t,window:e}){let i=q.useRef();i.current==null&&(i.current=HD({window:e,v5Compat:!0}));let r=i.current,[o,l]=q.useState({action:r.action,location:r.location}),u=q.useCallback(d=>{q.startTransition(()=>l(d))},[l]);return q.useLayoutEffect(()=>r.listen(u),[r,u]),q.createElement(II,{basename:n,children:t,location:o.location,navigationType:o.action,navigator:r})}var B2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bc=q.forwardRef(function({onClick:t,discover:e="render",prefetch:i="none",relative:r,reloadDocument:o,replace:l,state:u,target:d,to:f,preventScrollReset:g,viewTransition:y,...x},E){let{basename:T}=q.useContext(Ks),C=typeof f=="string"&&B2.test(f),S,b=!1;if(typeof f=="string"&&C&&(S=f,F2))try{let w=new URL(window.location.href),M=f.startsWith("//")?new URL(w.protocol+f):new URL(f),P=ca(M.pathname,T);M.origin===w.origin&&P!=null?f=P+M.search+M.hash:b=!0}catch{Xs(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let O=gI(f,{relative:r}),[N,U,j]=ZI(i,x),G=oP(f,{replace:l,state:u,target:d,preventScrollReset:g,relative:r,viewTransition:y});function D(w){t&&t(w),w.defaultPrevented||G(w)}let R=q.createElement("a",{...x,...j,href:S||O,onClick:b||o?t:D,ref:nP(E,U),target:d,"data-discover":!C&&e==="render"?"true":void 0});return N&&!C?q.createElement(q.Fragment,null,R,q.createElement(JI,{page:O})):R});bc.displayName="Link";var sP=q.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:i="",end:r=!1,style:o,to:l,viewTransition:u,children:d,...f},g){let y=ad(l,{relative:f.relative}),x=Cr(),E=q.useContext(xp),{navigator:T,basename:C}=q.useContext(Ks),S=E!=null&&dP(y)&&u===!0,b=T.encodeLocation?T.encodeLocation(y).pathname:y.pathname,O=x.pathname,N=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;e||(O=O.toLowerCase(),N=N?N.toLowerCase():null,b=b.toLowerCase()),N&&C&&(N=ca(N,C)||N);const U=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let j=O===b||!r&&O.startsWith(b)&&O.charAt(U)==="/",G=N!=null&&(N===b||!r&&N.startsWith(b)&&N.charAt(b.length)==="/"),D={isActive:j,isPending:G,isTransitioning:S},R=j?t:void 0,w;typeof i=="function"?w=i(D):w=[i,j?"active":null,G?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let M=typeof o=="function"?o(D):o;return q.createElement(bc,{...f,"aria-current":R,className:w,ref:g,style:M,to:l,viewTransition:u},typeof d=="function"?d(D):d)});sP.displayName="NavLink";var rP=q.forwardRef(({discover:n="render",fetcherKey:t,navigate:e,reloadDocument:i,replace:r,state:o,method:l=Em,action:u,onSubmit:d,relative:f,preventScrollReset:g,viewTransition:y,...x},E)=>{let T=uP(),C=hP(u,{relative:f}),S=l.toLowerCase()==="get"?"get":"post",b=typeof u=="string"&&B2.test(u),O=N=>{if(d&&d(N),N.defaultPrevented)return;N.preventDefault();let U=N.nativeEvent.submitter,j=U?.getAttribute("formmethod")||l;T(U||N.currentTarget,{fetcherKey:t,method:j,navigate:e,replace:r,state:o,relative:f,preventScrollReset:g,viewTransition:y})};return q.createElement("form",{ref:E,method:S,action:C,onSubmit:i?d:O,...x,"data-discover":!b&&n==="render"?"true":void 0})});rP.displayName="Form";function aP(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function k2(n){let t=q.useContext($c);return Mn(t,aP(n)),t}function oP(n,{target:t,replace:e,state:i,preventScrollReset:r,relative:o,viewTransition:l}={}){let u=_p(),d=Cr(),f=ad(n,{relative:o});return q.useCallback(g=>{if(FI(g,t)){g.preventDefault();let y=e!==void 0?e:Lh(d)===Lh(f);u(n,{replace:y,state:i,preventScrollReset:r,relative:o,viewTransition:l})}},[d,u,f,e,i,t,n,r,o,l])}var lP=0,cP=()=>`__${String(++lP)}__`;function uP(){let{router:n}=k2("useSubmit"),{basename:t}=q.useContext(Ks),e=MI();return q.useCallback(async(i,r={})=>{let{action:o,method:l,encType:u,formData:d,body:f}=jI(i,t);if(r.navigate===!1){let g=r.fetcherKey||cP();await n.fetch(g,e,r.action||o,{preventScrollReset:r.preventScrollReset,formData:d,body:f,formMethod:r.method||l,formEncType:r.encType||u,flushSync:r.flushSync})}else await n.navigate(r.action||o,{preventScrollReset:r.preventScrollReset,formData:d,body:f,formMethod:r.method||l,formEncType:r.encType||u,replace:r.replace,state:r.state,fromRouteId:e,flushSync:r.flushSync,viewTransition:r.viewTransition})},[n,t,e])}function hP(n,{relative:t}={}){let{basename:e}=q.useContext(Ks),i=q.useContext(Rr);Mn(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),o={...ad(n||".",{relative:t})},l=Cr();if(n==null){o.search=l.search;let u=new URLSearchParams(o.search),d=u.getAll("index");if(d.some(g=>g==="")){u.delete("index"),d.filter(y=>y).forEach(y=>u.append("index",y));let g=u.toString();o.search=g?`?${g}`:""}}return(!n||n===".")&&r.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(o.pathname=o.pathname==="/"?e:oa([e,o.pathname])),Lh(o)}function dP(n,t={}){let e=q.useContext(D2);Mn(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=k2("useViewTransitionState"),r=ad(n,{relative:t.relative});if(!e.isTransitioning)return!1;let o=ca(e.currentLocation.pathname,i)||e.currentLocation.pathname,l=ca(e.nextLocation.pathname,i)||e.nextLocation.pathname;return jm(r.pathname,l)!=null||jm(r.pathname,o)!=null}[...KI];var Q0,GS;function fP(){if(GS)return Q0;GS=1;var n=4,t=.001,e=1e-7,i=10,r=11,o=1/(r-1),l=typeof Float32Array=="function";function u(C,S){return 1-3*S+3*C}function d(C,S){return 3*S-6*C}function f(C){return 3*C}function g(C,S,b){return((u(S,b)*C+d(S,b))*C+f(S))*C}function y(C,S,b){return 3*u(S,b)*C*C+2*d(S,b)*C+f(S)}function x(C,S,b,O,N){var U,j,G=0;do j=S+(b-S)/2,U=g(j,O,N)-C,U>0?b=j:S=j;while(Math.abs(U)>e&&++G<i);return j}function E(C,S,b,O){for(var N=0;N<n;++N){var U=y(S,b,O);if(U===0)return S;var j=g(S,b,O)-C;S-=j/U}return S}function T(C){return C}return Q0=function(S,b,O,N){if(!(0<=S&&S<=1&&0<=O&&O<=1))throw new Error("bezier x values must be in [0, 1] range");if(S===b&&O===N)return T;for(var U=l?new Float32Array(r):new Array(r),j=0;j<r;++j)U[j]=g(j*o,S,O);function G(D){for(var R=0,w=1,M=r-1;w!==M&&U[w]<=D;++w)R+=o;--w;var P=(D-U[w])/(U[w+1]-U[w]),z=R+P*o,V=y(z,S,O);return V>=t?E(D,z,S,O):V===0?z:x(D,R,R+o,S,O)}return function(R){return R===0?0:R===1?1:g(G(R),b,N)}},Q0}var mP=fP();const WS=Vx(mP);var Wx=function(t){this.startX=t.startX,this.startY=t.startY,this.endX=t.endX,this.endY=t.endY,this.totalX=this.endX-this.startX,this.totalY=this.endY-this.startY,this.startMultiplierX=t.startMultiplierX||1,this.endMultiplierX=t.endMultiplierX||1,this.startMultiplierY=t.startMultiplierY||1,this.endMultiplierY=t.endMultiplierY||1};function $a(){return $a=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},$a.apply(this,arguments)}var zm;(function(n){n.speed="speed",n.translateX="translateX",n.translateY="translateY",n.rotate="rotate",n.rotateX="rotateX",n.rotateY="rotateY",n.rotateZ="rotateZ",n.scale="scale",n.scaleX="scaleX",n.scaleY="scaleY",n.scaleZ="scaleZ",n.opacity="opacity"})(zm||(zm={}));var Zo;(function(n){n.px="px",n["%"]="%",n.vh="vh",n.vw="vw"})(Zo||(Zo={}));var Eh;(function(n){n.deg="deg",n.turn="turn",n.rad="rad"})(Eh||(Eh={}));var ny;(function(n){n[""]=""})(ny||(ny={}));var Ys;(function(n){n.vertical="vertical",n.horizontal="horizontal"})(Ys||(Ys={}));var qS;(function(n){n.ease="ease",n.easeIn="easeIn",n.easeOut="easeOut",n.easeInOut="easeInOut",n.easeInQuad="easeInQuad",n.easeInCubic="easeInCubic",n.easeInQuart="easeInQuart",n.easeInQuint="easeInQuint",n.easeInSine="easeInSine",n.easeInExpo="easeInExpo",n.easeInCirc="easeInCirc",n.easeOutQuad="easeOutQuad",n.easeOutCubic="easeOutCubic",n.easeOutQuart="easeOutQuart",n.easeOutQuint="easeOutQuint",n.easeOutSine="easeOutSine",n.easeOutExpo="easeOutExpo",n.easeOutCirc="easeOutCirc",n.easeInOutQuad="easeInOutQuad",n.easeInOutCubic="easeInOutCubic",n.easeInOutQuart="easeInOutQuart",n.easeInOutQuint="easeInOutQuint",n.easeInOutSine="easeInOutSine",n.easeInOutExpo="easeInOutExpo",n.easeInOutCirc="easeInOutCirc",n.easeInBack="easeInBack",n.easeOutBack="easeOutBack",n.easeInOutBack="easeInOutBack"})(qS||(qS={}));var XS=0;function pP(){return++XS,XS}var gP=function(){function n(e){var i=e.el.getBoundingClientRect();if(e.view.scrollContainer){var r=e.view.scrollContainer.getBoundingClientRect();i=$a({},i,{top:i.top-r.top,right:i.right-r.left,bottom:i.bottom-r.top,left:i.left-r.left})}this.height=e.el.offsetHeight,this.width=e.el.offsetWidth,this.left=i.left,this.right=i.right,this.top=i.top,this.bottom=i.bottom,e.rootMargin&&this._setRectWithRootMargin(e.rootMargin)}var t=n.prototype;return t._setRectWithRootMargin=function(i){var r=i.top+i.bottom,o=i.left+i.right;this.top-=i.top,this.right+=i.right,this.bottom+=i.bottom,this.left-=i.left,this.height+=r,this.width+=o},n}(),vP=[ny[""],Zo.px,Zo["%"],Zo.vh,Zo.vw,Eh.deg,Eh.turn,Eh.rad];function jf(n,t){t===void 0&&(t=Zo["%"]);var e={value:0,unit:t};if(typeof n>"u")return e;var i=typeof n=="number"||typeof n=="string";if(!i)throw new Error("Invalid value provided. Must provide a value as a string or number");n=String(n),e.value=parseFloat(n),e.unit=n.match(/[\d.\-+]*\s*(.*)/)[1]||t;var r=vP.includes(e.unit);if(!r)throw new Error("Invalid unit provided.");return e}var YS={ease:[.25,.1,.25,1],easeIn:[.42,0,1,1],easeOut:[0,0,.58,1],easeInOut:[.42,0,.58,1],easeInQuad:[.55,.085,.68,.53],easeInCubic:[.55,.055,.675,.19],easeInQuart:[.895,.03,.685,.22],easeInQuint:[.755,.05,.855,.06],easeInSine:[.47,0,.745,.715],easeInExpo:[.95,.05,.795,.035],easeInCirc:[.6,.04,.98,.335],easeOutQuad:[.25,.46,.45,.94],easeOutCubic:[.215,.61,.355,1],easeOutQuart:[.165,.84,.44,1],easeOutQuint:[.23,1,.32,1],easeOutSine:[.39,.575,.565,1],easeOutExpo:[.19,1,.22,1],easeOutCirc:[.075,.82,.165,1],easeInOutQuad:[.455,.03,.515,.955],easeInOutCubic:[.645,.045,.355,1],easeInOutQuart:[.77,0,.175,1],easeInOutQuint:[.86,0,.07,1],easeInOutSine:[.445,.05,.55,.95],easeInOutExpo:[1,0,0,1],easeInOutCirc:[.785,.135,.15,.86],easeInBack:[.6,-.28,.735,.045],easeOutBack:[.175,.885,.32,1.275],easeInOutBack:[.68,-.55,.265,1.55]};function j2(n){if(Array.isArray(n))return WS(n[0],n[1],n[2],n[3]);if(typeof n=="string"&&typeof YS[n]<"u"){var t=YS[n];return WS(t[0],t[1],t[2],t[3])}}var yP=Object.values(zm),xP={speed:"px",translateX:"%",translateY:"%",rotate:"deg",rotateX:"deg",rotateY:"deg",rotateZ:"deg",scale:"",scaleX:"",scaleY:"",scaleZ:"",opacity:""};function KS(n,t){var e={};return yP.forEach(function(i){var r=xP[i];if(typeof n?.[i]=="number"){var o=n?.[i],l=(o||0)*10+"px",u=(o||0)*-10+"px",d=jf(l),f=jf(u),g={start:d.value,end:f.value,unit:d.unit};t===Ys.vertical&&(e.translateY=g),t===Ys.horizontal&&(e.translateX=g)}if(Array.isArray(n?.[i])){var y=n?.[i];if(typeof y[0]<"u"&&typeof y[1]<"u"){var x=jf(y?.[0],r),E=jf(y?.[1],r),T=j2(y?.[2]);if(e[i]={start:x.value,end:E.value,unit:x.unit,easing:T},x.unit!==E.unit)throw new Error("Must provide matching units for the min and max offset values of each axis.")}}}),e}function $S(n,t,e,i){var r=e-n,o=r/t;return i&&(o=i(o)),o}function _P(n,t,e){var i=e>=n&&e<=t;return i}function bP(n,t,e,i,r){return(e-t)*(n-i)/(r-i)+t}function z2(n,t){var e=bP(typeof n.easing=="function"?n.easing(t):t,n?.start||0,n?.end||0,0,1);return{value:e,unit:n?.unit}}var EP=Object.values(zm).filter(function(n){return n!=="opacity"});function SP(n,t){var e=Object.keys(t),i=e.includes("opacity"),r="transform"+(i?",opacity":"");n.style.willChange=r}function TP(n,t,e){if(e){var i=AP(n,t),r=wP(n,t);e.style.transform=i,e.style.opacity=r}}function wP(n,t){var e=n.opacity&&z2(n.opacity,t);if(typeof e>"u"||typeof e.value>"u"||typeof e.unit>"u")return"";var i=""+e.value;return i}function AP(n,t){var e=EP.reduce(function(i,r){var o=n[r]&&z2(n[r],t);if(typeof o>"u"||typeof o.value>"u"||typeof o.unit>"u")return i;var l=r+"("+o.value+o.unit+")";return i+l},"");return e}function Tm(n){var t=n.el;t&&(t.style.transform="",t.style.opacity="")}function MP(n,t,e,i){var r=n.top-t.height,o=n.left-t.width,l=n.bottom,u=n.right;o+=e.x,u+=e.x,r+=e.y,l+=e.y,i&&(e.y+n.top<t.height&&(r=0),e.x+n.left<t.width&&(o=0),l>t.scrollHeight-t.height&&(l=t.scrollHeight-t.height),u>t.scrollWidth-t.width&&(u=t.scrollWidth-t.width));var d=new Wx({startX:o,startY:r,endX:u,endY:l});return d}function nc(n,t,e){var i=t>n,r=(Math.abs(n)+Math.abs(t))*(i?-1:1),o=e+r,l=Math.max(e/o,1);return l}function QS(n,t){var e=n.start,i=n.end,r=n.unit;if(r==="%"){var o=t/100;e=e*o,i=i*o}if(r==="vw"){var l=e/100,u=i/100;e=window.innerWidth*l,i=window.innerWidth*u}if(r==="vh"){var d=e/100,f=i/100;e=window.innerHeight*d,i=window.innerHeight*f}return{start:e,end:i}}var ZS={start:0,end:0,unit:""};function RP(n,t,e,i,r,o){var l=e.translateX||ZS,u=e.translateY||ZS,d=QS(l,n.width),f=d.start,g=d.end,y=QS(u,n.height),x=y.start,E=y.end,T=n.top-t.height,C=n.left-t.width,S=n.bottom,b=n.right,O=1,N=1;r===Ys.vertical&&(O=nc(x,E,t.height+n.height),N=O);var U=1,j=1;if(r===Ys.horizontal&&(U=nc(f,g,t.width+n.width),j=U),x<0&&(T=T+x*O),E>0&&(S=S+E*N),f<0&&(C=C+f*U),g>0&&(b=b+g*j),C+=i.x,b+=i.x,T+=i.y,S+=i.y,o){var G=i.y+n.top<t.height,D=i.x+n.left<t.width,R=i.y+n.bottom>t.scrollHeight-t.height,w=i.x+n.right>t.scrollWidth-t.height;if(G&&R&&(O=1,N=1,T=0,S=t.scrollHeight-t.height),D&&w&&(U=1,j=1,C=0,b=t.scrollWidth-t.width),!G&&R){T=n.top-t.height+i.y,S=t.scrollHeight-t.height;var M=S-T;O=nc(x,E,M),N=1,x<0&&(T=T+x*O)}if(!D&&w){C=n.left-t.width+i.x,b=t.scrollWidth-t.width;var P=b-C;U=nc(f,g,P),j=1,f<0&&(C=C+f*U)}if(G&&!R){T=0,S=n.bottom+i.y;var z=S-T;O=1,N=nc(x,E,z),E>0&&(S=S+E*N)}if(D&&!w){C=0,b=n.right+i.x;var V=b-C;U=1,j=nc(f,g,V),g>0&&(b=b+g*j)}}var yt=new Wx({startX:C,startY:T,endX:b,endY:S,startMultiplierX:U,endMultiplierX:j,startMultiplierY:O,endMultiplierY:N});return yt}function CP(n,t){var e=$a({},n);return e.translateX&&(e.translateX=$a({},n.translateX,{start:e.translateX.start*t.startMultiplierX,end:e.translateX.end*t.endMultiplierX})),e.translateY&&(e.translateY=$a({},n.translateY,{start:e.translateY.start*t.startMultiplierY,end:e.translateY.end*t.endMultiplierY})),e}function NP(n,t,e){return n.rootMargin||n.targetElement||n.shouldDisableScalingTranslations?!1:!!(t.translateX&&e===Ys.horizontal||t.translateY&&e===Ys.vertical)}var JS=function(t,e,i){return Math.min(Math.max(t,e),i)},DP=function(){function n(e){this.el=e.el,this.props=e.props,this.scrollAxis=e.scrollAxis,this.disabledParallaxController=e.disabledParallaxController||!1,this.id=pP(),this.effects=KS(this.props,this.scrollAxis),this.isInView=null,this.progress=0,this._setElementEasing(e.props.easing),SP(e.el,this.effects)}var t=n.prototype;return t.updateProps=function(i){return this.props=$a({},this.props,i),this.effects=KS(i,this.scrollAxis),this._setElementEasing(i.easing),this},t.setCachedAttributes=function(i,r){Tm(this),this.rect=new gP({el:this.props.targetElement||this.el,rootMargin:this.props.rootMargin,view:i});var o=NP(this.props,this.effects,this.scrollAxis);return typeof this.props.startScroll=="number"&&typeof this.props.endScroll=="number"?(this.limits=new Wx({startX:this.props.startScroll,startY:this.props.startScroll,endX:this.props.endScroll,endY:this.props.endScroll}),this._setElementStyles(),this):(o?(this.limits=RP(this.rect,i,this.effects,r,this.scrollAxis,this.props.shouldAlwaysCompleteAnimation),this.scaledEffects=CP(this.effects,this.limits)):this.limits=MP(this.rect,i,r,this.props.shouldAlwaysCompleteAnimation),this._setElementStyles(),this)},t._updateElementIsInView=function(i){var r=this.isInView===null;i!==this.isInView&&(i?this.props.onEnter&&this.props.onEnter(this):r||(this._setFinalProgress(),this._setElementStyles(),this.props.onExit&&this.props.onExit(this))),this.isInView=i},t._setFinalProgress=function(){var i=JS(Math.round(this.progress),0,1);this._updateElementProgress(i)},t._setElementStyles=function(){if(!(this.props.disabled||this.disabledParallaxController)){var i=this.scaledEffects||this.effects;TP(i,this.progress,this.el)}},t._updateElementProgress=function(i){this.progress=i,this.props.onProgressChange&&this.props.onProgressChange(this.progress),this.props.onChange&&this.props.onChange(this)},t._setElementEasing=function(i){this.easing=j2(i)},t.updateElementOptions=function(i){this.scrollAxis=i.scrollAxis,this.disabledParallaxController=i.disabledParallaxController||!1},t.updatePosition=function(i){if(!this.limits)return this;var r=this.scrollAxis===Ys.vertical,o=this.isInView===null,l=r?this.limits.startY:this.limits.startX,u=r?this.limits.endY:this.limits.endX,d=r?this.limits.totalY:this.limits.totalX,f=r?i.y:i.x,g=_P(l,u,f);if(this._updateElementIsInView(g),g){var y=$S(l,d,f,this.easing);this._updateElementProgress(y),this._setElementStyles()}else o&&(this.progress=JS(Math.round($S(l,d,f,this.easing)),0,1),this._setElementStyles());return this},n}(),tT=function(){function n(e){this.scrollContainer=e.scrollContainer,this.width=e.width,this.height=e.height,this.scrollHeight=e.scrollHeight,this.scrollWidth=e.scrollWidth}var t=n.prototype;return t.hasChanged=function(i){return i.width!==this.width||i.height!==this.height||i.scrollWidth!==this.scrollWidth||i.scrollHeight!==this.scrollHeight},t.setSize=function(i){return this.width=i.width,this.height=i.height,this.scrollHeight=i.scrollHeight,this.scrollWidth=i.scrollWidth,this},n}(),IP=function(){function n(e,i){this.x=e,this.y=i,this.dx=0,this.dy=0}var t=n.prototype;return t.setScroll=function(i,r){return this.dx=i-this.x,this.dy=r-this.y,this.x=i,this.y=r,this},n}();function PP(){var n=!1;try{var t=Object.defineProperty({},"passive",{get:function(){return n=!0,!0}});window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch{}return n}var LP=function(){function n(e){var i=e.scrollAxis,r=i===void 0?Ys.vertical:i,o=e.scrollContainer,l=e.disabled,u=l===void 0?!1:l;this.disabled=u,this.scrollAxis=r,this.elements=[],this._hasScrollContainer=!!o,this.viewEl=o??window;var d=this._getScrollPosition(),f=d[0],g=d[1];this.scroll=new IP(f,g),this.view=new tT({width:0,height:0,scrollWidth:0,scrollHeight:0,scrollContainer:this._hasScrollContainer?o:void 0}),this._ticking=!1,this._supportsPassive=PP(),this._bindAllMethods(),!this.disabled&&(this._addListeners(this.viewEl),this._addResizeObserver(),this._setViewSize())}n.init=function(i){var r=typeof window<"u";if(!r)throw new Error("Looks like ParallaxController.init() was called on the server. This method must be called on the client.");return new n(i)};var t=n.prototype;return t._bindAllMethods=function(){var i=this;["_addListeners","_removeListeners","_getScrollPosition","_handleScroll","_handleUpdateCache","_updateAllElements","_updateElementPosition","_setViewSize","_addResizeObserver","_checkIfViewHasChanged","_getViewParams","getElements","createElement","removeElementById","resetElementStyles","updateElementPropsById","update","updateScrollContainer","destroy"].forEach(function(r){i[r]=i[r].bind(i)})},t._addListeners=function(i){i.addEventListener("scroll",this._handleScroll,this._supportsPassive?{passive:!0}:!1),window.addEventListener("resize",this._handleUpdateCache,!1),window.addEventListener("blur",this._handleUpdateCache,!1),window.addEventListener("focus",this._handleUpdateCache,!1),window.addEventListener("load",this._handleUpdateCache,!1)},t._removeListeners=function(i){var r;i.removeEventListener("scroll",this._handleScroll,!1),window.removeEventListener("resize",this._handleUpdateCache,!1),window.removeEventListener("blur",this._handleUpdateCache,!1),window.removeEventListener("focus",this._handleUpdateCache,!1),window.removeEventListener("load",this._handleUpdateCache,!1),(r=this._resizeObserver)==null||r.disconnect()},t._addResizeObserver=function(){var i=this;try{var r=this._hasScrollContainer?this.viewEl:document.documentElement;this._resizeObserver=new ResizeObserver(function(){return i.update()}),this._resizeObserver.observe(r)}catch{console.warn("Failed to create the resize observer in the ParallaxContoller")}},t._getScrollPosition=function(){var i=this._hasScrollContainer?this.viewEl.scrollLeft:window.pageXOffset,r=this._hasScrollContainer?this.viewEl.scrollTop:window.pageYOffset;return[i,r]},t._handleScroll=function(){var i,r=this._getScrollPosition(),o=r[0],l=r[1];this.scroll.setScroll(o,l),!this._ticking&&((i=this.elements)==null?void 0:i.length)>0&&(this._ticking=!0,window.requestAnimationFrame(this._updateAllElements))},t._handleUpdateCache=function(){this._setViewSize(),this._updateAllElements({updateCache:!0})},t._updateAllElements=function(i){var r=this,o=i===void 0?{}:i,l=o.updateCache;this.elements&&this.elements.forEach(function(u){l&&u.setCachedAttributes(r.view,r.scroll),r._updateElementPosition(u)}),this._ticking=!1},t._updateElementPosition=function(i){i.props.disabled||this.disabled||i.updatePosition(this.scroll)},t._getViewParams=function(){if(this._hasScrollContainer){var i=this.viewEl.offsetWidth,r=this.viewEl.offsetHeight,o=this.viewEl.scrollHeight,l=this.viewEl.scrollWidth;return this.view.setSize({width:i,height:r,scrollHeight:o,scrollWidth:l})}var u=document.documentElement,d=window.innerWidth||u.clientWidth,f=window.innerHeight||u.clientHeight,g=u.scrollHeight,y=u.scrollWidth;return{width:d,height:f,scrollHeight:g,scrollWidth:y}},t._setViewSize=function(){return this.view.setSize(this._getViewParams())},t._checkIfViewHasChanged=function(){return this.view.hasChanged(this._getViewParams())},t.getElements=function(){return this.elements},t.createElement=function(i){var r=new DP($a({},i,{scrollAxis:this.scrollAxis,disabledParallaxController:this.disabled}));return r.setCachedAttributes(this.view,this.scroll),this.elements=this.elements?[].concat(this.elements,[r]):[r],this._updateElementPosition(r),this._checkIfViewHasChanged()&&this.update(),r},t.removeElementById=function(i){this.elements&&(this.elements=this.elements.filter(function(r){return r.id!==i}))},t.updateElementPropsById=function(i,r){this.elements&&(this.elements=this.elements.map(function(o){return o.id===i?o.updateProps(r):o})),this.update()},t.resetElementStyles=function(i){Tm(i)},t.update=function(){var i=this._getScrollPosition(),r=i[0],o=i[1];this.scroll.setScroll(r,o),this._setViewSize(),this._updateAllElements({updateCache:!0})},t.updateScrollContainer=function(i){this._removeListeners(this.viewEl),this.viewEl=i,this._hasScrollContainer=!!i,this.view=new tT({width:0,height:0,scrollWidth:0,scrollHeight:0,scrollContainer:i}),this._setViewSize(),this._addListeners(this.viewEl),this._updateAllElements({updateCache:!0})},t.disableParallaxController=function(){this.disabled=!0,this._removeListeners(this.viewEl),this.elements&&this.elements.forEach(function(i){return Tm(i)})},t.enableParallaxController=function(){var i=this;this.disabled=!1,this.elements&&this.elements.forEach(function(r){return r.updateElementOptions({disabledParallaxController:!1,scrollAxis:i.scrollAxis})}),this._addListeners(this.viewEl),this._addResizeObserver(),this._setViewSize()},t.disableAllElements=function(){console.warn("deprecated: use disableParallaxController() instead"),this.elements&&(this.elements=this.elements.map(function(i){return i.updateProps({disabled:!0})})),this.update()},t.enableAllElements=function(){console.warn("deprecated: use enableParallaxController() instead"),this.elements&&(this.elements=this.elements.map(function(i){return i.updateProps({disabled:!1})})),this.update()},t.destroy=function(){this._removeListeners(this.viewEl),this.elements&&this.elements.forEach(function(i){return Tm(i)}),this.elements=void 0},n}(),OP=De.createContext(null),UP=function(t){var e=typeof window>"u";return e?null:LP.init(t)};function VP(n){var t=q.useRef(null);return t.current||(t.current=UP({scrollAxis:n.scrollAxis||Ys.vertical,scrollContainer:n.scrollContainer,disabled:n.isDisabled})),q.useEffect(function(){n.scrollContainer&&t.current&&t.current.updateScrollContainer(n.scrollContainer)},[n.scrollContainer,t.current]),q.useEffect(function(){n.isDisabled&&t.current&&t.current.disableParallaxController(),!n.isDisabled&&t.current&&t.current.enableParallaxController()},[n.isDisabled,t.current]),q.useEffect(function(){return function(){t?.current&&t?.current.destroy()}},[]),De.createElement(OP.Provider,{value:t.current},n.children)}const Rc=({text:n,delay:t=100,className:e=""})=>{const[i,r]=q.useState(""),[o,l]=q.useState(0);return q.useEffect(()=>{if(o<n.length){const u=setTimeout(()=>{r(d=>d+n[o]),l(d=>d+1)},t);return()=>clearTimeout(u)}},[o,n,t]),m.jsxs("span",{className:e,children:[i,o<n.length&&m.jsx("span",{className:"animate-pulse",children:"|"})]})},FP=()=>{const n=["logoipsum","logoipsum","logoipsum","logoipsum","logoipsum","logoipsum","logoipsum","logoipsum"];return m.jsx("div",{className:"absolute bottom-8 left-4 right-4 sm:left-6 sm:right-6 lg:left-8 lg:right-8",children:m.jsx("div",{className:"flex items-center justify-center space-x-6 sm:space-x-8 lg:space-x-12 overflow-hidden",children:n.map((t,e)=>m.jsx("div",{className:"flex items-center opacity-60 hover:opacity-100 transition-opacity",children:m.jsx("span",{className:"text-xs sm:text-sm font-medium text-gray-600",children:t})},e))})})},BP=()=>{const[n,t]=q.useState(!1);return q.useEffect(()=>{const e=setTimeout(()=>{t(!0)},500);return()=>clearTimeout(e)},[]),m.jsxs("div",{className:"relative min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 overflow-hidden",children:[m.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[m.jsx("div",{className:"absolute top-1/2 right-0 transform translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] sm:w-[800px] sm:h-[800px] lg:w-[1000px] lg:h-[1000px] xl:w-[1200px] xl:h-[1200px]",children:m.jsx("div",{className:"w-full h-full rounded-full bg-gradient-to-br from-purple-400/20 via-indigo-500/30 to-gray-900/40 blur-3xl"})}),m.jsx("div",{className:"absolute top-1/2 left-0 w-32 h-32 sm:w-64 sm:h-64 lg:w-80 lg:h-80 rounded-full bg-gradient-to-br from-blue-400/10 to-purple-600/20 blur-2xl"})]}),m.jsx("div",{className:"relative z-10 flex items-center min-h-screen",children:m.jsx("div",{className:"w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-16 items-center",children:[m.jsxs("div",{className:"space-y-6 sm:space-y-8 text-center lg:text-left pt-16 lg:pt-0",children:[m.jsxs("div",{className:"space-y-2 sm:space-y-4 relative",children:[m.jsx("div",{className:"absolute -inset-12 sm:-inset-16 lg:-inset-20 xl:-inset-24",children:m.jsx("div",{className:"w-full h-full rounded-full bg-gradient-to-br from-purple-400/15 via-indigo-500/20 to-blue-600/10 blur-3xl"})}),m.jsx("h1",{className:"relative text-5xl sm:text-6xl lg:text-7xl xl:text-8xl font-bold text-gray-900 leading-tight",children:n&&m.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[m.jsx("div",{className:"relative",children:m.jsx(Rc,{text:"Evolve",delay:150,className:"block relative z-10"})}),m.jsx("div",{className:"relative",children:m.jsx(Rc,{text:"Transform",delay:120,className:"block relative z-10"})}),m.jsx("div",{className:"relative",children:m.jsx(Rc,{text:"Accelerate",delay:100,className:"block relative z-10"})})]})})]}),m.jsxs("div",{className:"space-y-2 max-w-md mx-auto lg:mx-0",children:[m.jsx("p",{className:"text-lg sm:text-xl text-gray-600 leading-relaxed",children:"specialised in crafting human —"}),m.jsx("p",{className:"text-lg sm:text-xl text-gray-600 leading-relaxed",children:"centric digital experiences."})]})]}),m.jsx("div",{className:"hidden lg:block absolute -right-20 top-1/2 -translate-y-1/2 z-0 overflow-visible",children:m.jsx("div",{className:"bg-[#191A2E]",style:{width:"500px",height:"700px",borderTopLeftRadius:"350px",borderBottomLeftRadius:"350px",borderTopRightRadius:"0",borderBottomRightRadius:"0"}})})]})})}),m.jsx(FP,{}),m.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-32 bg-gradient-to-b from-transparent to-white z-0"})]})},qx=q.createContext({});function Ep(n){const t=q.useRef(null);return t.current===null&&(t.current=n()),t.current}const Xx=typeof window<"u",Yx=Xx?q.useLayoutEffect:q.useEffect,Sp=q.createContext(null);function Kx(n,t){n.indexOf(t)===-1&&n.push(t)}function $x(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const ua=(n,t,e)=>e>t?t:e<n?n:e;let Qx=()=>{};const ha={},H2=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function G2(n){return typeof n=="object"&&n!==null}const W2=n=>/^0[^.\s]+$/u.test(n);function Zx(n){let t;return()=>(t===void 0&&(t=n()),t)}const Is=n=>n,kP=(n,t)=>e=>t(n(e)),od=(...n)=>n.reduce(kP),Oh=(n,t,e)=>{const i=t-n;return i===0?1:(e-n)/i};class Jx{constructor(){this.subscriptions=[]}add(t){return Kx(this.subscriptions,t),()=>$x(this.subscriptions,t)}notify(t,e,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](t,e,i);else for(let o=0;o<r;o++){const l=this.subscriptions[o];l&&l(t,e,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const vr=n=>n*1e3,yr=n=>n/1e3;function q2(n,t){return t?n*(1e3/t):0}const X2=(n,t,e)=>(((1-3*e+3*t)*n+(3*e-6*t))*n+3*t)*n,jP=1e-7,zP=12;function HP(n,t,e,i,r){let o,l,u=0;do l=t+(e-t)/2,o=X2(l,i,r)-n,o>0?e=l:t=l;while(Math.abs(o)>jP&&++u<zP);return l}function ld(n,t,e,i){if(n===t&&e===i)return Is;const r=o=>HP(o,0,1,n,e);return o=>o===0||o===1?o:X2(r(o),t,i)}const Y2=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,K2=n=>t=>1-n(1-t),$2=ld(.33,1.53,.69,.99),t_=K2($2),Q2=Y2(t_),Z2=n=>(n*=2)<1?.5*t_(n):.5*(2-Math.pow(2,-10*(n-1))),e_=n=>1-Math.sin(Math.acos(n)),J2=K2(e_),tM=Y2(e_),GP=ld(.42,0,1,1),WP=ld(0,0,.58,1),eM=ld(.42,0,.58,1),qP=n=>Array.isArray(n)&&typeof n[0]!="number",nM=n=>Array.isArray(n)&&typeof n[0]=="number",XP={linear:Is,easeIn:GP,easeInOut:eM,easeOut:WP,circIn:e_,circInOut:tM,circOut:J2,backIn:t_,backInOut:Q2,backOut:$2,anticipate:Z2},YP=n=>typeof n=="string",eT=n=>{if(nM(n)){Qx(n.length===4);const[t,e,i,r]=n;return ld(t,e,i,r)}else if(YP(n))return XP[n];return n},zf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function KP(n,t){let e=new Set,i=new Set,r=!1,o=!1;const l=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function d(g){l.has(g)&&(f.schedule(g),n()),g(u)}const f={schedule:(g,y=!1,x=!1)=>{const T=x&&r?e:i;return y&&l.add(g),T.has(g)||T.add(g),g},cancel:g=>{i.delete(g),l.delete(g)},process:g=>{if(u=g,r){o=!0;return}r=!0,[e,i]=[i,e],e.forEach(d),e.clear(),r=!1,o&&(o=!1,f.process(g))}};return f}const $P=40;function iM(n,t){let e=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},o=()=>e=!0,l=zf.reduce((N,U)=>(N[U]=KP(o),N),{}),{setup:u,read:d,resolveKeyframes:f,preUpdate:g,update:y,preRender:x,render:E,postRender:T}=l,C=()=>{const N=ha.useManualTiming?r.timestamp:performance.now();e=!1,ha.useManualTiming||(r.delta=i?1e3/60:Math.max(Math.min(N-r.timestamp,$P),1)),r.timestamp=N,r.isProcessing=!0,u.process(r),d.process(r),f.process(r),g.process(r),y.process(r),x.process(r),E.process(r),T.process(r),r.isProcessing=!1,e&&t&&(i=!1,n(C))},S=()=>{e=!0,i=!0,r.isProcessing||n(C)};return{schedule:zf.reduce((N,U)=>{const j=l[U];return N[U]=(G,D=!1,R=!1)=>(e||S(),j.schedule(G,D,R)),N},{}),cancel:N=>{for(let U=0;U<zf.length;U++)l[zf[U]].cancel(N)},state:r,steps:l}}const{schedule:An,cancel:so,state:Si,steps:Z0}=iM(typeof requestAnimationFrame<"u"?requestAnimationFrame:Is,!0);let wm;function QP(){wm=void 0}const $i={now:()=>(wm===void 0&&$i.set(Si.isProcessing||ha.useManualTiming?Si.timestamp:performance.now()),wm),set:n=>{wm=n,queueMicrotask(QP)}},sM=n=>t=>typeof t=="string"&&t.startsWith(n),n_=sM("--"),ZP=sM("var(--"),i_=n=>ZP(n)?JP.test(n.split("/*")[0].trim()):!1,JP=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Zc={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Uh={...Zc,transform:n=>ua(0,1,n)},Hf={...Zc,default:1},Sh=n=>Math.round(n*1e5)/1e5,s_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function t4(n){return n==null}const e4=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,r_=(n,t)=>e=>!!(typeof e=="string"&&e4.test(e)&&e.startsWith(n)||t&&!t4(e)&&Object.prototype.hasOwnProperty.call(e,t)),rM=(n,t,e)=>i=>{if(typeof i!="string")return i;const[r,o,l,u]=i.match(s_);return{[n]:parseFloat(r),[t]:parseFloat(o),[e]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},n4=n=>ua(0,255,n),J0={...Zc,transform:n=>Math.round(n4(n))},Jo={test:r_("rgb","red"),parse:rM("red","green","blue"),transform:({red:n,green:t,blue:e,alpha:i=1})=>"rgba("+J0.transform(n)+", "+J0.transform(t)+", "+J0.transform(e)+", "+Sh(Uh.transform(i))+")"};function i4(n){let t="",e="",i="",r="";return n.length>5?(t=n.substring(1,3),e=n.substring(3,5),i=n.substring(5,7),r=n.substring(7,9)):(t=n.substring(1,2),e=n.substring(2,3),i=n.substring(3,4),r=n.substring(4,5),t+=t,e+=e,i+=i,r+=r),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const iy={test:r_("#"),parse:i4,transform:Jo.transform},cd=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),Xa=cd("deg"),xr=cd("%"),Ee=cd("px"),s4=cd("vh"),r4=cd("vw"),nT={...xr,parse:n=>xr.parse(n)/100,transform:n=>xr.transform(n*100)},Ec={test:r_("hsl","hue"),parse:rM("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:e,alpha:i=1})=>"hsla("+Math.round(n)+", "+xr.transform(Sh(t))+", "+xr.transform(Sh(e))+", "+Sh(Uh.transform(i))+")"},Jn={test:n=>Jo.test(n)||iy.test(n)||Ec.test(n),parse:n=>Jo.test(n)?Jo.parse(n):Ec.test(n)?Ec.parse(n):iy.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Jo.transform(n):Ec.transform(n),getAnimatableNone:n=>{const t=Jn.parse(n);return t.alpha=0,Jn.transform(t)}},a4=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function o4(n){return isNaN(n)&&typeof n=="string"&&(n.match(s_)?.length||0)+(n.match(a4)?.length||0)>0}const aM="number",oM="color",l4="var",c4="var(",iT="${}",u4=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Vh(n){const t=n.toString(),e=[],i={color:[],number:[],var:[]},r=[];let o=0;const u=t.replace(u4,d=>(Jn.test(d)?(i.color.push(o),r.push(oM),e.push(Jn.parse(d))):d.startsWith(c4)?(i.var.push(o),r.push(l4),e.push(d)):(i.number.push(o),r.push(aM),e.push(parseFloat(d))),++o,iT)).split(iT);return{values:e,split:u,indexes:i,types:r}}function lM(n){return Vh(n).values}function cM(n){const{split:t,types:e}=Vh(n),i=t.length;return r=>{let o="";for(let l=0;l<i;l++)if(o+=t[l],r[l]!==void 0){const u=e[l];u===aM?o+=Sh(r[l]):u===oM?o+=Jn.transform(r[l]):o+=r[l]}return o}}const h4=n=>typeof n=="number"?0:Jn.test(n)?Jn.getAnimatableNone(n):n;function d4(n){const t=lM(n);return cM(n)(t.map(h4))}const ro={test:o4,parse:lM,createTransformer:cM,getAnimatableNone:d4};function tv(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+(t-n)*6*e:e<1/2?t:e<2/3?n+(t-n)*(2/3-e)*6:n}function f4({hue:n,saturation:t,lightness:e,alpha:i}){n/=360,t/=100,e/=100;let r=0,o=0,l=0;if(!t)r=o=l=e;else{const u=e<.5?e*(1+t):e+t-e*t,d=2*e-u;r=tv(d,u,n+1/3),o=tv(d,u,n),l=tv(d,u,n-1/3)}return{red:Math.round(r*255),green:Math.round(o*255),blue:Math.round(l*255),alpha:i}}function Hm(n,t){return e=>e>0?t:n}const In=(n,t,e)=>n+(t-n)*e,ev=(n,t,e)=>{const i=n*n,r=e*(t*t-i)+i;return r<0?0:Math.sqrt(r)},m4=[iy,Jo,Ec],p4=n=>m4.find(t=>t.test(n));function sT(n){const t=p4(n);if(!t)return!1;let e=t.parse(n);return t===Ec&&(e=f4(e)),e}const rT=(n,t)=>{const e=sT(n),i=sT(t);if(!e||!i)return Hm(n,t);const r={...e};return o=>(r.red=ev(e.red,i.red,o),r.green=ev(e.green,i.green,o),r.blue=ev(e.blue,i.blue,o),r.alpha=In(e.alpha,i.alpha,o),Jo.transform(r))},sy=new Set(["none","hidden"]);function g4(n,t){return sy.has(n)?e=>e<=0?n:t:e=>e>=1?t:n}function v4(n,t){return e=>In(n,t,e)}function a_(n){return typeof n=="number"?v4:typeof n=="string"?i_(n)?Hm:Jn.test(n)?rT:_4:Array.isArray(n)?uM:typeof n=="object"?Jn.test(n)?rT:y4:Hm}function uM(n,t){const e=[...n],i=e.length,r=n.map((o,l)=>a_(o)(o,t[l]));return o=>{for(let l=0;l<i;l++)e[l]=r[l](o);return e}}function y4(n,t){const e={...n,...t},i={};for(const r in e)n[r]!==void 0&&t[r]!==void 0&&(i[r]=a_(n[r])(n[r],t[r]));return r=>{for(const o in i)e[o]=i[o](r);return e}}function x4(n,t){const e=[],i={color:0,var:0,number:0};for(let r=0;r<t.values.length;r++){const o=t.types[r],l=n.indexes[o][i[o]],u=n.values[l]??0;e[r]=u,i[o]++}return e}const _4=(n,t)=>{const e=ro.createTransformer(t),i=Vh(n),r=Vh(t);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?sy.has(n)&&!r.values.length||sy.has(t)&&!i.values.length?g4(n,t):od(uM(x4(i,r),r.values),e):Hm(n,t)};function hM(n,t,e){return typeof n=="number"&&typeof t=="number"&&typeof e=="number"?In(n,t,e):a_(n)(n,t)}const b4=n=>{const t=({timestamp:e})=>n(e);return{start:(e=!0)=>An.update(t,e),stop:()=>so(t),now:()=>Si.isProcessing?Si.timestamp:$i.now()}},dM=(n,t,e=10)=>{let i="";const r=Math.max(Math.round(t/e),2);for(let o=0;o<r;o++)i+=Math.round(n(o/(r-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Gm=2e4;function o_(n){let t=0;const e=50;let i=n.next(t);for(;!i.done&&t<Gm;)t+=e,i=n.next(t);return t>=Gm?1/0:t}function E4(n,t=100,e){const i=e({...n,keyframes:[0,t]}),r=Math.min(o_(i),Gm);return{type:"keyframes",ease:o=>i.next(r*o).value/t,duration:yr(r)}}const S4=5;function fM(n,t,e){const i=Math.max(t-S4,0);return q2(e-n(i),t-i)}const Bn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},nv=.001;function T4({duration:n=Bn.duration,bounce:t=Bn.bounce,velocity:e=Bn.velocity,mass:i=Bn.mass}){let r,o,l=1-t;l=ua(Bn.minDamping,Bn.maxDamping,l),n=ua(Bn.minDuration,Bn.maxDuration,yr(n)),l<1?(r=f=>{const g=f*l,y=g*n,x=g-e,E=ry(f,l),T=Math.exp(-y);return nv-x/E*T},o=f=>{const y=f*l*n,x=y*e+e,E=Math.pow(l,2)*Math.pow(f,2)*n,T=Math.exp(-y),C=ry(Math.pow(f,2),l);return(-r(f)+nv>0?-1:1)*((x-E)*T)/C}):(r=f=>{const g=Math.exp(-f*n),y=(f-e)*n+1;return-nv+g*y},o=f=>{const g=Math.exp(-f*n),y=(e-f)*(n*n);return g*y});const u=5/n,d=A4(r,o,u);if(n=vr(n),isNaN(d))return{stiffness:Bn.stiffness,damping:Bn.damping,duration:n};{const f=Math.pow(d,2)*i;return{stiffness:f,damping:l*2*Math.sqrt(i*f),duration:n}}}const w4=12;function A4(n,t,e){let i=e;for(let r=1;r<w4;r++)i=i-n(i)/t(i);return i}function ry(n,t){return n*Math.sqrt(1-t*t)}const M4=["duration","bounce"],R4=["stiffness","damping","mass"];function aT(n,t){return t.some(e=>n[e]!==void 0)}function C4(n){let t={velocity:Bn.velocity,stiffness:Bn.stiffness,damping:Bn.damping,mass:Bn.mass,isResolvedFromDuration:!1,...n};if(!aT(n,R4)&&aT(n,M4))if(n.visualDuration){const e=n.visualDuration,i=2*Math.PI/(e*1.2),r=i*i,o=2*ua(.05,1,1-(n.bounce||0))*Math.sqrt(r);t={...t,mass:Bn.mass,stiffness:r,damping:o}}else{const e=T4(n);t={...t,...e,mass:Bn.mass},t.isResolvedFromDuration=!0}return t}function Wm(n=Bn.visualDuration,t=Bn.bounce){const e=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:i,restDelta:r}=e;const o=e.keyframes[0],l=e.keyframes[e.keyframes.length-1],u={done:!1,value:o},{stiffness:d,damping:f,mass:g,duration:y,velocity:x,isResolvedFromDuration:E}=C4({...e,velocity:-yr(e.velocity||0)}),T=x||0,C=f/(2*Math.sqrt(d*g)),S=l-o,b=yr(Math.sqrt(d/g)),O=Math.abs(S)<5;i||(i=O?Bn.restSpeed.granular:Bn.restSpeed.default),r||(r=O?Bn.restDelta.granular:Bn.restDelta.default);let N;if(C<1){const j=ry(b,C);N=G=>{const D=Math.exp(-C*b*G);return l-D*((T+C*b*S)/j*Math.sin(j*G)+S*Math.cos(j*G))}}else if(C===1)N=j=>l-Math.exp(-b*j)*(S+(T+b*S)*j);else{const j=b*Math.sqrt(C*C-1);N=G=>{const D=Math.exp(-C*b*G),R=Math.min(j*G,300);return l-D*((T+C*b*S)*Math.sinh(R)+j*S*Math.cosh(R))/j}}const U={calculatedDuration:E&&y||null,next:j=>{const G=N(j);if(E)u.done=j>=y;else{let D=j===0?T:0;C<1&&(D=j===0?vr(T):fM(N,j,G));const R=Math.abs(D)<=i,w=Math.abs(l-G)<=r;u.done=R&&w}return u.value=u.done?l:G,u},toString:()=>{const j=Math.min(o_(U),Gm),G=dM(D=>U.next(j*D).value,j,30);return j+"ms "+G},toTransition:()=>{}};return U}Wm.applyToOptions=n=>{const t=E4(n,100,Wm);return n.ease=t.ease,n.duration=vr(t.duration),n.type="keyframes",n};function ay({keyframes:n,velocity:t=0,power:e=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:o=500,modifyTarget:l,min:u,max:d,restDelta:f=.5,restSpeed:g}){const y=n[0],x={done:!1,value:y},E=R=>u!==void 0&&R<u||d!==void 0&&R>d,T=R=>u===void 0?d:d===void 0||Math.abs(u-R)<Math.abs(d-R)?u:d;let C=e*t;const S=y+C,b=l===void 0?S:l(S);b!==S&&(C=b-y);const O=R=>-C*Math.exp(-R/i),N=R=>b+O(R),U=R=>{const w=O(R),M=N(R);x.done=Math.abs(w)<=f,x.value=x.done?b:M};let j,G;const D=R=>{E(x.value)&&(j=R,G=Wm({keyframes:[x.value,T(x.value)],velocity:fM(N,R,x.value),damping:r,stiffness:o,restDelta:f,restSpeed:g}))};return D(0),{calculatedDuration:null,next:R=>{let w=!1;return!G&&j===void 0&&(w=!0,U(R),D(R)),j!==void 0&&R>=j?G.next(R-j):(!w&&U(R),x)}}}function N4(n,t,e){const i=[],r=e||ha.mix||hM,o=n.length-1;for(let l=0;l<o;l++){let u=r(n[l],n[l+1]);if(t){const d=Array.isArray(t)?t[l]||Is:t;u=od(d,u)}i.push(u)}return i}function D4(n,t,{clamp:e=!0,ease:i,mixer:r}={}){const o=n.length;if(Qx(o===t.length),o===1)return()=>t[0];if(o===2&&t[0]===t[1])return()=>t[1];const l=n[0]===n[1];n[0]>n[o-1]&&(n=[...n].reverse(),t=[...t].reverse());const u=N4(t,i,r),d=u.length,f=g=>{if(l&&g<n[0])return t[0];let y=0;if(d>1)for(;y<n.length-2&&!(g<n[y+1]);y++);const x=Oh(n[y],n[y+1],g);return u[y](x)};return e?g=>f(ua(n[0],n[o-1],g)):f}function I4(n,t){const e=n[n.length-1];for(let i=1;i<=t;i++){const r=Oh(0,t,i);n.push(In(e,1,r))}}function P4(n){const t=[0];return I4(t,n.length-1),t}function L4(n,t){return n.map(e=>e*t)}function O4(n,t){return n.map(()=>t||eM).splice(0,n.length-1)}function Th({duration:n=300,keyframes:t,times:e,ease:i="easeInOut"}){const r=qP(i)?i.map(eT):eT(i),o={done:!1,value:t[0]},l=L4(e&&e.length===t.length?e:P4(t),n),u=D4(l,t,{ease:Array.isArray(r)?r:O4(t,r)});return{calculatedDuration:n,next:d=>(o.value=u(d),o.done=d>=n,o)}}const U4=n=>n!==null;function l_(n,{repeat:t,repeatType:e="loop"},i,r=1){const o=n.filter(U4),u=r<0||t&&e!=="loop"&&t%2===1?0:o.length-1;return!u||i===void 0?o[u]:i}const V4={decay:ay,inertia:ay,tween:Th,keyframes:Th,spring:Wm};function mM(n){typeof n.type=="string"&&(n.type=V4[n.type])}class c_{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,e){return this.finished.then(t,e)}}const F4=n=>n/100;class u_ extends c_{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:e}=this.options;e&&e.updatedAt!==$i.now()&&this.tick($i.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;mM(t);const{type:e=Th,repeat:i=0,repeatDelay:r=0,repeatType:o,velocity:l=0}=t;let{keyframes:u}=t;const d=e||Th;d!==Th&&typeof u[0]!="number"&&(this.mixKeyframes=od(F4,hM(u[0],u[1])),u=[0,100]);const f=d({...t,keyframes:u});o==="mirror"&&(this.mirroredGenerator=d({...t,keyframes:[...u].reverse(),velocity:-l})),f.calculatedDuration===null&&(f.calculatedDuration=o_(f));const{calculatedDuration:g}=f;this.calculatedDuration=g,this.resolvedDuration=g+r,this.totalDuration=this.resolvedDuration*(i+1)-r,this.generator=f}updateTime(t){const e=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=e}tick(t,e=!1){const{generator:i,totalDuration:r,mixKeyframes:o,mirroredGenerator:l,resolvedDuration:u,calculatedDuration:d}=this;if(this.startTime===null)return i.next(0);const{delay:f=0,keyframes:g,repeat:y,repeatType:x,repeatDelay:E,type:T,onUpdate:C,finalKeyframe:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-r/this.speed,this.startTime)),e?this.currentTime=t:this.updateTime(t);const b=this.currentTime-f*(this.playbackSpeed>=0?1:-1),O=this.playbackSpeed>=0?b<0:b>r;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let N=this.currentTime,U=i;if(y){const R=Math.min(this.currentTime,r)/u;let w=Math.floor(R),M=R%1;!M&&R>=1&&(M=1),M===1&&w--,w=Math.min(w,y+1),!!(w%2)&&(x==="reverse"?(M=1-M,E&&(M-=E/u)):x==="mirror"&&(U=l)),N=ua(0,1,M)*u}const j=O?{done:!1,value:g[0]}:U.next(N);o&&(j.value=o(j.value));let{done:G}=j;!O&&d!==null&&(G=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&G);return D&&T!==ay&&(j.value=l_(g,this.options,S,this.speed)),C&&C(j.value),D&&this.finish(),j}then(t,e){return this.finished.then(t,e)}get duration(){return yr(this.calculatedDuration)}get time(){return yr(this.currentTime)}set time(t){t=vr(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime($i.now());const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=yr(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=b4,startTime:e}=this.options;this.driver||(this.driver=t(r=>this.tick(r))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=e??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime($i.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function B4(n){for(let t=1;t<n.length;t++)n[t]??(n[t]=n[t-1])}const tl=n=>n*180/Math.PI,oy=n=>{const t=tl(Math.atan2(n[1],n[0]));return ly(t)},k4={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:oy,rotateZ:oy,skewX:n=>tl(Math.atan(n[1])),skewY:n=>tl(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},ly=n=>(n=n%360,n<0&&(n+=360),n),oT=oy,lT=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),cT=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),j4={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:lT,scaleY:cT,scale:n=>(lT(n)+cT(n))/2,rotateX:n=>ly(tl(Math.atan2(n[6],n[5]))),rotateY:n=>ly(tl(Math.atan2(-n[2],n[0]))),rotateZ:oT,rotate:oT,skewX:n=>tl(Math.atan(n[4])),skewY:n=>tl(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function cy(n){return n.includes("scale")?1:0}function uy(n,t){if(!n||n==="none")return cy(t);const e=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,r;if(e)i=j4,r=e;else{const u=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=k4,r=u}if(!r)return cy(t);const o=i[t],l=r[1].split(",").map(H4);return typeof o=="function"?o(l):l[o]}const z4=(n,t)=>{const{transform:e="none"}=getComputedStyle(n);return uy(e,t)};function H4(n){return parseFloat(n.trim())}const Jc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],tu=new Set(Jc),uT=n=>n===Zc||n===Ee,G4=new Set(["x","y","z"]),W4=Jc.filter(n=>!G4.has(n));function q4(n){const t=[];return W4.forEach(e=>{const i=n.getValue(e);i!==void 0&&(t.push([e,i.get()]),i.set(e.startsWith("scale")?1:0))}),t}const sl={width:({x:n},{paddingLeft:t="0",paddingRight:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),height:({y:n},{paddingTop:t="0",paddingBottom:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:(n,{transform:t})=>uy(t,"x"),y:(n,{transform:t})=>uy(t,"y")};sl.translateX=sl.x;sl.translateY=sl.y;const rl=new Set;let hy=!1,dy=!1,fy=!1;function pM(){if(dy){const n=Array.from(rl).filter(i=>i.needsMeasurement),t=new Set(n.map(i=>i.element)),e=new Map;t.forEach(i=>{const r=q4(i);r.length&&(e.set(i,r),i.render())}),n.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const r=e.get(i);r&&r.forEach(([o,l])=>{i.getValue(o)?.set(l)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}dy=!1,hy=!1,rl.forEach(n=>n.complete(fy)),rl.clear()}function gM(){rl.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(dy=!0)})}function X4(){fy=!0,gM(),pM(),fy=!1}class h_{constructor(t,e,i,r,o,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=i,this.motionValue=r,this.element=o,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(rl.add(this),hy||(hy=!0,An.read(gM),An.resolveKeyframes(pM))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:i,motionValue:r}=this;if(t[0]===null){const o=r?.get(),l=t[t.length-1];if(o!==void 0)t[0]=o;else if(i&&e){const u=i.readValue(e,l);u!=null&&(t[0]=u)}t[0]===void 0&&(t[0]=l),r&&o===void 0&&r.set(t[0])}B4(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),rl.delete(this)}cancel(){this.state==="scheduled"&&(rl.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Y4=n=>n.startsWith("--");function K4(n,t,e){Y4(t)?n.style.setProperty(t,e):n.style[t]=e}const $4=Zx(()=>window.ScrollTimeline!==void 0),Q4={};function Z4(n,t){const e=Zx(n);return()=>Q4[t]??e()}const vM=Z4(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ph=([n,t,e,i])=>`cubic-bezier(${n}, ${t}, ${e}, ${i})`,hT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ph([0,.65,.55,1]),circOut:ph([.55,0,1,.45]),backIn:ph([.31,.01,.66,-.59]),backOut:ph([.33,1.53,.69,.99])};function yM(n,t){if(n)return typeof n=="function"?vM()?dM(n,t):"ease-out":nM(n)?ph(n):Array.isArray(n)?n.map(e=>yM(e,t)||hT.easeOut):hT[n]}function J4(n,t,e,{delay:i=0,duration:r=300,repeat:o=0,repeatType:l="loop",ease:u="easeOut",times:d}={},f=void 0){const g={[t]:e};d&&(g.offset=d);const y=yM(u,r);Array.isArray(y)&&(g.easing=y);const x={delay:i,duration:r,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:o+1,direction:l==="reverse"?"alternate":"normal"};return f&&(x.pseudoElement=f),n.animate(g,x)}function xM(n){return typeof n=="function"&&"applyToOptions"in n}function tL({type:n,...t}){return xM(n)&&vM()?n.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class eL extends c_{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:e,name:i,keyframes:r,pseudoElement:o,allowFlatten:l=!1,finalKeyframe:u,onComplete:d}=t;this.isPseudoElement=!!o,this.allowFlatten=l,this.options=t,Qx(typeof t.type!="string");const f=tL(t);this.animation=J4(e,i,r,f,o),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const g=l_(r,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(g):K4(e,i,g),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return yr(Number(t))}get time(){return yr(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=vr(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:e}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&$4()?(this.animation.timeline=t,Is):e(this)}}const _M={anticipate:Z2,backInOut:Q2,circInOut:tM};function nL(n){return n in _M}function iL(n){typeof n.ease=="string"&&nL(n.ease)&&(n.ease=_M[n.ease])}const dT=10;class sL extends eL{constructor(t){iL(t),mM(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:e,onUpdate:i,onComplete:r,element:o,...l}=this.options;if(!e)return;if(t!==void 0){e.set(t);return}const u=new u_({...l,autoplay:!1}),d=vr(this.finishedTime??this.time);e.setWithVelocity(u.sample(d-dT).value,u.sample(d).value,dT),u.stop()}}const fT=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(ro.test(n)||n==="0")&&!n.startsWith("url("));function rL(n){const t=n[0];if(n.length===1)return!0;for(let e=0;e<n.length;e++)if(n[e]!==t)return!0}function aL(n,t,e,i){const r=n[0];if(r===null)return!1;if(t==="display"||t==="visibility")return!0;const o=n[n.length-1],l=fT(r,t),u=fT(o,t);return!l||!u?!1:rL(n)||(e==="spring"||xM(e))&&i}function d_(n){return G2(n)&&"offsetHeight"in n}const oL=new Set(["opacity","clipPath","filter","transform"]),lL=Zx(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function cL(n){const{motionValue:t,name:e,repeatDelay:i,repeatType:r,damping:o,type:l}=n;if(!d_(t?.owner?.current))return!1;const{onUpdate:u,transformTemplate:d}=t.owner.getProps();return lL()&&e&&oL.has(e)&&(e!=="transform"||!d)&&!u&&!i&&r!=="mirror"&&o!==0&&l!=="inertia"}const uL=40;class hL extends c_{constructor({autoplay:t=!0,delay:e=0,type:i="keyframes",repeat:r=0,repeatDelay:o=0,repeatType:l="loop",keyframes:u,name:d,motionValue:f,element:g,...y}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=$i.now();const x={autoplay:t,delay:e,type:i,repeat:r,repeatDelay:o,repeatType:l,name:d,motionValue:f,element:g,...y},E=g?.KeyframeResolver||h_;this.keyframeResolver=new E(u,(T,C,S)=>this.onKeyframesResolved(T,C,x,!S),d,f,g),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,e,i,r){this.keyframeResolver=void 0;const{name:o,type:l,velocity:u,delay:d,isHandoff:f,onUpdate:g}=i;this.resolvedAt=$i.now(),aL(t,o,l,u)||((ha.instantAnimations||!d)&&g?.(l_(t,i,e)),t[0]=t[t.length-1],i.duration=0,i.repeat=0);const x={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>uL?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:e,...i,keyframes:t},E=!f&&cL(x)?new sL({...x,element:x.motionValue.owner.current}):new u_(x);E.finished.then(()=>this.notifyFinished()).catch(Is),this.pendingTimeline&&(this.stopTimeline=E.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=E}get finished(){return this._animation?this.animation.finished:this._finished}then(t,e){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),X4()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const dL=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function fL(n){const t=dL.exec(n);if(!t)return[,];const[,e,i,r]=t;return[`--${e??i}`,r]}function bM(n,t,e=1){const[i,r]=fL(n);if(!i)return;const o=window.getComputedStyle(t).getPropertyValue(i);if(o){const l=o.trim();return H2(l)?parseFloat(l):l}return i_(r)?bM(r,t,e+1):r}function f_(n,t){return n?.[t]??n?.default??n}const EM=new Set(["width","height","top","left","right","bottom",...Jc]),mL={test:n=>n==="auto",parse:n=>n},SM=n=>t=>t.test(n),TM=[Zc,Ee,xr,Xa,r4,s4,mL],mT=n=>TM.find(SM(n));function pL(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||W2(n):!0}const gL=new Set(["brightness","contrast","saturate","opacity"]);function vL(n){const[t,e]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[i]=e.match(s_)||[];if(!i)return n;const r=e.replace(i,"");let o=gL.has(t)?1:0;return i!==e&&(o*=100),t+"("+o+r+")"}const yL=/\b([a-z-]*)\(.*?\)/gu,my={...ro,getAnimatableNone:n=>{const t=n.match(yL);return t?t.map(vL).join(" "):n}},pT={...Zc,transform:Math.round},xL={rotate:Xa,rotateX:Xa,rotateY:Xa,rotateZ:Xa,scale:Hf,scaleX:Hf,scaleY:Hf,scaleZ:Hf,skew:Xa,skewX:Xa,skewY:Xa,distance:Ee,translateX:Ee,translateY:Ee,translateZ:Ee,x:Ee,y:Ee,z:Ee,perspective:Ee,transformPerspective:Ee,opacity:Uh,originX:nT,originY:nT,originZ:Ee},m_={borderWidth:Ee,borderTopWidth:Ee,borderRightWidth:Ee,borderBottomWidth:Ee,borderLeftWidth:Ee,borderRadius:Ee,radius:Ee,borderTopLeftRadius:Ee,borderTopRightRadius:Ee,borderBottomRightRadius:Ee,borderBottomLeftRadius:Ee,width:Ee,maxWidth:Ee,height:Ee,maxHeight:Ee,top:Ee,right:Ee,bottom:Ee,left:Ee,padding:Ee,paddingTop:Ee,paddingRight:Ee,paddingBottom:Ee,paddingLeft:Ee,margin:Ee,marginTop:Ee,marginRight:Ee,marginBottom:Ee,marginLeft:Ee,backgroundPositionX:Ee,backgroundPositionY:Ee,...xL,zIndex:pT,fillOpacity:Uh,strokeOpacity:Uh,numOctaves:pT},_L={...m_,color:Jn,backgroundColor:Jn,outlineColor:Jn,fill:Jn,stroke:Jn,borderColor:Jn,borderTopColor:Jn,borderRightColor:Jn,borderBottomColor:Jn,borderLeftColor:Jn,filter:my,WebkitFilter:my},wM=n=>_L[n];function AM(n,t){let e=wM(n);return e!==my&&(e=ro),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const bL=new Set(["auto","none","0"]);function EL(n,t,e){let i=0,r;for(;i<n.length&&!r;){const o=n[i];typeof o=="string"&&!bL.has(o)&&Vh(o).values.length&&(r=n[i]),i++}if(r&&e)for(const o of t)n[o]=AM(e,r)}class SL extends h_{constructor(t,e,i,r,o){super(t,e,i,r,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:i}=this;if(!e||!e.current)return;super.readKeyframes();for(let d=0;d<t.length;d++){let f=t[d];if(typeof f=="string"&&(f=f.trim(),i_(f))){const g=bM(f,e.current);g!==void 0&&(t[d]=g),d===t.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!EM.has(i)||t.length!==2)return;const[r,o]=t,l=mT(r),u=mT(o);if(l!==u)if(uT(l)&&uT(u))for(let d=0;d<t.length;d++){const f=t[d];typeof f=="string"&&(t[d]=parseFloat(f))}else sl[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,i=[];for(let r=0;r<t.length;r++)(t[r]===null||pL(t[r]))&&i.push(r);i.length&&EL(t,i,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=sl[i](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const r=e[e.length-1];r!==void 0&&t.getValue(i,r).jump(r,!1)}measureEndState(){const{element:t,name:e,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const r=t.getValue(e);r&&r.jump(this.measuredOrigin,!1);const o=i.length-1,l=i[o];i[o]=sl[e](t.measureViewportBox(),window.getComputedStyle(t.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([u,d])=>{t.getValue(u).set(d)}),this.resolveNoneKeyframes()}}function MM(n,t,e){if(n instanceof EventTarget)return[n];if(typeof n=="string"){const r=document.querySelectorAll(n);return r?Array.from(r):[]}return Array.from(n)}const RM=(n,t)=>t&&typeof n=="number"?t.transform(n):n,gT=30,TL=n=>!isNaN(parseFloat(n));class wL{constructor(t,e={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,r=!0)=>{const o=$i.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty();r&&this.events.renderRequest?.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=$i.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=TL(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new Jx);const i=this.events[t].add(e);return t==="change"?()=>{i(),An.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t,e=!0){!e||!this.passiveEffect?this.updateAndNotify(t,e):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,e,i){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=$i.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>gT)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,gT);return q2(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Uc(n,t){return new wL(n,t)}const{schedule:p_}=iM(queueMicrotask,!1),js={x:!1,y:!1};function CM(){return js.x||js.y}function AL(n){return n==="x"||n==="y"?js[n]?null:(js[n]=!0,()=>{js[n]=!1}):js.x||js.y?null:(js.x=js.y=!0,()=>{js.x=js.y=!1})}function NM(n,t){const e=MM(n),i=new AbortController,r={passive:!0,...t,signal:i.signal};return[e,r,()=>i.abort()]}function vT(n){return!(n.pointerType==="touch"||CM())}function ML(n,t,e={}){const[i,r,o]=NM(n,e),l=u=>{if(!vT(u))return;const{target:d}=u,f=t(d,u);if(typeof f!="function"||!d)return;const g=y=>{vT(y)&&(f(y),d.removeEventListener("pointerleave",g))};d.addEventListener("pointerleave",g,r)};return i.forEach(u=>{u.addEventListener("pointerenter",l,r)}),o}const DM=(n,t)=>t?n===t?!0:DM(n,t.parentElement):!1,g_=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,RL=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function CL(n){return RL.has(n.tagName)||n.tabIndex!==-1}const Am=new WeakSet;function yT(n){return t=>{t.key==="Enter"&&n(t)}}function iv(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const NL=(n,t)=>{const e=n.currentTarget;if(!e)return;const i=yT(()=>{if(Am.has(e))return;iv(e,"down");const r=yT(()=>{iv(e,"up")}),o=()=>iv(e,"cancel");e.addEventListener("keyup",r,t),e.addEventListener("blur",o,t)});e.addEventListener("keydown",i,t),e.addEventListener("blur",()=>e.removeEventListener("keydown",i),t)};function xT(n){return g_(n)&&!CM()}function DL(n,t,e={}){const[i,r,o]=NM(n,e),l=u=>{const d=u.currentTarget;if(!xT(u))return;Am.add(d);const f=t(d,u),g=(E,T)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",x),Am.has(d)&&Am.delete(d),xT(E)&&typeof f=="function"&&f(E,{success:T})},y=E=>{g(E,d===window||d===document||e.useGlobalTarget||DM(d,E.target))},x=E=>{g(E,!1)};window.addEventListener("pointerup",y,r),window.addEventListener("pointercancel",x,r)};return i.forEach(u=>{(e.useGlobalTarget?window:u).addEventListener("pointerdown",l,r),d_(u)&&(u.addEventListener("focus",f=>NL(f,r)),!CL(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),o}function IM(n){return G2(n)&&"ownerSVGElement"in n}function IL(n){return IM(n)&&n.tagName==="svg"}const Fi=n=>!!(n&&n.getVelocity),PL=[...TM,Jn,ro],LL=n=>PL.find(SM(n)),v_=q.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});class OL extends q.Component{getSnapshotBeforeUpdate(t){const e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent){const i=e.offsetParent,r=d_(i)&&i.offsetWidth||0,o=this.props.sizeRef.current;o.height=e.offsetHeight||0,o.width=e.offsetWidth||0,o.top=e.offsetTop,o.left=e.offsetLeft,o.right=r-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function UL({children:n,isPresent:t,anchorX:e,root:i}){const r=q.useId(),o=q.useRef(null),l=q.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=q.useContext(v_);return q.useInsertionEffect(()=>{const{width:d,height:f,top:g,left:y,right:x}=l.current;if(t||!o.current||!d||!f)return;const E=e==="left"?`left: ${y}`:`right: ${x}`;o.current.dataset.motionPopId=r;const T=document.createElement("style");u&&(T.nonce=u);const C=i??document.head;return C.appendChild(T),T.sheet&&T.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${f}px !important;
            ${E}px !important;
            top: ${g}px !important;
          }
        `),()=>{C.removeChild(T),C.contains(T)&&C.removeChild(T)}},[t]),m.jsx(OL,{isPresent:t,childRef:o,sizeRef:l,children:q.cloneElement(n,{ref:o})})}const VL=({children:n,initial:t,isPresent:e,onExitComplete:i,custom:r,presenceAffectsLayout:o,mode:l,anchorX:u,root:d})=>{const f=Ep(FL),g=q.useId();let y=!0,x=q.useMemo(()=>(y=!1,{id:g,initial:t,isPresent:e,custom:r,onExitComplete:E=>{f.set(E,!0);for(const T of f.values())if(!T)return;i&&i()},register:E=>(f.set(E,!1),()=>f.delete(E))}),[e,f,i]);return o&&y&&(x={...x}),q.useMemo(()=>{f.forEach((E,T)=>f.set(T,!1))},[e]),q.useEffect(()=>{!e&&!f.size&&i&&i()},[e]),l==="popLayout"&&(n=m.jsx(UL,{isPresent:e,anchorX:u,root:d,children:n})),m.jsx(Sp.Provider,{value:x,children:n})};function FL(){return new Map}function PM(n=!0){const t=q.useContext(Sp);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:i,register:r}=t,o=q.useId();q.useEffect(()=>{if(n)return r(o)},[n]);const l=q.useCallback(()=>n&&i&&i(o),[o,i,n]);return!e&&i?[!1,l]:[!0]}const Gf=n=>n.key||"";function _T(n){const t=[];return q.Children.forEach(n,e=>{q.isValidElement(e)&&t.push(e)}),t}const bT=({children:n,custom:t,initial:e=!0,onExitComplete:i,presenceAffectsLayout:r=!0,mode:o="sync",propagate:l=!1,anchorX:u="left",root:d})=>{const[f,g]=PM(l),y=q.useMemo(()=>_T(n),[n]),x=l&&!f?[]:y.map(Gf),E=q.useRef(!0),T=q.useRef(y),C=Ep(()=>new Map),[S,b]=q.useState(y),[O,N]=q.useState(y);Yx(()=>{E.current=!1,T.current=y;for(let G=0;G<O.length;G++){const D=Gf(O[G]);x.includes(D)?C.delete(D):C.get(D)!==!0&&C.set(D,!1)}},[O,x.length,x.join("-")]);const U=[];if(y!==S){let G=[...y];for(let D=0;D<O.length;D++){const R=O[D],w=Gf(R);x.includes(w)||(G.splice(D,0,R),U.push(R))}return o==="wait"&&U.length&&(G=U),N(_T(G)),b(y),null}const{forceRender:j}=q.useContext(qx);return m.jsx(m.Fragment,{children:O.map(G=>{const D=Gf(G),R=l&&!f?!1:y===O||x.includes(D),w=()=>{if(C.has(D))C.set(D,!0);else return;let M=!0;C.forEach(P=>{P||(M=!1)}),M&&(j?.(),N(T.current),l&&g?.(),i&&i())};return m.jsx(VL,{isPresent:R,initial:!E.current||e?void 0:!1,custom:t,presenceAffectsLayout:r,mode:o,root:d,onExitComplete:R?void 0:w,anchorX:u,children:G},D)})})},LM=q.createContext({strict:!1}),ET={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Vc={};for(const n in ET)Vc[n]={isEnabled:t=>ET[n].some(e=>!!t[e])};function BL(n){for(const t in n)Vc[t]={...Vc[t],...n[t]}}const kL=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function qm(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||kL.has(n)}let OM=n=>!qm(n);function jL(n){typeof n=="function"&&(OM=t=>t.startsWith("on")?!qm(t):n(t))}try{jL(require("@emotion/is-prop-valid").default)}catch{}function zL(n,t,e){const i={};for(const r in n)r==="values"&&typeof n.values=="object"||(OM(r)||e===!0&&qm(r)||!t&&!qm(r)||n.draggable&&r.startsWith("onDrag"))&&(i[r]=n[r]);return i}function HL(n){if(typeof Proxy>"u")return n;const t=new Map,e=(...i)=>n(...i);return new Proxy(e,{get:(i,r)=>r==="create"?n:(t.has(r)||t.set(r,n(r)),t.get(r))})}const Tp=q.createContext({});function wp(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function Fh(n){return typeof n=="string"||Array.isArray(n)}const y_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],x_=["initial",...y_];function Ap(n){return wp(n.animate)||x_.some(t=>Fh(n[t]))}function UM(n){return!!(Ap(n)||n.variants)}function GL(n,t){if(Ap(n)){const{initial:e,animate:i}=n;return{initial:e===!1||Fh(e)?e:void 0,animate:Fh(i)?i:void 0}}return n.inherit!==!1?t:{}}function WL(n){const{initial:t,animate:e}=GL(n,q.useContext(Tp));return q.useMemo(()=>({initial:t,animate:e}),[ST(t),ST(e)])}function ST(n){return Array.isArray(n)?n.join(" "):n}const qL=Symbol.for("motionComponentSymbol");function Sc(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function XL(n,t,e){return q.useCallback(i=>{i&&n.onMount&&n.onMount(i),t&&(i?t.mount(i):t.unmount()),e&&(typeof e=="function"?e(i):Sc(e)&&(e.current=i))},[t])}const __=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),YL="framerAppearId",VM="data-"+__(YL),FM=q.createContext({});function KL(n,t,e,i,r){const{visualElement:o}=q.useContext(Tp),l=q.useContext(LM),u=q.useContext(Sp),d=q.useContext(v_).reducedMotion,f=q.useRef(null);i=i||l.renderer,!f.current&&i&&(f.current=i(n,{visualState:t,parent:o,props:e,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const g=f.current,y=q.useContext(FM);g&&!g.projection&&r&&(g.type==="html"||g.type==="svg")&&$L(f.current,e,r,y);const x=q.useRef(!1);q.useInsertionEffect(()=>{g&&x.current&&g.update(e,u)});const E=e[VM],T=q.useRef(!!E&&!window.MotionHandoffIsComplete?.(E)&&window.MotionHasOptimisedAnimation?.(E));return Yx(()=>{g&&(x.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),p_.render(g.render),T.current&&g.animationState&&g.animationState.animateChanges())}),q.useEffect(()=>{g&&(!T.current&&g.animationState&&g.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(E)}),T.current=!1))}),g}function $L(n,t,e,i){const{layoutId:r,layout:o,drag:l,dragConstraints:u,layoutScroll:d,layoutRoot:f,layoutCrossfade:g}=t;n.projection=new e(n.latestValues,t["data-framer-portal-id"]?void 0:BM(n.parent)),n.projection.setOptions({layoutId:r,layout:o,alwaysMeasureLayout:!!l||u&&Sc(u),visualElement:n,animationType:typeof o=="string"?o:"both",initialPromotionConfig:i,crossfade:g,layoutScroll:d,layoutRoot:f})}function BM(n){if(n)return n.options.allowProjection!==!1?n.projection:BM(n.parent)}function QL({preloadedFeatures:n,createVisualElement:t,useRender:e,useVisualState:i,Component:r}){n&&BL(n);function o(u,d){let f;const g={...q.useContext(v_),...u,layoutId:ZL(u)},{isStatic:y}=g,x=WL(u),E=i(u,y);if(!y&&Xx){JL();const T=tO(g);f=T.MeasureLayout,x.visualElement=KL(r,E,g,t,T.ProjectionNode)}return m.jsxs(Tp.Provider,{value:x,children:[f&&x.visualElement?m.jsx(f,{visualElement:x.visualElement,...g}):null,e(r,u,XL(E,x.visualElement,d),E,y,x.visualElement)]})}o.displayName=`motion.${typeof r=="string"?r:`create(${r.displayName??r.name??""})`}`;const l=q.forwardRef(o);return l[qL]=r,l}function ZL({layoutId:n}){const t=q.useContext(qx).id;return t&&n!==void 0?t+"-"+n:n}function JL(n,t){q.useContext(LM).strict}function tO(n){const{drag:t,layout:e}=Vc;if(!t&&!e)return{};const i={...t,...e};return{MeasureLayout:t?.isEnabled(n)||e?.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const Bh={};function eO(n){for(const t in n)Bh[t]=n[t],n_(t)&&(Bh[t].isCSSVariable=!0)}function kM(n,{layout:t,layoutId:e}){return tu.has(n)||n.startsWith("origin")||(t||e!==void 0)&&(!!Bh[n]||n==="opacity")}const nO={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},iO=Jc.length;function sO(n,t,e){let i="",r=!0;for(let o=0;o<iO;o++){const l=Jc[o],u=n[l];if(u===void 0)continue;let d=!0;if(typeof u=="number"?d=u===(l.startsWith("scale")?1:0):d=parseFloat(u)===0,!d||e){const f=RM(u,m_[l]);if(!d){r=!1;const g=nO[l]||l;i+=`${g}(${f}) `}e&&(t[l]=f)}}return i=i.trim(),e?i=e(t,r?"":i):r&&(i="none"),i}function b_(n,t,e){const{style:i,vars:r,transformOrigin:o}=n;let l=!1,u=!1;for(const d in t){const f=t[d];if(tu.has(d)){l=!0;continue}else if(n_(d)){r[d]=f;continue}else{const g=RM(f,m_[d]);d.startsWith("origin")?(u=!0,o[d]=g):i[d]=g}}if(t.transform||(l||e?i.transform=sO(t,n.transform,e):i.transform&&(i.transform="none")),u){const{originX:d="50%",originY:f="50%",originZ:g=0}=o;i.transformOrigin=`${d} ${f} ${g}`}}const E_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function jM(n,t,e){for(const i in t)!Fi(t[i])&&!kM(i,e)&&(n[i]=t[i])}function rO({transformTemplate:n},t){return q.useMemo(()=>{const e=E_();return b_(e,t,n),Object.assign({},e.vars,e.style)},[t])}function aO(n,t){const e=n.style||{},i={};return jM(i,e,n),Object.assign(i,rO(n,t)),i}function oO(n,t){const e={},i=aO(n,t);return n.drag&&n.dragListener!==!1&&(e.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(e.tabIndex=0),e.style=i,e}const lO={offset:"stroke-dashoffset",array:"stroke-dasharray"},cO={offset:"strokeDashoffset",array:"strokeDasharray"};function uO(n,t,e=1,i=0,r=!0){n.pathLength=1;const o=r?lO:cO;n[o.offset]=Ee.transform(-i);const l=Ee.transform(t),u=Ee.transform(e);n[o.array]=`${l} ${u}`}function zM(n,{attrX:t,attrY:e,attrScale:i,pathLength:r,pathSpacing:o=1,pathOffset:l=0,...u},d,f,g){if(b_(n,u,f),d){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:y,style:x}=n;y.transform&&(x.transform=y.transform,delete y.transform),(x.transform||y.transformOrigin)&&(x.transformOrigin=y.transformOrigin??"50% 50%",delete y.transformOrigin),x.transform&&(x.transformBox=g?.transformBox??"fill-box",delete y.transformBox),t!==void 0&&(y.x=t),e!==void 0&&(y.y=e),i!==void 0&&(y.scale=i),r!==void 0&&uO(y,r,o,l,!1)}const HM=()=>({...E_(),attrs:{}}),GM=n=>typeof n=="string"&&n.toLowerCase()==="svg";function hO(n,t,e,i){const r=q.useMemo(()=>{const o=HM();return zM(o,t,GM(i),n.transformTemplate,n.style),{...o.attrs,style:{...o.style}}},[t]);if(n.style){const o={};jM(o,n.style,n),r.style={...o,...r.style}}return r}const dO=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function S_(n){return typeof n!="string"||n.includes("-")?!1:!!(dO.indexOf(n)>-1||/[A-Z]/u.test(n))}function fO(n=!1){return(e,i,r,{latestValues:o},l)=>{const d=(S_(e)?hO:oO)(i,o,l,e),f=zL(i,typeof e=="string",n),g=e!==q.Fragment?{...f,...d,ref:r}:{},{children:y}=i,x=q.useMemo(()=>Fi(y)?y.get():y,[y]);return q.createElement(e,{...g,children:x})}}function TT(n){const t=[{},{}];return n?.values.forEach((e,i)=>{t[0][i]=e.get(),t[1][i]=e.getVelocity()}),t}function T_(n,t,e,i){if(typeof t=="function"){const[r,o]=TT(i);t=t(e!==void 0?e:n.custom,r,o)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[r,o]=TT(i);t=t(e!==void 0?e:n.custom,r,o)}return t}function Mm(n){return Fi(n)?n.get():n}function mO({scrapeMotionValuesFromProps:n,createRenderState:t},e,i,r){return{latestValues:pO(e,i,r,n),renderState:t()}}const WM=n=>(t,e)=>{const i=q.useContext(Tp),r=q.useContext(Sp),o=()=>mO(n,t,i,r);return e?o():Ep(o)};function pO(n,t,e,i){const r={},o=i(n,{});for(const x in o)r[x]=Mm(o[x]);let{initial:l,animate:u}=n;const d=Ap(n),f=UM(n);t&&f&&!d&&n.inherit!==!1&&(l===void 0&&(l=t.initial),u===void 0&&(u=t.animate));let g=e?e.initial===!1:!1;g=g||l===!1;const y=g?u:l;if(y&&typeof y!="boolean"&&!wp(y)){const x=Array.isArray(y)?y:[y];for(let E=0;E<x.length;E++){const T=T_(n,x[E]);if(T){const{transitionEnd:C,transition:S,...b}=T;for(const O in b){let N=b[O];if(Array.isArray(N)){const U=g?N.length-1:0;N=N[U]}N!==null&&(r[O]=N)}for(const O in C)r[O]=C[O]}}}return r}function w_(n,t,e){const{style:i}=n,r={};for(const o in i)(Fi(i[o])||t.style&&Fi(t.style[o])||kM(o,n)||e?.getValue(o)?.liveStyle!==void 0)&&(r[o]=i[o]);return r}const gO={useVisualState:WM({scrapeMotionValuesFromProps:w_,createRenderState:E_})};function qM(n,t,e){const i=w_(n,t,e);for(const r in n)if(Fi(n[r])||Fi(t[r])){const o=Jc.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[o]=n[r]}return i}const vO={useVisualState:WM({scrapeMotionValuesFromProps:qM,createRenderState:HM})};function yO(n,t){return function(i,{forwardMotionProps:r}={forwardMotionProps:!1}){const l={...S_(i)?vO:gO,preloadedFeatures:n,useRender:fO(r),createVisualElement:t,Component:i};return QL(l)}}function kh(n,t,e){const i=n.getProps();return T_(i,t,e!==void 0?e:i.custom,n)}const py=n=>Array.isArray(n);function xO(n,t,e){n.hasValue(t)?n.getValue(t).set(e):n.addValue(t,Uc(e))}function _O(n){return py(n)?n[n.length-1]||0:n}function A_(n,t){const e=kh(n,t);let{transitionEnd:i={},transition:r={},...o}=e||{};o={...o,...i};for(const l in o){const u=_O(o[l]);xO(n,l,u)}}function bO(n){return!!(Fi(n)&&n.add)}function gy(n,t){const e=n.getValue("willChange");if(bO(e))return e.add(t);if(!e&&ha.WillChange){const i=new ha.WillChange("auto");n.addValue("willChange",i),i.add(t)}}function XM(n){return n.props[VM]}const EO=n=>n!==null;function SO(n,{repeat:t,repeatType:e="loop"},i){const r=n.filter(EO),o=t&&e!=="loop"&&t%2===1?0:r.length-1;return r[o]}const TO={type:"spring",stiffness:500,damping:25,restSpeed:10},wO=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),AO={type:"keyframes",duration:.8},MO={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},RO=(n,{keyframes:t})=>t.length>2?AO:tu.has(n)?n.startsWith("scale")?wO(t[1]):TO:MO;function CO({when:n,delay:t,delayChildren:e,staggerChildren:i,staggerDirection:r,repeat:o,repeatType:l,repeatDelay:u,from:d,elapsed:f,...g}){return!!Object.keys(g).length}const M_=(n,t,e,i={},r,o)=>l=>{const u=f_(i,n)||{},d=u.delay||i.delay||0;let{elapsed:f=0}=i;f=f-vr(d);const g={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...u,delay:-f,onUpdate:x=>{t.set(x),u.onUpdate&&u.onUpdate(x)},onComplete:()=>{l(),u.onComplete&&u.onComplete()},name:n,motionValue:t,element:o?void 0:r};CO(u)||Object.assign(g,RO(n,g)),g.duration&&(g.duration=vr(g.duration)),g.repeatDelay&&(g.repeatDelay=vr(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let y=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(y=!0)),(ha.instantAnimations||ha.skipAnimations)&&(y=!0,g.duration=0,g.delay=0),g.allowFlatten=!u.type&&!u.ease,y&&!o&&t.get()!==void 0){const x=SO(g.keyframes,u);if(x!==void 0){An.update(()=>{g.onUpdate(x),g.onComplete()});return}}return u.isSync?new u_(g):new hL(g)};function NO({protectedKeys:n,needsAnimating:t},e){const i=n.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,i}function YM(n,t,{delay:e=0,transitionOverride:i,type:r}={}){let{transition:o=n.getDefaultTransition(),transitionEnd:l,...u}=t;i&&(o=i);const d=[],f=r&&n.animationState&&n.animationState.getState()[r];for(const g in u){const y=n.getValue(g,n.latestValues[g]??null),x=u[g];if(x===void 0||f&&NO(f,g))continue;const E={delay:e,...f_(o||{},g)},T=y.get();if(T!==void 0&&!y.isAnimating&&!Array.isArray(x)&&x===T&&!E.velocity)continue;let C=!1;if(window.MotionHandoffAnimation){const b=XM(n);if(b){const O=window.MotionHandoffAnimation(b,g,An);O!==null&&(E.startTime=O,C=!0)}}gy(n,g),y.start(M_(g,y,x,n.shouldReduceMotion&&EM.has(g)?{type:!1}:E,n,C));const S=y.animation;S&&d.push(S)}return l&&Promise.all(d).then(()=>{An.update(()=>{l&&A_(n,l)})}),d}function vy(n,t,e={}){const i=kh(n,t,e.type==="exit"?n.presenceContext?.custom:void 0);let{transition:r=n.getDefaultTransition()||{}}=i||{};e.transitionOverride&&(r=e.transitionOverride);const o=i?()=>Promise.all(YM(n,i,e)):()=>Promise.resolve(),l=n.variantChildren&&n.variantChildren.size?(d=0)=>{const{delayChildren:f=0,staggerChildren:g,staggerDirection:y}=r;return DO(n,t,d,f,g,y,e)}:()=>Promise.resolve(),{when:u}=r;if(u){const[d,f]=u==="beforeChildren"?[o,l]:[l,o];return d().then(()=>f())}else return Promise.all([o(),l(e.delay)])}function DO(n,t,e=0,i=0,r=0,o=1,l){const u=[],d=n.variantChildren.size,f=(d-1)*r,g=typeof i=="function",y=g?x=>i(x,d):o===1?(x=0)=>x*r:(x=0)=>f-x*r;return Array.from(n.variantChildren).sort(IO).forEach((x,E)=>{x.notify("AnimationStart",t),u.push(vy(x,t,{...l,delay:e+(g?0:i)+y(E)}).then(()=>x.notify("AnimationComplete",t)))}),Promise.all(u)}function IO(n,t){return n.sortNodePosition(t)}function KM(n,t,e={}){n.notify("AnimationStart",t);let i;if(Array.isArray(t)){const r=t.map(o=>vy(n,o,e));i=Promise.all(r)}else if(typeof t=="string")i=vy(n,t,e);else{const r=typeof t=="function"?kh(n,t,e.custom):t;i=Promise.all(YM(n,r,e))}return i.then(()=>{n.notify("AnimationComplete",t)})}function $M(n,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==n.length)return!1;for(let i=0;i<e;i++)if(t[i]!==n[i])return!1;return!0}const PO=x_.length;function QM(n){if(!n)return;if(!n.isControllingVariants){const e=n.parent?QM(n.parent)||{}:{};return n.props.initial!==void 0&&(e.initial=n.props.initial),e}const t={};for(let e=0;e<PO;e++){const i=x_[e],r=n.props[i];(Fh(r)||r===!1)&&(t[i]=r)}return t}const LO=[...y_].reverse(),OO=y_.length;function UO(n){return t=>Promise.all(t.map(({animation:e,options:i})=>KM(n,e,i)))}function VO(n){let t=UO(n),e=wT(),i=!0;const r=d=>(f,g)=>{const y=kh(n,g,d==="exit"?n.presenceContext?.custom:void 0);if(y){const{transition:x,transitionEnd:E,...T}=y;f={...f,...T,...E}}return f};function o(d){t=d(n)}function l(d){const{props:f}=n,g=QM(n.parent)||{},y=[],x=new Set;let E={},T=1/0;for(let S=0;S<OO;S++){const b=LO[S],O=e[b],N=f[b]!==void 0?f[b]:g[b],U=Fh(N),j=b===d?O.isActive:null;j===!1&&(T=S);let G=N===g[b]&&N!==f[b]&&U;if(G&&i&&n.manuallyAnimateOnMount&&(G=!1),O.protectedKeys={...E},!O.isActive&&j===null||!N&&!O.prevProp||wp(N)||typeof N=="boolean")continue;const D=FO(O.prevProp,N);let R=D||b===d&&O.isActive&&!G&&U||S>T&&U,w=!1;const M=Array.isArray(N)?N:[N];let P=M.reduce(r(b),{});j===!1&&(P={});const{prevResolvedValues:z={}}=O,V={...z,...P},yt=Z=>{R=!0,x.has(Z)&&(w=!0,x.delete(Z)),O.needsAnimating[Z]=!0;const Q=n.getValue(Z);Q&&(Q.liveStyle=!1)};for(const Z in V){const Q=P[Z],Rt=z[Z];if(E.hasOwnProperty(Z))continue;let W=!1;py(Q)&&py(Rt)?W=!$M(Q,Rt):W=Q!==Rt,W?Q!=null?yt(Z):x.add(Z):Q!==void 0&&x.has(Z)?yt(Z):O.protectedKeys[Z]=!0}O.prevProp=N,O.prevResolvedValues=P,O.isActive&&(E={...E,...P}),i&&n.blockInitialAnimation&&(R=!1),R&&(!(G&&D)||w)&&y.push(...M.map(Z=>({animation:Z,options:{type:b}})))}if(x.size){const S={};if(typeof f.initial!="boolean"){const b=kh(n,Array.isArray(f.initial)?f.initial[0]:f.initial);b&&b.transition&&(S.transition=b.transition)}x.forEach(b=>{const O=n.getBaseTarget(b),N=n.getValue(b);N&&(N.liveStyle=!0),S[b]=O??null}),y.push({animation:S})}let C=!!y.length;return i&&(f.initial===!1||f.initial===f.animate)&&!n.manuallyAnimateOnMount&&(C=!1),i=!1,C?t(y):Promise.resolve()}function u(d,f){if(e[d].isActive===f)return Promise.resolve();n.variantChildren?.forEach(y=>y.animationState?.setActive(d,f)),e[d].isActive=f;const g=l(d);for(const y in e)e[y].protectedKeys={};return g}return{animateChanges:l,setActive:u,setAnimateFunction:o,getState:()=>e,reset:()=>{e=wT(),i=!0}}}function FO(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!$M(t,n):!1}function Bo(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function wT(){return{animate:Bo(!0),whileInView:Bo(),whileHover:Bo(),whileTap:Bo(),whileDrag:Bo(),whileFocus:Bo(),exit:Bo()}}class po{constructor(t){this.isMounted=!1,this.node=t}update(){}}class BO extends po{constructor(t){super(t),t.animationState||(t.animationState=VO(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();wp(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let kO=0;class jO extends po{constructor(){super(...arguments),this.id=kO++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const r=this.node.animationState.setActive("exit",!t);e&&!t&&r.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const zO={animation:{Feature:BO},exit:{Feature:jO}};function jh(n,t,e,i={passive:!0}){return n.addEventListener(t,e,i),()=>n.removeEventListener(t,e)}function ud(n){return{point:{x:n.pageX,y:n.pageY}}}const HO=n=>t=>g_(t)&&n(t,ud(t));function wh(n,t,e,i){return jh(n,t,HO(e),i)}function ZM({top:n,left:t,right:e,bottom:i}){return{x:{min:t,max:e},y:{min:n,max:i}}}function GO({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function WO(n,t){if(!t)return n;const e=t({x:n.left,y:n.top}),i=t({x:n.right,y:n.bottom});return{top:e.y,left:e.x,bottom:i.y,right:i.x}}const JM=1e-4,qO=1-JM,XO=1+JM,tR=.01,YO=0-tR,KO=0+tR;function Hi(n){return n.max-n.min}function $O(n,t,e){return Math.abs(n-t)<=e}function AT(n,t,e,i=.5){n.origin=i,n.originPoint=In(t.min,t.max,n.origin),n.scale=Hi(e)/Hi(t),n.translate=In(e.min,e.max,n.origin)-n.originPoint,(n.scale>=qO&&n.scale<=XO||isNaN(n.scale))&&(n.scale=1),(n.translate>=YO&&n.translate<=KO||isNaN(n.translate))&&(n.translate=0)}function Ah(n,t,e,i){AT(n.x,t.x,e.x,i?i.originX:void 0),AT(n.y,t.y,e.y,i?i.originY:void 0)}function MT(n,t,e){n.min=e.min+t.min,n.max=n.min+Hi(t)}function QO(n,t,e){MT(n.x,t.x,e.x),MT(n.y,t.y,e.y)}function RT(n,t,e){n.min=t.min-e.min,n.max=n.min+Hi(t)}function Mh(n,t,e){RT(n.x,t.x,e.x),RT(n.y,t.y,e.y)}const CT=()=>({translate:0,scale:1,origin:0,originPoint:0}),Tc=()=>({x:CT(),y:CT()}),NT=()=>({min:0,max:0}),Gn=()=>({x:NT(),y:NT()});function Ms(n){return[n("x"),n("y")]}function sv(n){return n===void 0||n===1}function yy({scale:n,scaleX:t,scaleY:e}){return!sv(n)||!sv(t)||!sv(e)}function qo(n){return yy(n)||eR(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function eR(n){return DT(n.x)||DT(n.y)}function DT(n){return n&&n!=="0%"}function Xm(n,t,e){const i=n-e,r=t*i;return e+r}function IT(n,t,e,i,r){return r!==void 0&&(n=Xm(n,r,i)),Xm(n,e,i)+t}function xy(n,t=0,e=1,i,r){n.min=IT(n.min,t,e,i,r),n.max=IT(n.max,t,e,i,r)}function nR(n,{x:t,y:e}){xy(n.x,t.translate,t.scale,t.originPoint),xy(n.y,e.translate,e.scale,e.originPoint)}const PT=.999999999999,LT=1.0000000000001;function ZO(n,t,e,i=!1){const r=e.length;if(!r)return;t.x=t.y=1;let o,l;for(let u=0;u<r;u++){o=e[u],l=o.projectionDelta;const{visualElement:d}=o.options;d&&d.props.style&&d.props.style.display==="contents"||(i&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Ac(n,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),l&&(t.x*=l.x.scale,t.y*=l.y.scale,nR(n,l)),i&&qo(o.latestValues)&&Ac(n,o.latestValues))}t.x<LT&&t.x>PT&&(t.x=1),t.y<LT&&t.y>PT&&(t.y=1)}function wc(n,t){n.min=n.min+t,n.max=n.max+t}function OT(n,t,e,i,r=.5){const o=In(n.min,n.max,r);xy(n,t,e,o,i)}function Ac(n,t){OT(n.x,t.x,t.scaleX,t.scale,t.originX),OT(n.y,t.y,t.scaleY,t.scale,t.originY)}function iR(n,t){return ZM(WO(n.getBoundingClientRect(),t))}function JO(n,t,e){const i=iR(n,e),{scroll:r}=t;return r&&(wc(i.x,r.offset.x),wc(i.y,r.offset.y)),i}const sR=({current:n})=>n?n.ownerDocument.defaultView:null,UT=(n,t)=>Math.abs(n-t);function tU(n,t){const e=UT(n.x,t.x),i=UT(n.y,t.y);return Math.sqrt(e**2+i**2)}class rR{constructor(t,e,{transformPagePoint:i,contextWindow:r=window,dragSnapToOrigin:o=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=av(this.lastMoveEventInfo,this.history),E=this.startEvent!==null,T=tU(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!E&&!T)return;const{point:C}=x,{timestamp:S}=Si;this.history.push({...C,timestamp:S});const{onStart:b,onMove:O}=this.handlers;E||(b&&b(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),O&&O(this.lastMoveEvent,x)},this.handlePointerMove=(x,E)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=rv(E,this.transformPagePoint),An.update(this.updatePoint,!0)},this.handlePointerUp=(x,E)=>{this.end();const{onEnd:T,onSessionEnd:C,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=av(x.type==="pointercancel"?this.lastMoveEventInfo:rv(E,this.transformPagePoint),this.history);this.startEvent&&T&&T(x,b),C&&C(x,b)},!g_(t))return;this.dragSnapToOrigin=o,this.handlers=e,this.transformPagePoint=i,this.distanceThreshold=l,this.contextWindow=r||window;const u=ud(t),d=rv(u,this.transformPagePoint),{point:f}=d,{timestamp:g}=Si;this.history=[{...f,timestamp:g}];const{onSessionStart:y}=e;y&&y(t,av(d,this.history)),this.removeListeners=od(wh(this.contextWindow,"pointermove",this.handlePointerMove),wh(this.contextWindow,"pointerup",this.handlePointerUp),wh(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),so(this.updatePoint)}}function rv(n,t){return t?{point:t(n.point)}:n}function VT(n,t){return{x:n.x-t.x,y:n.y-t.y}}function av({point:n},t){return{point:n,delta:VT(n,aR(t)),offset:VT(n,eU(t)),velocity:nU(t,.1)}}function eU(n){return n[0]}function aR(n){return n[n.length-1]}function nU(n,t){if(n.length<2)return{x:0,y:0};let e=n.length-1,i=null;const r=aR(n);for(;e>=0&&(i=n[e],!(r.timestamp-i.timestamp>vr(t)));)e--;if(!i)return{x:0,y:0};const o=yr(r.timestamp-i.timestamp);if(o===0)return{x:0,y:0};const l={x:(r.x-i.x)/o,y:(r.y-i.y)/o};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function iU(n,{min:t,max:e},i){return t!==void 0&&n<t?n=i?In(t,n,i.min):Math.max(n,t):e!==void 0&&n>e&&(n=i?In(e,n,i.max):Math.min(n,e)),n}function FT(n,t,e){return{min:t!==void 0?n.min+t:void 0,max:e!==void 0?n.max+e-(n.max-n.min):void 0}}function sU(n,{top:t,left:e,bottom:i,right:r}){return{x:FT(n.x,e,r),y:FT(n.y,t,i)}}function BT(n,t){let e=t.min-n.min,i=t.max-n.max;return t.max-t.min<n.max-n.min&&([e,i]=[i,e]),{min:e,max:i}}function rU(n,t){return{x:BT(n.x,t.x),y:BT(n.y,t.y)}}function aU(n,t){let e=.5;const i=Hi(n),r=Hi(t);return r>i?e=Oh(t.min,t.max-i,n.min):i>r&&(e=Oh(n.min,n.max-r,t.min)),ua(0,1,e)}function oU(n,t){const e={};return t.min!==void 0&&(e.min=t.min-n.min),t.max!==void 0&&(e.max=t.max-n.min),e}const _y=.35;function lU(n=_y){return n===!1?n=0:n===!0&&(n=_y),{x:kT(n,"left","right"),y:kT(n,"top","bottom")}}function kT(n,t,e){return{min:jT(n,t),max:jT(n,e)}}function jT(n,t){return typeof n=="number"?n:n[t]||0}const cU=new WeakMap;class uU{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Gn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:e=!1,distanceThreshold:i}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=y=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),e&&this.snapToCursor(ud(y).point)},l=(y,x)=>{const{drag:E,dragPropagation:T,onDragStart:C}=this.getProps();if(E&&!T&&(this.openDragLock&&this.openDragLock(),this.openDragLock=AL(E),!this.openDragLock))return;this.latestPointerEvent=y,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ms(b=>{let O=this.getAxisMotionValue(b).get()||0;if(xr.test(O)){const{projection:N}=this.visualElement;if(N&&N.layout){const U=N.layout.layoutBox[b];U&&(O=Hi(U)*(parseFloat(O)/100))}}this.originPoint[b]=O}),C&&An.postRender(()=>C(y,x)),gy(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},u=(y,x)=>{this.latestPointerEvent=y,this.latestPanInfo=x;const{dragPropagation:E,dragDirectionLock:T,onDirectionLock:C,onDrag:S}=this.getProps();if(!E&&!this.openDragLock)return;const{offset:b}=x;if(T&&this.currentDirection===null){this.currentDirection=hU(b),this.currentDirection!==null&&C&&C(this.currentDirection);return}this.updateAxis("x",x.point,b),this.updateAxis("y",x.point,b),this.visualElement.render(),S&&S(y,x)},d=(y,x)=>{this.latestPointerEvent=y,this.latestPanInfo=x,this.stop(y,x),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>Ms(y=>this.getAnimationState(y)==="paused"&&this.getAxisMotionValue(y).animation?.play()),{dragSnapToOrigin:g}=this.getProps();this.panSession=new rR(t,{onSessionStart:o,onStart:l,onMove:u,onSessionEnd:d,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:i,contextWindow:sR(this.visualElement)})}stop(t,e){const i=t||this.latestPointerEvent,r=e||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!r||!i)return;const{velocity:l}=r;this.startAnimation(l);const{onDragEnd:u}=this.getProps();u&&An.postRender(()=>u(i,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,i){const{drag:r}=this.getProps();if(!i||!Wf(t,r,this.currentDirection))return;const o=this.getAxisMotionValue(t);let l=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(l=iU(l,this.constraints[t],this.elastic[t])),o.set(l)}resolveConstraints(){const{dragConstraints:t,dragElastic:e}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,r=this.constraints;t&&Sc(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=sU(i.layoutBox,t):this.constraints=!1,this.elastic=lU(e),r!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Ms(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=oU(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!Sc(t))return!1;const i=t.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const o=JO(i,r.root,this.visualElement.getTransformPagePoint());let l=rU(r.layout.layoutBox,o);if(e){const u=e(GO(l));this.hasMutatedConstraints=!!u,u&&(l=ZM(u))}return l}startAnimation(t){const{drag:e,dragMomentum:i,dragElastic:r,dragTransition:o,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),d=this.constraints||{},f=Ms(g=>{if(!Wf(g,e,this.currentDirection))return;let y=d&&d[g]||{};l&&(y={min:0,max:0});const x=r?200:1e6,E=r?40:1e7,T={type:"inertia",velocity:i?t[g]:0,bounceStiffness:x,bounceDamping:E,timeConstant:750,restDelta:1,restSpeed:10,...o,...y};return this.startAxisValueAnimation(g,T)});return Promise.all(f).then(u)}startAxisValueAnimation(t,e){const i=this.getAxisMotionValue(t);return gy(this.visualElement,t),i.start(M_(t,i,0,e,this.visualElement,!1))}stopAnimation(){Ms(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Ms(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),r=i[e];return r||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){Ms(e=>{const{drag:i}=this.getProps();if(!Wf(e,i,this.currentDirection))return;const{projection:r}=this.visualElement,o=this.getAxisMotionValue(e);if(r&&r.layout){const{min:l,max:u}=r.layout.layoutBox[e];o.set(t[e]-In(l,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:i}=this.visualElement;if(!Sc(e)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Ms(l=>{const u=this.getAxisMotionValue(l);if(u&&this.constraints!==!1){const d=u.get();r[l]=aU({min:d,max:d},this.constraints[l])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Ms(l=>{if(!Wf(l,t,null))return;const u=this.getAxisMotionValue(l),{min:d,max:f}=this.constraints[l];u.set(In(d,f,r[l]))})}addListeners(){if(!this.visualElement.current)return;cU.set(this.visualElement,this);const t=this.visualElement.current,e=wh(t,"pointerdown",d=>{const{drag:f,dragListener:g=!0}=this.getProps();f&&g&&this.start(d)}),i=()=>{const{dragConstraints:d}=this.getProps();Sc(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,o=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),An.read(i);const l=jh(window,"resize",()=>this.scalePositionWithinConstraints()),u=r.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f})=>{this.isDragging&&f&&(Ms(g=>{const y=this.getAxisMotionValue(g);y&&(this.originPoint[g]+=d[g].translate,y.set(y.get()+d[g].translate))}),this.visualElement.render())});return()=>{l(),e(),o(),u&&u()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:o=!1,dragElastic:l=_y,dragMomentum:u=!0}=t;return{...t,drag:e,dragDirectionLock:i,dragPropagation:r,dragConstraints:o,dragElastic:l,dragMomentum:u}}}function Wf(n,t,e){return(t===!0||t===n)&&(e===null||e===n)}function hU(n,t=10){let e=null;return Math.abs(n.y)>t?e="y":Math.abs(n.x)>t&&(e="x"),e}class dU extends po{constructor(t){super(t),this.removeGroupControls=Is,this.removeListeners=Is,this.controls=new uU(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Is}unmount(){this.removeGroupControls(),this.removeListeners()}}const zT=n=>(t,e)=>{n&&An.postRender(()=>n(t,e))};class fU extends po{constructor(){super(...arguments),this.removePointerDownListener=Is}onPointerDown(t){this.session=new rR(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:sR(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:zT(t),onStart:zT(e),onMove:i,onEnd:(o,l)=>{delete this.session,r&&An.postRender(()=>r(o,l))}}}mount(){this.removePointerDownListener=wh(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Rm={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function HT(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const oh={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(Ee.test(n))n=parseFloat(n);else return n;const e=HT(n,t.target.x),i=HT(n,t.target.y);return`${e}% ${i}%`}},mU={correct:(n,{treeScale:t,projectionDelta:e})=>{const i=n,r=ro.parse(n);if(r.length>5)return i;const o=ro.createTransformer(n),l=typeof r[0]!="number"?1:0,u=e.x.scale*t.x,d=e.y.scale*t.y;r[0+l]/=u,r[1+l]/=d;const f=In(u,d,.5);return typeof r[2+l]=="number"&&(r[2+l]/=f),typeof r[3+l]=="number"&&(r[3+l]/=f),o(r)}};let GT=!1;class pU extends q.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:i,layoutId:r}=this.props,{projection:o}=t;eO(gU),o&&(e.group&&e.group.add(o),i&&i.register&&r&&i.register(o),GT&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Rm.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:i,drag:r,isPresent:o}=this.props,{projection:l}=i;return l&&(l.isPresent=o,GT=!0,r||t.layoutDependency!==e||e===void 0||t.isPresent!==o?l.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?l.promote():l.relegate()||An.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),p_.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:i}=this.props,{projection:r}=t;r&&(r.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function oR(n){const[t,e]=PM(),i=q.useContext(qx);return m.jsx(pU,{...n,layoutGroup:i,switchLayoutGroup:q.useContext(FM),isPresent:t,safeToRemove:e})}const gU={borderRadius:{...oh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:oh,borderTopRightRadius:oh,borderBottomLeftRadius:oh,borderBottomRightRadius:oh,boxShadow:mU};function vU(n,t,e){const i=Fi(n)?n:Uc(n);return i.start(M_("",i,t,e)),i.animation}const yU=(n,t)=>n.depth-t.depth;class xU{constructor(){this.children=[],this.isDirty=!1}add(t){Kx(this.children,t),this.isDirty=!0}remove(t){$x(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(yU),this.isDirty=!1,this.children.forEach(t)}}function _U(n,t){const e=$i.now(),i=({timestamp:r})=>{const o=r-e;o>=t&&(so(i),n(o-t))};return An.setup(i,!0),()=>so(i)}const lR=["TopLeft","TopRight","BottomLeft","BottomRight"],bU=lR.length,WT=n=>typeof n=="string"?parseFloat(n):n,qT=n=>typeof n=="number"||Ee.test(n);function EU(n,t,e,i,r,o){r?(n.opacity=In(0,e.opacity??1,SU(i)),n.opacityExit=In(t.opacity??1,0,TU(i))):o&&(n.opacity=In(t.opacity??1,e.opacity??1,i));for(let l=0;l<bU;l++){const u=`border${lR[l]}Radius`;let d=XT(t,u),f=XT(e,u);if(d===void 0&&f===void 0)continue;d||(d=0),f||(f=0),d===0||f===0||qT(d)===qT(f)?(n[u]=Math.max(In(WT(d),WT(f),i),0),(xr.test(f)||xr.test(d))&&(n[u]+="%")):n[u]=f}(t.rotate||e.rotate)&&(n.rotate=In(t.rotate||0,e.rotate||0,i))}function XT(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const SU=cR(0,.5,J2),TU=cR(.5,.95,Is);function cR(n,t,e){return i=>i<n?0:i>t?1:e(Oh(n,t,i))}function YT(n,t){n.min=t.min,n.max=t.max}function Ts(n,t){YT(n.x,t.x),YT(n.y,t.y)}function KT(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}function $T(n,t,e,i,r){return n-=t,n=Xm(n,1/e,i),r!==void 0&&(n=Xm(n,1/r,i)),n}function wU(n,t=0,e=1,i=.5,r,o=n,l=n){if(xr.test(t)&&(t=parseFloat(t),t=In(l.min,l.max,t/100)-l.min),typeof t!="number")return;let u=In(o.min,o.max,i);n===o&&(u-=t),n.min=$T(n.min,t,e,u,r),n.max=$T(n.max,t,e,u,r)}function QT(n,t,[e,i,r],o,l){wU(n,t[e],t[i],t[r],t.scale,o,l)}const AU=["x","scaleX","originX"],MU=["y","scaleY","originY"];function ZT(n,t,e,i){QT(n.x,t,AU,e?e.x:void 0,i?i.x:void 0),QT(n.y,t,MU,e?e.y:void 0,i?i.y:void 0)}function JT(n){return n.translate===0&&n.scale===1}function uR(n){return JT(n.x)&&JT(n.y)}function tw(n,t){return n.min===t.min&&n.max===t.max}function RU(n,t){return tw(n.x,t.x)&&tw(n.y,t.y)}function ew(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function hR(n,t){return ew(n.x,t.x)&&ew(n.y,t.y)}function nw(n){return Hi(n.x)/Hi(n.y)}function iw(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}class CU{constructor(){this.members=[]}add(t){Kx(this.members,t),t.scheduleRender()}remove(t){if($x(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(r=>t===r);if(e===0)return!1;let i;for(let r=e;r>=0;r--){const o=this.members[r];if(o.isPresent!==!1){i=o;break}}return i?(this.promote(i),!0):!1}promote(t,e){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,e&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:r}=t.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:i}=t;e.onExitComplete&&e.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function NU(n,t,e){let i="";const r=n.x.translate/t.x,o=n.y.translate/t.y,l=e?.z||0;if((r||o||l)&&(i=`translate3d(${r}px, ${o}px, ${l}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),e){const{transformPerspective:f,rotate:g,rotateX:y,rotateY:x,skewX:E,skewY:T}=e;f&&(i=`perspective(${f}px) ${i}`),g&&(i+=`rotate(${g}deg) `),y&&(i+=`rotateX(${y}deg) `),x&&(i+=`rotateY(${x}deg) `),E&&(i+=`skewX(${E}deg) `),T&&(i+=`skewY(${T}deg) `)}const u=n.x.scale*t.x,d=n.y.scale*t.y;return(u!==1||d!==1)&&(i+=`scale(${u}, ${d})`),i||"none"}const ov=["","X","Y","Z"],DU=1e3;let IU=0;function lv(n,t,e,i){const{latestValues:r}=t;r[n]&&(e[n]=r[n],t.setStaticValue(n,0),i&&(i[n]=0))}function dR(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const e=XM(t);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:r,layoutId:o}=n.options;window.MotionCancelOptimisedAnimation(e,"transform",An,!(r||o))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&dR(i)}function fR({attachResizeListener:n,defaultParent:t,measureScroll:e,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(l={},u=t?.()){this.id=IU++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(OU),this.nodes.forEach(BU),this.nodes.forEach(kU),this.nodes.forEach(UU)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new xU)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Jx),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const d=this.eventHandlers.get(l);d&&d.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=IM(l)&&!IL(l),this.instance=l;const{layoutId:u,layout:d,visualElement:f}=this.options;if(f&&!f.current&&f.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||u)&&(this.isLayoutDirty=!0),n){let g,y=0;const x=()=>this.root.updateBlockedByResize=!1;An.read(()=>{y=window.innerWidth}),n(l,()=>{const E=window.innerWidth;E!==y&&(y=E,this.root.updateBlockedByResize=!0,g&&g(),g=_U(x,250),Rm.hasAnimatedSinceResize&&(Rm.hasAnimatedSinceResize=!1,this.nodes.forEach(aw)))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&f&&(u||d)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:y,hasRelativeLayoutChanged:x,layout:E})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const T=this.options.transition||f.getDefaultTransition()||WU,{onLayoutAnimationStart:C,onLayoutAnimationComplete:S}=f.getProps(),b=!this.targetLayout||!hR(this.targetLayout,E),O=!y&&x;if(this.options.layoutRoot||this.resumeFrom||O||y&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const N={...f_(T,"layout"),onPlay:C,onComplete:S};(f.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N),this.setAnimationOrigin(g,O)}else y||aw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=E})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),so(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(jU),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&dR(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const y=this.path[g];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:u,layout:d}=this.options;if(u===void 0&&!d)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(sw);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(rw);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(FU),this.nodes.forEach(PU),this.nodes.forEach(LU)):this.nodes.forEach(rw),this.clearAllSnapshots();const u=$i.now();Si.delta=ua(0,1e3/60,u-Si.timestamp),Si.timestamp=u,Si.isProcessing=!0,Z0.update.process(Si),Z0.preRender.process(Si),Z0.render.process(Si),Si.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,p_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(VU),this.sharedNodes.forEach(zU)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,An.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){An.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Hi(this.snapshot.measuredBox.x)&&!Hi(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Gn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u&&this.instance){const d=i(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:d,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!r)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!uR(this.projectionDelta),d=this.getTransformTemplate(),f=d?d(this.latestValues,""):void 0,g=f!==this.prevTransformTemplateValue;l&&this.instance&&(u||qo(this.latestValues)||g)&&(r(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let d=this.removeElementScroll(u);return l&&(d=this.removeTransform(d)),qU(d),{animationId:this.root.animationId,measuredBox:u,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return Gn();const u=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(XU))){const{scroll:f}=this.root;f&&(wc(u.x,f.offset.x),wc(u.y,f.offset.y))}return u}removeElementScroll(l){const u=Gn();if(Ts(u,l),this.scroll?.wasRoot)return u;for(let d=0;d<this.path.length;d++){const f=this.path[d],{scroll:g,options:y}=f;f!==this.root&&g&&y.layoutScroll&&(g.wasRoot&&Ts(u,l),wc(u.x,g.offset.x),wc(u.y,g.offset.y))}return u}applyTransform(l,u=!1){const d=Gn();Ts(d,l);for(let f=0;f<this.path.length;f++){const g=this.path[f];!u&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Ac(d,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),qo(g.latestValues)&&Ac(d,g.latestValues)}return qo(this.latestValues)&&Ac(d,this.latestValues),d}removeTransform(l){const u=Gn();Ts(u,l);for(let d=0;d<this.path.length;d++){const f=this.path[d];if(!f.instance||!qo(f.latestValues))continue;yy(f.latestValues)&&f.updateSnapshot();const g=Gn(),y=f.measurePageBox();Ts(g,y),ZT(u,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,g)}return qo(this.latestValues)&&ZT(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Si.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==u;if(!(l||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:y}=this.options;if(!(!this.layout||!(g||y))){if(this.resolvedRelativeTargetAt=Si.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Gn(),this.relativeTargetOrigin=Gn(),Mh(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),Ts(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Gn(),this.targetWithTransforms=Gn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),QO(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ts(this.target,this.layout.layoutBox),nR(this.target,this.targetDelta)):Ts(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Gn(),this.relativeTargetOrigin=Gn(),Mh(this.relativeTargetOrigin,this.target,x.target),Ts(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||yy(this.parent.latestValues)||eR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const l=this.getLead(),u=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Si.timestamp&&(d=!1),d)return;const{layout:f,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||g))return;Ts(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,x=this.treeScale.y;ZO(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Gn());const{target:E}=l;if(!E){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(KT(this.prevProjectionDelta.x,this.projectionDelta.x),KT(this.prevProjectionDelta.y,this.projectionDelta.y)),Ah(this.projectionDelta,this.layoutCorrected,E,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==x||!iw(this.projectionDelta.x,this.prevProjectionDelta.x)||!iw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",E))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Tc(),this.projectionDelta=Tc(),this.projectionDeltaWithTransform=Tc()}setAnimationOrigin(l,u=!1){const d=this.snapshot,f=d?d.latestValues:{},g={...this.latestValues},y=Tc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const x=Gn(),E=d?d.source:void 0,T=this.layout?this.layout.source:void 0,C=E!==T,S=this.getStack(),b=!S||S.members.length<=1,O=!!(C&&!b&&this.options.crossfade===!0&&!this.path.some(GU));this.animationProgress=0;let N;this.mixTargetDelta=U=>{const j=U/1e3;ow(y.x,l.x,j),ow(y.y,l.y,j),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Mh(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),HU(this.relativeTarget,this.relativeTargetOrigin,x,j),N&&RU(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=Gn()),Ts(N,this.relativeTarget)),C&&(this.animationValues=g,EU(g,f,this.latestValues,j,O,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(so(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=An.update(()=>{Rm.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Uc(0)),this.currentAnimation=vU(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),l.onUpdate&&l.onUpdate(u)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(DU),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:d,layout:f,latestValues:g}=l;if(!(!u||!d||!f)){if(this!==l&&this.layout&&f&&mR(this.options.animationType,this.layout.layoutBox,f.layoutBox)){d=this.target||Gn();const y=Hi(this.layout.layoutBox.x);d.x.min=l.target.x.min,d.x.max=d.x.min+y;const x=Hi(this.layout.layoutBox.y);d.y.min=l.target.y.min,d.y.max=d.y.min+x}Ts(u,d),Ac(u,g),Ah(this.projectionDeltaWithTransform,this.layoutCorrected,u,g)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new CU),this.sharedNodes.get(l).add(u);const f=u.options.initialPromotionConfig;u.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:d}={}){const f=this.getStack();f&&f.promote(this,d),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:d}=l;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(u=!0),!u)return;const f={};d.z&&lv("z",l,f,this.animationValues);for(let g=0;g<ov.length;g++)lv(`rotate${ov[g]}`,l,f,this.animationValues),lv(`skew${ov[g]}`,l,f,this.animationValues);l.render();for(const g in f)l.setStaticValue(g,f[g]),this.animationValues&&(this.animationValues[g]=f[g]);l.scheduleRender()}applyProjectionStyles(l,u){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=Mm(u?.pointerEvents)||"",l.transform=d?d(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=Mm(u?.pointerEvents)||""),this.hasProjected&&!qo(this.latestValues)&&(l.transform=d?d({},""):"none",this.hasProjected=!1);return}l.visibility="";const g=f.animationValues||f.latestValues;this.applyTransformsToTarget();let y=NU(this.projectionDeltaWithTransform,this.treeScale,g);d&&(y=d(g,y)),l.transform=y;const{x,y:E}=this.projectionDelta;l.transformOrigin=`${x.origin*100}% ${E.origin*100}% 0`,f.animationValues?l.opacity=f===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:l.opacity=f===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const T in Bh){if(g[T]===void 0)continue;const{correct:C,applyTo:S,isCSSVariable:b}=Bh[T],O=y==="none"?g[T]:C(g[T],f);if(S){const N=S.length;for(let U=0;U<N;U++)l[S[U]]=O}else b?this.options.visualElement.renderState.vars[T]=O:l[T]=O}this.options.layoutId&&(l.pointerEvents=f===this?Mm(u?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop()),this.root.nodes.forEach(sw),this.root.sharedNodes.clear()}}}function PU(n){n.updateLayout()}function LU(n){const t=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:e,measuredBox:i}=n.layout,{animationType:r}=n.options,o=t.source!==n.layout.source;r==="size"?Ms(g=>{const y=o?t.measuredBox[g]:t.layoutBox[g],x=Hi(y);y.min=e[g].min,y.max=y.min+x}):mR(r,t.layoutBox,e)&&Ms(g=>{const y=o?t.measuredBox[g]:t.layoutBox[g],x=Hi(e[g]);y.max=y.min+x,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[g].max=n.relativeTarget[g].min+x)});const l=Tc();Ah(l,e,t.layoutBox);const u=Tc();o?Ah(u,n.applyTransform(i,!0),t.measuredBox):Ah(u,e,t.layoutBox);const d=!uR(l);let f=!1;if(!n.resumeFrom){const g=n.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:y,layout:x}=g;if(y&&x){const E=Gn();Mh(E,t.layoutBox,y.layoutBox);const T=Gn();Mh(T,e,x.layoutBox),hR(E,T)||(f=!0),g.options.layoutRoot&&(n.relativeTarget=T,n.relativeTargetOrigin=E,n.relativeParent=g)}}}n.notifyListeners("didUpdate",{layout:e,snapshot:t,delta:u,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:f})}else if(n.isLead()){const{onExitComplete:e}=n.options;e&&e()}n.options.transition=void 0}function OU(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function UU(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function VU(n){n.clearSnapshot()}function sw(n){n.clearMeasurements()}function rw(n){n.isLayoutDirty=!1}function FU(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function aw(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function BU(n){n.resolveTargetDelta()}function kU(n){n.calcProjection()}function jU(n){n.resetSkewAndRotation()}function zU(n){n.removeLeadSnapshot()}function ow(n,t,e){n.translate=In(t.translate,0,e),n.scale=In(t.scale,1,e),n.origin=t.origin,n.originPoint=t.originPoint}function lw(n,t,e,i){n.min=In(t.min,e.min,i),n.max=In(t.max,e.max,i)}function HU(n,t,e,i){lw(n.x,t.x,e.x,i),lw(n.y,t.y,e.y,i)}function GU(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const WU={duration:.45,ease:[.4,0,.1,1]},cw=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),uw=cw("applewebkit/")&&!cw("chrome/")?Math.round:Is;function hw(n){n.min=uw(n.min),n.max=uw(n.max)}function qU(n){hw(n.x),hw(n.y)}function mR(n,t,e){return n==="position"||n==="preserve-aspect"&&!$O(nw(t),nw(e),.2)}function XU(n){return n!==n.root&&n.scroll?.wasRoot}const YU=fR({attachResizeListener:(n,t)=>jh(n,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),cv={current:void 0},pR=fR({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!cv.current){const n=new YU({});n.mount(window),n.setOptions({layoutScroll:!0}),cv.current=n}return cv.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),KU={pan:{Feature:fU},drag:{Feature:dU,ProjectionNode:pR,MeasureLayout:oR}};function dw(n,t,e){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",e==="Start");const r="onHover"+e,o=i[r];o&&An.postRender(()=>o(t,ud(t)))}class $U extends po{mount(){const{current:t}=this.node;t&&(this.unmount=ML(t,(e,i)=>(dw(this.node,i,"Start"),r=>dw(this.node,r,"End"))))}unmount(){}}class QU extends po{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=od(jh(this.node.current,"focus",()=>this.onFocus()),jh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function fw(n,t,e){const{props:i}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",e==="Start");const r="onTap"+(e==="End"?"":e),o=i[r];o&&An.postRender(()=>o(t,ud(t)))}class ZU extends po{mount(){const{current:t}=this.node;t&&(this.unmount=DL(t,(e,i)=>(fw(this.node,i,"Start"),(r,{success:o})=>fw(this.node,r,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const by=new WeakMap,uv=new WeakMap,JU=n=>{const t=by.get(n.target);t&&t(n)},tV=n=>{n.forEach(JU)};function eV({root:n,...t}){const e=n||document;uv.has(e)||uv.set(e,{});const i=uv.get(e),r=JSON.stringify(t);return i[r]||(i[r]=new IntersectionObserver(tV,{root:n,...t})),i[r]}function nV(n,t,e){const i=eV(t);return by.set(n,e),i.observe(n),()=>{by.delete(n),i.unobserve(n)}}const iV={some:0,all:1};class sV extends po{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:i,amount:r="some",once:o}=t,l={root:e?e.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:iV[r]},u=d=>{const{isIntersecting:f}=d;if(this.isInView===f||(this.isInView=f,o&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:g,onViewportLeave:y}=this.node.getProps(),x=f?g:y;x&&x(d)};return nV(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(rV(t,e))&&this.startObserver()}unmount(){}}function rV({viewport:n={}},{viewport:t={}}={}){return e=>n[e]!==t[e]}const aV={inView:{Feature:sV},tap:{Feature:ZU},focus:{Feature:QU},hover:{Feature:$U}},oV={layout:{ProjectionNode:pR,MeasureLayout:oR}},Ey={current:null},gR={current:!1};function lV(){if(gR.current=!0,!!Xx)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>Ey.current=n.matches;n.addEventListener("change",t),t()}else Ey.current=!1}const cV=new WeakMap;function uV(n,t,e){for(const i in t){const r=t[i],o=e[i];if(Fi(r))n.addValue(i,r);else if(Fi(o))n.addValue(i,Uc(r,{owner:n}));else if(o!==r)if(n.hasValue(i)){const l=n.getValue(i);l.liveStyle===!0?l.jump(r):l.hasAnimated||l.set(r)}else{const l=n.getStaticValue(i);n.addValue(i,Uc(l!==void 0?l:r,{owner:n}))}}for(const i in e)t[i]===void 0&&n.removeValue(i);return t}const mw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class hV{scrapeMotionValuesFromProps(t,e,i){return{}}constructor({parent:t,props:e,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:o,visualState:l},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=h_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=$i.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,An.render(this.render,!1,!0))};const{latestValues:d,renderState:f}=l;this.latestValues=d,this.baseTarget={...d},this.initialValues=e.initial?{...d}:{},this.renderState=f,this.parent=t,this.props=e,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=r,this.options=u,this.blockInitialAnimation=!!o,this.isControllingVariants=Ap(e),this.isVariantNode=UM(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:g,...y}=this.scrapeMotionValuesFromProps(e,{},this);for(const x in y){const E=y[x];d[x]!==void 0&&Fi(E)&&E.set(d[x],!1)}}mount(t){this.current=t,cV.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,i)=>this.bindToMotionValue(i,e)),gR.current||lV(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ey.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),so(this.notifyUpdate),so(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}bindToMotionValue(t,e){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=tu.has(t);i&&this.onBindTransform&&this.onBindTransform();const r=e.on("change",u=>{this.latestValues[t]=u,this.props.onUpdate&&An.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),o=e.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{r(),o(),l&&l(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Vc){const e=Vc[t];if(!e)continue;const{isEnabled:i,Feature:r}=e;if(!this.features[t]&&r&&i(this.props)&&(this.features[t]=new r(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Gn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let i=0;i<mw.length;i++){const r=mw[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const o="on"+r,l=t[o];l&&(this.propEventSubscriptions[r]=this.on(r,l))}this.prevMotionValues=uV(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const i=this.values.get(t);e!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&e!==void 0&&(i=Uc(e===null?void 0:e,{owner:this}),this.addValue(t,i)),i}readValue(t,e){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(H2(i)||W2(i))?i=parseFloat(i):!LL(i)&&ro.test(e)&&(i=AM(t,e)),this.setBaseTarget(t,Fi(i)?i.get():i)),Fi(i)?i.get():i}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){const{initial:e}=this.props;let i;if(typeof e=="string"||typeof e=="object"){const o=T_(this.props,e,this.presenceContext?.custom);o&&(i=o[t])}if(e&&i!==void 0)return i;const r=this.getBaseTargetFromProps(this.props,t);return r!==void 0&&!Fi(r)?r:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new Jx),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}}class vR extends hV{constructor(){super(...arguments),this.KeyframeResolver=SL}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){return t.style?t.style[e]:void 0}removeValueFromRenderState(t,{vars:e,style:i}){delete e[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Fi(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}function yR(n,{style:t,vars:e},i,r){const o=n.style;let l;for(l in t)o[l]=t[l];r?.applyProjectionStyles(o,i);for(l in e)o.setProperty(l,e[l])}function dV(n){return window.getComputedStyle(n)}class fV extends vR{constructor(){super(...arguments),this.type="html",this.renderInstance=yR}readValueFromInstance(t,e){if(tu.has(e))return this.projection?.isProjecting?cy(e):z4(t,e);{const i=dV(t),r=(n_(e)?i.getPropertyValue(e):i[e])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(t,{transformPagePoint:e}){return iR(t,e)}build(t,e,i){b_(t,e,i.transformTemplate)}scrapeMotionValuesFromProps(t,e,i){return w_(t,e,i)}}const xR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function mV(n,t,e,i){yR(n,t,void 0,i);for(const r in t.attrs)n.setAttribute(xR.has(r)?r:__(r),t.attrs[r])}class pV extends vR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Gn}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(tu.has(e)){const i=wM(e);return i&&i.default||0}return e=xR.has(e)?e:__(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,i){return qM(t,e,i)}build(t,e,i){zM(t,e,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(t,e,i,r){mV(t,e,i,r)}mount(t){this.isSVGTag=GM(t.tagName),super.mount(t)}}const gV=(n,t)=>S_(n)?new pV(t):new fV(t,{allowProjection:n!==q.Fragment}),vV=yO({...zO,...aV,...KU,...oV},gV),lt=HL(vV);function yV(n){n.values.forEach(t=>t.stop())}function Sy(n,t){[...t].reverse().forEach(i=>{const r=n.getVariant(i);r&&A_(n,r),n.variantChildren&&n.variantChildren.forEach(o=>{Sy(o,t)})})}function xV(n,t){if(Array.isArray(t))return Sy(n,t);if(typeof t=="string")return Sy(n,[t]);A_(n,t)}function _V(){const n=new Set,t={subscribe(e){return n.add(e),()=>void n.delete(e)},start(e,i){const r=[];return n.forEach(o=>{r.push(KM(o,e,{transitionOverride:i}))}),Promise.all(r)},set(e){return n.forEach(i=>{xV(i,e)})},stop(){n.forEach(e=>{yV(e)})},mount(){return()=>{t.stop()}}};return t}function bV(){const n=Ep(_V);return Yx(n.mount,[]),n}const EV=bV,SV={some:0,all:1};function TV(n,t,{root:e,margin:i,amount:r="some"}={}){const o=MM(n),l=new WeakMap,u=f=>{f.forEach(g=>{const y=l.get(g.target);if(g.isIntersecting!==!!y)if(g.isIntersecting){const x=t(g.target,g);typeof x=="function"?l.set(g.target,x):d.unobserve(g.target)}else typeof y=="function"&&(y(g),l.delete(g.target))})},d=new IntersectionObserver(u,{root:e,rootMargin:i,threshold:typeof r=="number"?r:SV[r]});return o.forEach(f=>d.observe(f)),()=>d.disconnect()}function Rh(n,{root:t,margin:e,amount:i,once:r=!1,initial:o=!1}={}){const[l,u]=q.useState(o);return q.useEffect(()=>{if(!n.current||r&&l)return;const d=()=>(u(!0),r?void 0:()=>u(!1)),f={root:t&&t.current||void 0,margin:e,amount:i};return TV(n.current,d,f)},[t,n,e,r,i]),l}const wV=()=>{const n={hidden:{x:100,opacity:.5},visible:{x:0,opacity:1,transition:{duration:.6,ease:"easeOut"}}},t={hidden:{x:150,opacity:.2},visible:{x:0,opacity:1,transition:{duration:.8,ease:"easeOut",delay:.2}}},e=()=>{const i=document.getElementById("contact");i&&i.scrollIntoView({behavior:"smooth",block:"start"})};return m.jsxs("section",{className:"relative bg-white z-10 overflow-hidden py-10 sm:py-8 md:py-12 lg:py-16",children:[m.jsx("div",{className:"absolute left-8 sm:left-16 lg:left-20 xl:left-24 top-1/2 transform -translate-y-1/2 hidden lg:block z-20",children:m.jsx("div",{className:"text-[#333] text-sm sm:text-base lg:text-lg xl:text-xl font-bold uppercase tracking-wider transform -rotate-90 origin-left whitespace-nowrap",children:"About us"})}),m.jsx("div",{className:"block lg:hidden text-center mb-6 sm:mb-8",children:m.jsx("h1",{className:"text-[#333] text-xl sm:text-2xl md:text-3xl font-bold uppercase tracking-wider",children:"About us"})}),m.jsx("div",{className:"mx-2 sm:mx-4 md:mx-8 lg:mx-12 xl:mx-16 lg:ml-20 xl:ml-24",children:m.jsx("div",{className:"relative max-w-full lg:max-w-[90vh] xl:max-w-[100vh] mx-auto",children:m.jsxs("div",{className:"relative min-h-[40vh] sm:min-h-[50vh] md:min-h-[60vh] lg:min-h-[70vh] mb-16 sm:mb-20 md:mb-24 lg:mb-32",children:[m.jsx("img",{src:"/aboutbg.png",alt:"Office building interior",className:"absolute inset-0 w-full h-full object-cover rounded-tl-[20px] sm:rounded-tl-[30px] md:rounded-tl-[40px] lg:rounded-tl-[60px] xl:rounded-tl-[90px] rounded-tr-[8px] sm:rounded-tr-[10px] rounded-bl-[8px] sm:rounded-bl-[10px] rounded-br-[8px] sm:rounded-br-[10px]"}),m.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40 rounded-tl-[20px] sm:rounded-tl-[30px] md:rounded-tl-[40px] lg:rounded-tl-[60px] xl:rounded-tl-[90px] rounded-tr-[8px] sm:rounded-tr-[10px] rounded-bl-[8px] sm:rounded-bl-[10px] rounded-br-[8px] sm:rounded-br-[10px]"}),m.jsx("div",{className:"absolute bottom-[-100px] sm:bottom-[-60px] md:bottom-[-70px] lg:bottom-[-80px] left-0 z-10",children:m.jsx("button",{onClick:e,className:"bg-black text-white px-3 py-4 sm:px-4 sm:py-2 md:px-6 md:py-3 text-xs sm:text-sm md:text-base font-medium hover:bg-opacity-90 transition-all shadow-lg",children:"GET IN TOUCH"})}),m.jsxs(lt.div,{className:"absolute bottom-[-60px] sm:bottom-[-80px] md:bottom-[-100px] lg:bottom-[-120px] xl:bottom-[-140px] right-0 w-full sm:w-[90%] md:w-[85%] lg:w-[75%] xl:w-[60%] z-10 shadow-2xl",initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.3},children:[m.jsxs(lt.div,{className:"p-3 sm:p-4 md:p-6 lg:p-8 backdrop-blur-md text-white rounded-tl-[20px] sm:rounded-tl-[30px] md:rounded-tl-[40px] lg:rounded-tl-[60px] xl:rounded-tl-[80px] bg-black bg-opacity-30",variants:n,children:[m.jsx("h2",{className:"text-lg sm:text-xl md:text-2xl lg:text-3xl font-bold mb-2 sm:mb-3 md:mb-4",children:"We're Falco Solutions"}),m.jsx("p",{className:"text-xs sm:text-sm italic md:text-base leading-relaxed",children:`" At Falco Solutions LTD, we help businesses transform ideas into impactful digital solutions. From market research to launch and growth, our team specializes in creating cutting-edge applications and websites enhanced with AI integration, blockchain development, and advanced data analytics. We don't just build — we innovate. Our solutions are designed to give you a competitive edge, whether through intelligent insights, seamless user experiences, or optimized SEO strategies that boost visibility and growth."`})]}),m.jsx(lt.div,{className:"p-3 sm:p-4 md:p-6 lg:p-8 bg-white text-black",variants:t,children:m.jsx("p",{className:"text-xs sm:text-sm md:text-base leading-relaxed",children:"With a future-driven approach, Falco Solutions is your partner in turning vision into reality —"})})]})]})})})]})},AV=()=>{const[n,t]=q.useState(null),e=["Web Development","Mobile App Development","UI/UX Design","Cloud Solutions","DevOps Services","Data Analytics"],i={"Web & App Frameworks":["React","Angular","Next.js","Node.js","Flutter","React Native"],"AI & Data":["Python","TensorFlow","PyTorch","Analytics Platforms"],Blockchain:["Ethereum","Solidity","Web3"],"Cloud & DevOps":["AWS","Azure","Google Cloud","Docker","Kubernetes"],Databases:["MongoDB","PostgreSQL","MySQL","Firebase"]},r=y=>{t(n===y?null:y)},o={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2,delayChildren:.1}}},l={hidden:{x:-100,opacity:0},visible:{x:0,opacity:1,transition:{duration:.8,ease:"easeOut"}}},u={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.6,ease:"easeOut"}}},d={hidden:{opacity:0,scale:.8},visible:{opacity:1,scale:1,transition:{duration:1.2,ease:"easeOut"}}},f={hidden:{opacity:0,x:-20},visible:{opacity:1,x:0,transition:{duration:.5,ease:"easeOut"}}},g={hidden:{opacity:0,height:0},visible:{opacity:1,height:"auto",transition:{duration:.5,ease:"easeOut"}}};return m.jsxs("section",{className:"relative px-4 sm:px-6 md:px-8 lg:px-12 pt-10 sm:pt-20 md:pt-24 lg:pt-12 xl:pt-16 pb-8 sm:pb-12 md:pb-16 lg:pb-20 xl:pb-24 overflow-hidden",children:[m.jsx(lt.div,{className:"absolute inset-0 flex items-center justify-center",variants:d,initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.3},children:m.jsx("div",{className:"w-24 h-24 sm:w-[10rem] sm:h-[10rem] md:w-[15rem] md:h-[15rem] lg:w-[20rem] lg:h-[20rem] rounded-full bg-gradient-to-br from-purple-400/15 via-indigo-500/20 to-blue-600/10 blur-3xl"})}),m.jsx("div",{className:"relative",children:m.jsx("div",{className:"max-w-7xl mx-auto",children:m.jsxs(lt.div,{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 md:gap-8 lg:gap-12 xl:gap-16 items-start",variants:o,initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.3},children:[m.jsxs(lt.div,{className:"space-y-3 sm:space-y-4 md:space-y-6 lg:space-y-8 lg:ml-12",variants:l,children:[m.jsxs(lt.div,{className:"cursor-pointer",onClick:()=>r("technology"),variants:u,children:[m.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[m.jsx(lt.div,{className:`w-6 h-6 sm:w-8 sm:h-8 md:w-10 md:h-10 rounded-full flex items-center justify-center flex-shrink-0 transition-colors ${n==="technology"?"bg-red-500 text-white":"bg-blue-500 text-white"}`,whileHover:{scale:1.1},transition:{duration:.2},children:n==="technology"?m.jsx(lt.svg,{initial:{rotate:0},animate:{rotate:180},className:"w-4 h-4 sm:w-5 sm:h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})}):m.jsx(lt.svg,{initial:{rotate:0},animate:{rotate:0},className:"w-4 h-4 sm:w-5 sm:h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})}),m.jsxs("div",{className:"flex flex-col",children:[m.jsxs("div",{className:"flex items-baseline",children:[m.jsx("h2",{className:"text-sm sm:text-lg md:text-2xl lg:text-3xl xl:text-4xl font-bold text-gray-900 leading-tight",children:"Technology"}),m.jsx("span",{className:"text-xs sm:text-sm md:text-base lg:text-lg text-gray-600 ml-1 sm:ml-2",children:"WE USE"})]}),n!=="technology"&&m.jsx("p",{className:"text-xs sm:text-sm text-gray-500 mt-1",children:"At Falco Solutions LTD, we combine modern frameworks and intelligent tools to deliver future-ready solutions."})]})]}),m.jsx(bT,{children:n==="technology"&&m.jsxs(lt.div,{className:"ml-4 sm:ml-12 mt-4 space-y-4 overflow-hidden",variants:g,initial:"hidden",animate:"visible",exit:"hidden",children:[m.jsx("p",{className:"text-sm sm:text-base text-gray-600 mb-4",children:"At Falco Solutions LTD, we combine modern frameworks and intelligent tools to deliver future-ready solutions:"}),Object.entries(i).map(([y,x])=>m.jsxs("div",{className:"mb-4",children:[m.jsx("h4",{className:"text-sm sm:text-base md:text-lg font-semibold text-gray-800 mb-2",children:y}),m.jsx("div",{className:"flex flex-wrap gap-2",children:x.map((E,T)=>m.jsx("span",{className:"text-xs sm:text-sm bg-blue-100 text-blue-800 px-3 py-1.5 rounded-full",children:E},T))})]},y))]})})]}),m.jsxs(lt.div,{className:"cursor-pointer mt-6",onClick:()=>r("services"),variants:u,children:[m.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[m.jsx(lt.div,{className:`w-6 h-6 sm:w-8 sm:h-8 md:w-10 md:h-10 rounded-full flex items-center justify-center flex-shrink-0 transition-colors ${n==="services"?"bg-red-500 text-white":"bg-blue-500 text-white"}`,whileHover:{scale:1.1},transition:{duration:.2},children:n==="services"?m.jsx(lt.svg,{initial:{rotate:0},animate:{rotate:180},className:"w-4 h-4 sm:w-5 sm:h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})}):m.jsx(lt.svg,{initial:{rotate:0},animate:{rotate:0},className:"w-4 h-4 sm:w-5 sm:h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})}),m.jsxs("div",{className:"flex flex-col",children:[m.jsx("h3",{className:"text-sm sm:text-lg md:text-2xl lg:text-3xl xl:text-4xl font-bold text-gray-900 leading-tight",children:"Services"}),n!=="services"&&m.jsx("p",{className:"text-xs sm:text-sm text-gray-500 mt-1",children:"From concept to deployment, we offer end-to-end solutions tailored to your business needs."})]})]}),m.jsx(bT,{children:n==="services"&&m.jsxs(lt.div,{className:"ml-4 sm:ml-12 mt-4 space-y-2 overflow-hidden",variants:g,initial:"hidden",animate:"visible",exit:"hidden",children:[m.jsx("p",{className:"text-sm sm:text-base text-gray-600 mb-4",children:"From concept to deployment, we offer end-to-end solutions tailored to your business needs:"}),e.map((y,x)=>m.jsx(lt.div,{className:"text-xs sm:text-sm md:text-lg lg:text-xl text-gray-700 font-medium py-1.5",variants:f,whileHover:{x:5,color:"#3B82F6",transition:{duration:.2}},children:y},x))]})})]})]}),m.jsx(lt.div,{className:"flex justify-center lg:justify-end mt-6 lg:mt-0",variants:u,children:m.jsx(lt.div,{className:"w-full max-w-xs sm:max-w-sm md:max-w-md lg:max-w-lg xl:max-w-xl",whileHover:{scale:1.05,transition:{duration:.3}},children:m.jsx("img",{src:"/Services shape.svg",alt:"Technology Services Graphic",className:"w-full h-auto"})})})]})})})]})},_R="/assets/smartscout-B4weLyLJ.webp",bR="/assets/smartscout_web2-DBc8fh-1.jpeg",ER="/assets/image-DGYDDXTD.png",SR="/assets/image2-BQAAhdMC.png",MV=()=>{const n=[{id:1,title:"Enterprises",description:"Offering innovative digitization services for big, medium-sized and small businesses. We deliver state-of-the-art solutions that accelerate innovation for micro, medium-sized and large businesses and help them take a new approach to how they conduct their business in the digital age.",services:["BRANDING","DEVELOPMENT","UI/UX"],graphic:"/sme-graphic.png",bgColor:"bg-gray-900"},{id:2,title:"Startups",description:"Enabling start-ups with Internet, Cloud, Mobile and IoT platforms to accelerate their development. We have comprehensive technological expertise and experience to facilitate the start-up growth path at each stage - from the initial Seed phase to the eventual expansion level.",services:["BRANDING","DEVELOPMENT","UI/UX"],graphic:"/startup-graphic.png",bgColor:"bg-gray-900"},{id:3,title:"Agencies",description:"Empowering companies, independent software vendors and consulting firms. As their online distribution to assist agencies and allow them to successfully manage the programs of their company. We are increasing their bottom line or taking full responsibility for their projects",services:["BRANDING","DEVELOPMENT","UI/UX"],graphic:"/agencies-graphic.png",bgColor:"bg-gray-900"}];return m.jsxs("section",{className:"relative py-24 px-6 sm:px-12 lg:px-30 xl:px-30",children:[m.jsx("div",{className:"absolute -top-10 -left-30 z-0 pointer-events-none",children:m.jsx("div",{className:"w-40 h-40 lg:w-60 lg:h-60 rounded-full bg-gradient-to-br from-purple-400/30 via-indigo-400/30 to-blue-500/30 blur-3xl"})}),m.jsx("div",{className:"absolute -bottom-10 -right-10 z-0 pointer-events-none",children:m.jsx("div",{className:"w-40 h-40 lg:w-60 lg:h-60 rounded-full bg-gradient-to-tr from-blue-400/30 via-indigo-400/30 to-purple-500/30 blur-3xl"})}),m.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[m.jsx("div",{className:"absolute top-0 right-0 z-0",children:m.jsx("div",{className:"w-16 h-16 sm:w-[10rem] sm:h-[10rem] md:w-[15rem] md:h-[15rem] lg:w-[20rem] lg:h-[20rem] rounded-full bg-gradient-to-br from-purple-400/40 via-indigo-500/40 to-blue-600/20 blur-3xl"})}),m.jsx("div",{className:"absolute bottom-0 left-0 z-0",children:m.jsx("div",{className:"w-16 h-16 sm:w-[10rem] sm:h-[10rem] md:w-[15rem] md:h-[15rem] lg:w-[20rem] lg:h-[20rem] rounded-full bg-gradient-to-br from-blue-600/20 via-indigo-500/40 to-purple-400/40 blur-3xl"})}),m.jsxs("div",{className:"mb-16",children:[m.jsx("p",{className:"text-sm font-medium text-gray-600 uppercase tracking-wider mb-2",children:"OUR CLIENTS"}),m.jsx("h2",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-gray-900",children:"We Work With"})]}),m.jsx("div",{className:"space-y-8",children:n.map((t,e)=>m.jsxs("div",{className:`${t.bgColor} p-8 lg:p-12 overflow-hidden relative group hover:shadow-2xl transition-all duration-300
                  ${e===0?"rounded-tl-[80px]":""} 
                ${e===2?"rounded-br-[80px]":""}`,children:[m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12 items-center",children:[m.jsxs("div",{className:"text-white space-y-6",children:[m.jsx("h3",{className:"text-3xl md:text-4xl lg:text-5xl font-bold",children:t.title}),m.jsx("p",{className:"text-gray-300 text-lg leading-relaxed",children:t.description}),m.jsx("div",{className:"flex flex-wrap gap-3",children:t.services.map((i,r)=>m.jsx("span",{className:"bg-white bg-opacity-10 text-white px-4 py-2 rounded-lg text-sm font-medium backdrop-blur-sm hover:bg-opacity-20 transition-all duration-200",children:i},r))})]}),m.jsx("div",{className:"flex justify-center lg:justify-end",children:m.jsxs("div",{className:"relative",children:[m.jsx("img",{src:t.graphic,alt:`${t.title} illustration`,className:"w-full max-w-md h-auto object-contain transform group-hover:scale-105 transition-transform duration-300"}),m.jsx("div",{className:"absolute -top-4 -right-4 w-8 h-8 bg-blue-400 bg-opacity-20 rounded-full blur-sm"}),m.jsx("div",{className:"absolute -bottom-6 -left-6 w-12 h-12 bg-purple-400 bg-opacity-20 rounded-full blur-sm"})]})})]}),m.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-white from-opacity-5 to-transparent rounded-full blur-3xl transform translate-x-16 -translate-y-16"}),m.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-gradient-to-tr from-blue-500 from-opacity-10 to-transparent rounded-full blur-2xl transform -translate-x-12 translate-y-12"})]},t.id))})]})]})};var lh={},gh={exports:{}},RV=gh.exports,pw;function CV(){return pw||(pw=1,function(n,t){(function(e,i){i(t)})(RV,function(e){var i=function(){return i=Object.assign||function(o){for(var l,u=1,d=arguments.length;u<d;u++)for(var f in l=arguments[u])Object.prototype.hasOwnProperty.call(l,f)&&(o[f]=l[f]);return o},i.apply(this,arguments)},r=function(){function o(l,u,d){var f=this;this.endVal=u,this.options=d,this.version="2.9.0",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,useIndianSeparators:!1,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:"",enableScrollSpy:!1,scrollSpyDelay:200,scrollSpyOnce:!1},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.once=!1,this.count=function(g){f.startTime||(f.startTime=g);var y=g-f.startTime;f.remaining=f.duration-y,f.useEasing?f.countDown?f.frameVal=f.startVal-f.easingFn(y,0,f.startVal-f.endVal,f.duration):f.frameVal=f.easingFn(y,f.startVal,f.endVal-f.startVal,f.duration):f.frameVal=f.startVal+(f.endVal-f.startVal)*(y/f.duration);var x=f.countDown?f.frameVal<f.endVal:f.frameVal>f.endVal;f.frameVal=x?f.endVal:f.frameVal,f.frameVal=Number(f.frameVal.toFixed(f.options.decimalPlaces)),f.printValue(f.frameVal),y<f.duration?f.rAF=requestAnimationFrame(f.count):f.finalEndVal!==null?f.update(f.finalEndVal):f.options.onCompleteCallback&&f.options.onCompleteCallback()},this.formatNumber=function(g){var y,x,E,T,C=g<0?"-":"";y=Math.abs(g).toFixed(f.options.decimalPlaces);var S=(y+="").split(".");if(x=S[0],E=S.length>1?f.options.decimal+S[1]:"",f.options.useGrouping){T="";for(var b=3,O=0,N=0,U=x.length;N<U;++N)f.options.useIndianSeparators&&N===4&&(b=2,O=1),N!==0&&O%b==0&&(T=f.options.separator+T),O++,T=x[U-N-1]+T;x=T}return f.options.numerals&&f.options.numerals.length&&(x=x.replace(/[0-9]/g,function(j){return f.options.numerals[+j]}),E=E.replace(/[0-9]/g,function(j){return f.options.numerals[+j]})),C+f.options.prefix+x+E+f.options.suffix},this.easeOutExpo=function(g,y,x,E){return x*(1-Math.pow(2,-10*g/E))*1024/1023+y},this.options=i(i({},this.defaults),d),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.el=typeof l=="string"?document.getElementById(l):l,u=u??this.parse(this.el.innerHTML),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(u),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,this.options.separator===""&&(this.options.useGrouping=!1),this.el?this.printValue(this.startVal):this.error="[CountUp] target is null or undefined",typeof window<"u"&&this.options.enableScrollSpy&&(this.error?console.error(this.error,l):(window.onScrollFns=window.onScrollFns||[],window.onScrollFns.push(function(){return f.handleScroll(f)}),window.onscroll=function(){window.onScrollFns.forEach(function(g){return g()})},this.handleScroll(this)))}return o.prototype.handleScroll=function(l){if(l&&window&&!l.once){var u=window.innerHeight+window.scrollY,d=l.el.getBoundingClientRect(),f=d.top+window.pageYOffset,g=d.top+d.height+window.pageYOffset;g<u&&g>window.scrollY&&l.paused?(l.paused=!1,setTimeout(function(){return l.start()},l.options.scrollSpyDelay),l.options.scrollSpyOnce&&(l.once=!0)):(window.scrollY>g||f>u)&&!l.paused&&l.reset()}},o.prototype.determineDirectionAndSmartEasing=function(){var l=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>l;var u=l-this.startVal;if(Math.abs(u)>this.options.smartEasingThreshold&&this.options.useEasing){this.finalEndVal=l;var d=this.countDown?1:-1;this.endVal=l+d*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endVal=l,this.finalEndVal=null;this.finalEndVal!==null?this.useEasing=!1:this.useEasing=this.options.useEasing},o.prototype.start=function(l){this.error||(this.options.onStartCallback&&this.options.onStartCallback(),l&&(this.options.onCompleteCallback=l),this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},o.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},o.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},o.prototype.update=function(l){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(l),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,this.finalEndVal==null&&this.resetDuration(),this.finalEndVal=null,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},o.prototype.printValue=function(l){var u;if(this.el){var d=this.formattingFn(l);!((u=this.options.plugin)===null||u===void 0)&&u.render?this.options.plugin.render(this.el,d):this.el.tagName==="INPUT"?this.el.value=d:this.el.tagName==="text"||this.el.tagName==="tspan"?this.el.textContent=d:this.el.innerHTML=d}},o.prototype.ensureNumber=function(l){return typeof l=="number"&&!isNaN(l)},o.prototype.validateValue=function(l){var u=Number(l);return this.ensureNumber(u)?u:(this.error="[CountUp] invalid start or end value: ".concat(l),null)},o.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},o.prototype.parse=function(l){var u=function(y){return y.replace(/([.,'  ])/g,"\\$1")},d=u(this.options.separator),f=u(this.options.decimal),g=l.replace(new RegExp(d,"g"),"").replace(new RegExp(f,"g"),".");return parseFloat(g)},o}();e.CountUp=r})}(gh,gh.exports)),gh.exports}var gw;function NV(){if(gw)return lh;gw=1,Object.defineProperty(lh,"__esModule",{value:!0});var n=yp(),t=CV();function e(R,w){var M=R==null?null:typeof Symbol<"u"&&R[Symbol.iterator]||R["@@iterator"];if(M!=null){var P,z,V,yt,gt=[],Y=!0,Z=!1;try{if(V=(M=M.call(R)).next,w!==0)for(;!(Y=(P=V.call(M)).done)&&(gt.push(P.value),gt.length!==w);Y=!0);}catch(Q){Z=!0,z=Q}finally{try{if(!Y&&M.return!=null&&(yt=M.return(),Object(yt)!==yt))return}finally{if(Z)throw z}}return gt}}function i(R,w){var M=Object.keys(R);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(R);w&&(P=P.filter(function(z){return Object.getOwnPropertyDescriptor(R,z).enumerable})),M.push.apply(M,P)}return M}function r(R){for(var w=1;w<arguments.length;w++){var M=arguments[w]!=null?arguments[w]:{};w%2?i(Object(M),!0).forEach(function(P){u(R,P,M[P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(M)):i(Object(M)).forEach(function(P){Object.defineProperty(R,P,Object.getOwnPropertyDescriptor(M,P))})}return R}function o(R,w){if(typeof R!="object"||!R)return R;var M=R[Symbol.toPrimitive];if(M!==void 0){var P=M.call(R,w);if(typeof P!="object")return P;throw new TypeError("@@toPrimitive must return a primitive value.")}return(w==="string"?String:Number)(R)}function l(R){var w=o(R,"string");return typeof w=="symbol"?w:String(w)}function u(R,w,M){return w=l(w),w in R?Object.defineProperty(R,w,{value:M,enumerable:!0,configurable:!0,writable:!0}):R[w]=M,R}function d(){return d=Object.assign?Object.assign.bind():function(R){for(var w=1;w<arguments.length;w++){var M=arguments[w];for(var P in M)Object.prototype.hasOwnProperty.call(M,P)&&(R[P]=M[P])}return R},d.apply(this,arguments)}function f(R,w){if(R==null)return{};var M={},P=Object.keys(R),z,V;for(V=0;V<P.length;V++)z=P[V],!(w.indexOf(z)>=0)&&(M[z]=R[z]);return M}function g(R,w){if(R==null)return{};var M=f(R,w),P,z;if(Object.getOwnPropertySymbols){var V=Object.getOwnPropertySymbols(R);for(z=0;z<V.length;z++)P=V[z],!(w.indexOf(P)>=0)&&Object.prototype.propertyIsEnumerable.call(R,P)&&(M[P]=R[P])}return M}function y(R,w){return x(R)||e(R,w)||E(R,w)||C()}function x(R){if(Array.isArray(R))return R}function E(R,w){if(R){if(typeof R=="string")return T(R,w);var M=Object.prototype.toString.call(R).slice(8,-1);if(M==="Object"&&R.constructor&&(M=R.constructor.name),M==="Map"||M==="Set")return Array.from(R);if(M==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(M))return T(R,w)}}function T(R,w){(w==null||w>R.length)&&(w=R.length);for(var M=0,P=new Array(w);M<w;M++)P[M]=R[M];return P}function C(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var S=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?n.useLayoutEffect:n.useEffect;function b(R){var w=n.useRef(R);return S(function(){w.current=R}),n.useCallback(function(){for(var M=arguments.length,P=new Array(M),z=0;z<M;z++)P[z]=arguments[z];return w.current.apply(void 0,P)},[])}var O=function(w,M){var P=M.decimal,z=M.decimals,V=M.duration,yt=M.easingFn,gt=M.end,Y=M.formattingFn,Z=M.numerals,Q=M.prefix,Rt=M.separator,W=M.start,at=M.suffix,wt=M.useEasing,Et=M.useGrouping,it=M.useIndianSeparators,St=M.enableScrollSpy,Ct=M.scrollSpyDelay,Vt=M.scrollSpyOnce,Ft=M.plugin;return new t.CountUp(w,gt,{startVal:W,duration:V,decimal:P,decimalPlaces:z,easingFn:yt,formattingFn:Y,numerals:Z,separator:Rt,prefix:Q,suffix:at,plugin:Ft,useEasing:wt,useIndianSeparators:it,useGrouping:Et,enableScrollSpy:St,scrollSpyDelay:Ct,scrollSpyOnce:Vt})},N=["ref","startOnMount","enableReinitialize","delay","onEnd","onStart","onPauseResume","onReset","onUpdate"],U={decimal:".",separator:",",delay:null,prefix:"",suffix:"",duration:2,start:0,decimals:0,startOnMount:!0,enableReinitialize:!0,useEasing:!0,useGrouping:!0,useIndianSeparators:!1},j=function(w){var M=Object.fromEntries(Object.entries(w).filter(function(ge){var $=y(ge,2),bn=$[1];return bn!==void 0})),P=n.useMemo(function(){return r(r({},U),M)},[w]),z=P.ref,V=P.startOnMount,yt=P.enableReinitialize,gt=P.delay,Y=P.onEnd,Z=P.onStart,Q=P.onPauseResume,Rt=P.onReset,W=P.onUpdate,at=g(P,N),wt=n.useRef(),Et=n.useRef(),it=n.useRef(!1),St=b(function(){return O(typeof z=="string"?z:z.current,at)}),Ct=b(function(ge){var $=wt.current;if($&&!ge)return $;var bn=St();return wt.current=bn,bn}),Vt=b(function(){var ge=function(){return Ct(!0).start(function(){Y?.({pauseResume:Ft,reset:de,start:Ie,update:ee})})};gt&&gt>0?Et.current=setTimeout(ge,gt*1e3):ge(),Z?.({pauseResume:Ft,reset:de,update:ee})}),Ft=b(function(){Ct().pauseResume(),Q?.({reset:de,start:Ie,update:ee})}),de=b(function(){Ct().el&&(Et.current&&clearTimeout(Et.current),Ct().reset(),Rt?.({pauseResume:Ft,start:Ie,update:ee}))}),ee=b(function(ge){Ct().update(ge),W?.({pauseResume:Ft,reset:de,start:Ie})}),Ie=b(function(){de(),Vt()}),We=b(function(ge){V&&(ge&&de(),Vt())});return n.useEffect(function(){it.current?yt&&We(!0):(it.current=!0,We())},[yt,it,We,gt,w.start,w.suffix,w.prefix,w.duration,w.separator,w.decimals,w.decimal,w.formattingFn]),n.useEffect(function(){return function(){de()}},[de]),{start:Ie,pauseResume:Ft,reset:de,update:ee,getCountUp:Ct}},G=["className","redraw","containerProps","children","style"],D=function(w){var M=w.className,P=w.redraw,z=w.containerProps,V=w.children,yt=w.style,gt=g(w,G),Y=n.useRef(null),Z=n.useRef(!1),Q=j(r(r({},gt),{},{ref:Y,startOnMount:typeof V!="function"||w.delay===0,enableReinitialize:!1})),Rt=Q.start,W=Q.reset,at=Q.update,wt=Q.pauseResume,Et=Q.getCountUp,it=b(function(){Rt()}),St=b(function(Ft){w.preserveValue||W(),at(Ft)}),Ct=b(function(){if(typeof w.children=="function"&&!(Y.current instanceof Element)){console.error(`Couldn't find attached element to hook the CountUp instance into! Try to attach "containerRef" from the render prop to a an Element, eg. <span ref={containerRef} />.`);return}Et()});n.useEffect(function(){Ct()},[Ct]),n.useEffect(function(){Z.current&&St(w.end)},[w.end,St]);var Vt=P&&w;return n.useEffect(function(){P&&Z.current&&it()},[it,P,Vt]),n.useEffect(function(){!P&&Z.current&&it()},[it,P,w.start,w.suffix,w.prefix,w.duration,w.separator,w.decimals,w.decimal,w.className,w.formattingFn]),n.useEffect(function(){Z.current=!0},[]),typeof V=="function"?V({countUpRef:Y,start:Rt,reset:W,update:at,pauseResume:wt,getCountUp:Et}):n.createElement("span",d({className:M,ref:Y,style:yt},z),typeof w.start<"u"?Et().formattingFn(w.start):"")};return lh.default=D,lh.useCountUp=j,lh}var DV=NV();const hv=Vx(DV),IV=()=>{const n=De.useRef(null),t=Rh(n,{once:!0,margin:"-50px"}),e=[{id:1,title:"Smart Scout",subtitle:"Mobile App",type:"mobile",description:"Smart Scout Mobile is a cross-platform Flutter application that empowers young athletes to build their sports portfolio on-the-go. Players can upload training videos, match highlights, and performance statistics directly from their mobile devices. The app provides seamless connectivity with the web platform, instant notifications for scout interest, and tools to track skill development over time. With its intuitive interface, athletes can maintain their sporting profile anytime, anywhere.",image:_R},{id:2,title:"Smart Scout",subtitle:"Web Application",type:"web",description:"Smart Scout Web is a comprehensive talent showcase platform built with React.js that provides young athletes with a professional space to display their skills, achievements, and sports portfolios. The platform enables scouts and coaches to discover emerging talent through advanced filtering, video highlights, performance metrics, and detailed player profiles. Our full-stack solution features secure authentication, real-time messaging, and a robust admin dashboard for managing recruitment processes.",image:bR},{id:3,title:"E-commerce",subtitle:"Web Application",type:"web",description:"Makhbu is a modern e-commerce website designed to provide a seamless online shopping experience. The platform features a clean and intuitive interface where users can browse products, add items to their cart, and securely complete purchases. It includes essential functionalities such as product search and filtering, category-based browsing, user authentication, and responsive design for both desktop and mobile devices. Makhbu was built with a focus on performance, scalability, and user-friendly navigation, making it a complete solution for online retail.",image:ER},{id:4,title:"E-commerce",subtitle:"Mobile App",type:"mobile",description:"This project is a fully functional mobile application developed in Kotlin, designed with a focus on performance, reliability, and a smooth user experience. The app features a modern UI built with Jetpack Compose, providing intuitive navigation and responsiveness across devices. It integrates essential mobile functionalities such as authentication, API connectivity, and real-time data handling, making it scalable and adaptable for different use cases. The project demonstrates strong expertise in Android development, clean architecture, and Kotlin best practices.",image:SR}],i={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2,delayChildren:.1}}},r={hidden:{opacity:0,y:50,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{duration:.6,ease:[.25,.46,.45,.94]}}},o={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:.8,ease:[.25,.46,.45,.94]}}},l={animate:{scale:[1,1.1,1],opacity:[.6,.8,.6],transition:{duration:4,repeat:1/0,ease:"easeInOut"}}},u=Cr();return q.useEffect(()=>{if(u.hash){const d=document.querySelector(u.hash);d&&d.scrollIntoView({behavior:"smooth"})}},[u]),m.jsxs("section",{id:"work",className:"relative px-4 sm:px-6 md:px-12 lg:px-24 xl:px-32 overflow-hidden",children:[m.jsx("div",{className:"absolute top-20 left-0 w-40 h-40 sm:w-60 sm:h-60 bg-gradient-to-br from-purple-700/60 via-indigo-700/50 to-blue-700/50 rounded-full blur-3xl opacity-70 pointer-events-none z-0"}),m.jsx("div",{className:"absolute bottom-10 right-10 w-60 h-60 sm:w-80 sm:h-80 bg-gradient-to-tr from-pink-700/50 via-purple-700/50 to-blue-700/50 rounded-full blur-3xl opacity-60 pointer-events-none z-0"}),m.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-72 h-72 sm:w-96 sm:h-96 bg-gradient-to-br from-blue-500/40 via-purple-600/40 to-pink-500/40 rounded-full blur-[120px] opacity-60 pointer-events-none z-0"}),m.jsx(lt.div,{className:"absolute bottom-10 right-10 w-60 h-60 sm:w-80 sm:h-80 bg-gradient-to-tr from-orange-400/30 via-orange-500/20 to-yellow-400/30 rounded-full blur-3xl opacity-60 pointer-events-none z-0",variants:l,animate:"animate"}),m.jsx(lt.div,{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-72 h-72 sm:w-96 sm:h-96 bg-gradient-to-br from-orange-400/30 via-orange-500/20 to-yellow-400/30 rounded-full blur-[120px] opacity-60 pointer-events-none z-0",variants:l,animate:"animate",style:{animationDelay:"2s"}}),m.jsxs("div",{className:"max-w-7xl mx-auto relative z-10",children:[m.jsx(lt.div,{className:"flex flex-col lg:flex-row lg:justify-between lg:items-start mb-16",initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.3},variants:o,children:m.jsxs("div",{className:"lg:max-w-xl",children:[m.jsx(lt.p,{className:"text-sm font-medium text-gray-700 uppercase tracking-wider mb-2",initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.5},children:"OUR WORK"}),m.jsxs(lt.h2,{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl xl:text-6xl font-bold text-gray-900 mb-6",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.2},children:["Portfo",m.jsx(lt.span,{className:"inline-block bg-gray-700 text-white px-1 py-1 sm:px-2 sm:py-1 rounded-md transform -rotate-2",initial:{rotate:-2,scale:.8},whileInView:{rotate:-2,scale:1},viewport:{once:!0},transition:{duration:.5,delay:.4,type:"spring"},whileHover:{rotate:2,scale:1.05,transition:{duration:.2}},children:"lio"})]}),m.jsx(lt.p,{className:"text-sm sm:text-base italic lg:text-lg text-gray-600 leading-relaxed",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.4},children:'"At Falco Solutions LTD, we turn ideas into powerful digital products. Our portfolio reflects a diverse range of projects — from mobile apps to AI-powered platforms, blockchain solutions, and scalable SaaS applications. Each project is built with innovation, performance, and growth in mind, helping businesses launch, scale, and thrive in the digital era."'})]})}),m.jsx(lt.div,{className:"grid grid-cols-1 md:grid-cols-2 gap-6 sm:gap-8 lg:gap-12",initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.1},variants:i,children:e.map((d,f)=>m.jsxs(lt.div,{className:`group cursor-pointer ${f===0||f===3?"md:mt-0":"md:mt-16"}`,variants:r,whileHover:{scale:1.02,transition:{duration:.3}},whileTap:{scale:.98},children:[m.jsx(lt.div,{className:"mb-4",initial:{opacity:0,rotate:-45},whileInView:{opacity:1,rotate:0},viewport:{once:!0},transition:{duration:.5,delay:f*.1},children:m.jsx("img",{src:"/curl.svg",alt:"Curl Icon",className:"w-6 h-6 sm:w-8 sm:h-8 text-gray-400"})}),m.jsxs(lt.div,{className:"mb-6",initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.5,delay:f*.1+.2},children:[m.jsx(lt.h3,{className:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900 mb-2 group-hover:text-gray-700 transition-colors duration-200",whileHover:{x:5},transition:{duration:.2},children:d.title}),m.jsx(lt.p,{className:"text-lg sm:text-xl text-gray-600",whileHover:{x:5},transition:{duration:.2,delay:.1},children:d.subtitle})]}),m.jsxs(lt.div,{className:`
                  relative aspect-[4/3] rounded-lg overflow-hidden group-hover:shadow-2xl transition-all duration-300 transform group-hover:-translate-y-2
                  ${d.type==="mobile"?"bg-black":"bg-gray-100"}
                `,initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:f*.1+.4},whileHover:{y:-8,boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",transition:{duration:.3}},children:[m.jsx("img",{src:d.image,alt:`${d.title} screenshot`,className:"w-full h-full object-center"}),d.type==="mobile"&&m.jsx("div",{className:"absolute inset-0 pointer-events-none",children:m.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-4/5 h-5/6 border-8 border-black rounded-3xl"})}),m.jsx(lt.div,{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-70 flex items-center justify-center p-6 transition-all duration-300",initial:{opacity:0},whileHover:{opacity:1},transition:{duration:.3},children:m.jsxs(lt.p,{className:"text-white italic text-center text-sm sm:text-base opacity-0 group-hover:opacity-100 transform translate-y-4 group-hover:translate-y-0 transition-all duration-300",children:['"',d.description,'"']})})]})]},d.id))}),m.jsx("div",{className:"max-w-7xl mx-auto relative z-10",children:m.jsx(lt.div,{ref:n,className:"mt-16 sm:mt-20 md:mt-24 pt-12 sm:pt-16 border-t border-gray-200",initial:{opacity:0,y:50},animate:t?{opacity:1,y:0}:{opacity:0,y:50},transition:{duration:.8,ease:"easeOut"},children:m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 sm:gap-8 lg:gap-12",children:[m.jsxs("div",{className:"text-center group",children:[m.jsx("div",{className:"flex justify-center mb-4",children:m.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-gray-900 rounded-full flex items-center justify-center",children:m.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-gray-900 rounded-full"})})}),m.jsxs("h3",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-gray-900 mb-2",children:[t?m.jsx(hv,{end:382,duration:2}):0," ",m.jsx("span",{className:"text-xl sm:text-2xl",children:"+"})]}),m.jsx("p",{className:"text-base sm:text-lg font-medium text-gray-900 mb-1",children:"Projects Delivered"}),m.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"and counting more.."})]}),m.jsxs("div",{className:"text-center group",children:[m.jsx("div",{className:"flex justify-center mb-4",children:m.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-gray-900 transform rotate-45 flex items-center justify-center",children:m.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-gray-900"})})}),m.jsxs("h3",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-gray-900 mb-2",children:[t?m.jsx(hv,{end:14,duration:1.5}):0," ",m.jsx("span",{className:"text-xl sm:text-2xl",children:"+"})]}),m.jsx("p",{className:"text-base sm:text-lg font-medium text-gray-900 mb-1",children:"Active Projects"}),m.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"and counting more.."})]}),m.jsxs("div",{className:"text-center group",children:[m.jsx("div",{className:"flex justify-center mb-4",children:m.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 border-l-[32px] sm:border-l-[52px] border-r-[32px] sm:border-r-[52px] border-b-[42px] sm:border-b-[68px] border-l-transparent border-r-transparent border-b-gray-900"})}),m.jsxs("h3",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-gray-900 mb-2",children:[t?m.jsx(hv,{end:168,duration:2}):0," ",m.jsx("span",{className:"text-xl sm:text-2xl",children:"+"})]}),m.jsx("p",{className:"text-base sm:text-lg font-medium text-gray-900 mb-1",children:"Active Projects"}),m.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"and counting more.."})]})]})})})]}),m.jsx(MV,{})]})};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PV=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),LV=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,i)=>i?i.toUpperCase():e.toLowerCase()),vw=n=>{const t=LV(n);return t.charAt(0).toUpperCase()+t.slice(1)},TR=(...n)=>n.filter((t,e,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===e).join(" ").trim(),OV=n=>{for(const t in n)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var UV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VV=q.forwardRef(({color:n="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:i,className:r="",children:o,iconNode:l,...u},d)=>q.createElement("svg",{ref:d,...UV,width:t,height:t,stroke:n,strokeWidth:i?Number(e)*24/Number(t):e,className:TR("lucide",r),...!o&&!OV(u)&&{"aria-hidden":"true"},...u},[...l.map(([f,g])=>q.createElement(f,g)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ei=(n,t)=>{const e=q.forwardRef(({className:i,...r},o)=>q.createElement(VV,{ref:o,iconNode:t,className:TR(`lucide-${PV(vw(n))}`,`lucide-${n}`,i),...r}));return e.displayName=vw(n),e};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FV=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],BV=ei("chart-column",FV);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kV=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],jV=ei("chevron-down",kV);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zV=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],wR=ei("chevron-left",zV);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HV=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],AR=ei("chevron-right",HV);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GV=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],WV=ei("chevron-up",GV);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qV=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],XV=ei("code",qV);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YV=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],MR=ei("instagram",YV);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KV=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],RR=ei("lightbulb",KV);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $V=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],QV=ei("link",$V);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZV=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],CR=ei("linkedin",ZV);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JV=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],NR=ei("mail",JV);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t6=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],e6=ei("map-pin",t6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n6=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],i6=ei("monitor",n6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s6=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],r6=ei("network",s6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a6=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],o6=ei("package",a6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l6=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],DR=ei("phone",l6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c6=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],u6=ei("send",c6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h6=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],IR=ei("settings",h6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d6=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],f6=ei("users",d6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m6=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],p6=ei("youtube",m6),g6=()=>{const[n,t]=q.useState(0),[e,i]=q.useState(!1),r=De.useRef(null),o=Rh(r,{once:!0,margin:"-50px"}),l=[{id:1,name:"Lee Davis",content:"Lorem ipsum dolor sit amet consectetur. In et arcu mauris ultricies pulvinar. Ut morbi amet ipsum lectus tristique sapien sed enim feugiat adipiscing non pulvinar a. Ultricies sem commodo a malesuada elementum morbi a in."},{id:2,name:"Daniel Corwin",content:"Lorem ipsum dolor sit amet consectetur. Sed ut semper sodales id fringilla posuere egestas. Eget ultrices adipiscing augue urna."},{id:3,name:"Bonnie Upton",content:"Lorem ipsum dolor sit amet consectetur. Sed quam sed duis commodo adipiscing ipsum et. Arcu urna sit lectus malesuada convallis integer et. Tempor velit euismod feugiat in proin habitant imperdiet vulputate."}],u=q.useCallback(()=>{e||(i(!0),t(y=>(y+1)%l.length),setTimeout(()=>i(!1),300))},[e,l.length]),d=q.useCallback(()=>{e||(i(!0),t(y=>(y-1+l.length)%l.length),setTimeout(()=>i(!1),300))},[e,l.length]),f=q.useMemo(()=>l.map((y,x)=>({isActive:x===n,isPrev:x===(n-1+l.length)%l.length,isNext:x===(n+1)%l.length,index:x})),[n,l.length]),g=q.useMemo(()=>({size:y="w-4 h-4",rotate:x=!1})=>m.jsx("svg",{className:`${y} text-white ${x?"rotate-180":""}`,fill:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{d:"M14.017 21v-7.391c0-5.704 3.731-9.57 8.983-10.609l.995 2.151c-2.432.917-3.995 3.638-3.995 5.849h4v10h-9.983zm-14.017 0v-7.391c0-5.704 3.748-9.57 9-10.609l.996 2.151c-2.433.917-3.996 3.638-3.996 5.849h4v10h-10z"})}),[]);return m.jsxs(lt.div,{ref:r,className:"relative py-12 sm:py-16 px-4 sm:px-6 md:px-8 overflow-hidden",initial:{opacity:0,y:20},animate:o?{opacity:1,y:0}:{opacity:0,y:20},transition:{duration:1,ease:"easeOut"},children:[m.jsx("div",{className:"absolute w-48 h-48 sm:w-64 sm:h-64 md:w-80 md:h-80 lg:w-96 lg:h-96 left-4 sm:left-8 md:left-20 top-20 sm:top-30 md:top-60 z-0 pointer-events-none",style:{transform:"translate3d(0, 0, 0)"},children:m.jsx("img",{src:"/quotes.svg",alt:"Decorative quotes",className:"w-full h-full object-contain",loading:"lazy"})}),m.jsx("div",{className:"absolute bottom-0 right-1/4 w-32 h-32 sm:w-40 sm:h-40 md:w-60 md:h-60 bg-gradient-to-tr from-blue-500/50 via-indigo-600/50 to-purple-700/50 rounded-full blur-3xl opacity-60 pointer-events-none z-0",style:{willChange:"transform"}}),m.jsxs("div",{className:"max-w-6xl mx-auto relative z-10",children:[m.jsxs(lt.div,{className:"mb-12 sm:mb-16",initial:{opacity:0,x:-20},animate:o?{opacity:1,x:0}:{opacity:0,x:-20},transition:{duration:.7,delay:.2,ease:"easeOut"},children:[m.jsx("p",{className:"text-xs sm:text-sm font-semibold text-gray-600 tracking-wider uppercase mb-2",children:"OUR COMMUNITY"}),m.jsxs("h2",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold text-gray-900",children:["Community love"," ",m.jsx("span",{className:"bg-gray-700 text-white px-2 py-1 sm:px-3 sm:py-1 rounded text-sm sm:text-base",children:"us"})]})]}),m.jsxs(lt.div,{className:"absolute right-0 top-12 sm:top-16 flex space-x-2 z-20",initial:{opacity:0,x:20},animate:o?{opacity:1,x:0}:{opacity:0,x:20},transition:{duration:.7,delay:.4,ease:"easeOut"},children:[m.jsx("button",{onClick:d,disabled:e,className:"p-1.5 sm:p-2 rounded-full border border-gray-300 hover:bg-gray-100 transition-colors disabled:opacity-50","aria-label":"Previous testimonial",children:m.jsx(wR,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),m.jsx("button",{onClick:u,disabled:e,className:"p-1.5 sm:p-2 rounded-full border border-gray-300 hover:bg-gray-100 transition-colors disabled:opacity-50","aria-label":"Next testimonial",children:m.jsx(AR,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 sm:gap-8 relative",children:f.map(({isActive:y,isPrev:x,isNext:E,index:T})=>{const C=l[T];return m.jsxs(lt.div,{className:"relative",initial:{opacity:0,y:20},animate:o?{opacity:y?1:x||E?.8:.5,y:0,scale:y?1.05:x||E?1:.95}:{opacity:0,y:20,scale:.95},transition:{duration:.5,delay:.6+T*.1,ease:"easeOut"},style:{willChange:e?"transform":"auto"},children:[m.jsx("div",{className:"absolute -top-3 sm:-top-4 left-4 sm:left-6 z-10",children:m.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-gray-800 rounded flex items-center justify-center",children:m.jsx(g,{size:"w-3 h-3 sm:w-4 sm:h-4"})})}),m.jsxs("div",{className:"bg-white rounded-lg p-6 sm:p-8 pt-10 sm:pt-12 shadow-sm border border-gray-100 h-full",children:[m.jsx("p",{className:"text-xs sm:text-sm text-gray-600 leading-relaxed mb-4 sm:mb-6",children:C.content}),m.jsx("div",{className:"flex justify-end mb-3 sm:mb-4",children:m.jsx("div",{className:"w-5 h-5 sm:w-6 sm:h-6 bg-gray-800 rounded flex items-center justify-center",children:m.jsx(g,{size:"w-2.5 h-2.5 sm:w-3 sm:h-3",rotate:!0})})}),m.jsx("h3",{className:"font-bold text-gray-900 text-base sm:text-lg",children:C.name})]})]},C.id)})})]})]})};var PR={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},yw=De.createContext&&De.createContext(PR),v6=["attr","size","title"];function y6(n,t){if(n==null)return{};var e=x6(n,t),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(r=0;r<o.length;r++)i=o[r],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(e[i]=n[i])}return e}function x6(n,t){if(n==null)return{};var e={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(t.indexOf(i)>=0)continue;e[i]=n[i]}return e}function Ym(){return Ym=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Ym.apply(this,arguments)}function xw(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function Km(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?xw(Object(e),!0).forEach(function(i){_6(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):xw(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function _6(n,t,e){return t=b6(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function b6(n){var t=E6(n,"string");return typeof t=="symbol"?t:t+""}function E6(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function LR(n){return n&&n.map((t,e)=>De.createElement(t.tag,Km({key:e},t.attr),LR(t.child)))}function Ri(n){return t=>De.createElement(S6,Ym({attr:Km({},n.attr)},t),LR(n.child))}function S6(n){var t=e=>{var{attr:i,size:r,title:o}=n,l=y6(n,v6),u=r||e.size||"1em",d;return e.className&&(d=e.className),n.className&&(d=(d?d+" ":"")+n.className),De.createElement("svg",Ym({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,i,l,{className:d,style:Km(Km({color:n.color||e.color},e.style),n.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&De.createElement("title",null,o),n.children)};return yw!==void 0?De.createElement(yw.Consumer,null,e=>t(e)):t(PR)}function T6(n){return Ri({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8.051 1.999h.089c.822.003 4.987.033 6.11.335a2.01 2.01 0 0 1 1.415 1.42c.101.38.172.883.22 1.402l.01.104.022.26.008.104c.065.914.073 1.77.074 1.957v.075c-.001.194-.01 1.108-.082 2.06l-.008.105-.009.104c-.05.572-.124 1.14-.235 1.558a2.01 2.01 0 0 1-1.415 1.42c-1.16.312-5.569.334-6.18.335h-.142c-.309 0-1.587-.006-2.927-.052l-.17-.006-.087-.004-.171-.007-.171-.007c-1.11-.049-2.167-.128-2.654-.26a2.01 2.01 0 0 1-1.415-1.419c-.111-.417-.185-.986-.235-1.558L.09 9.82l-.008-.104A31 31 0 0 1 0 7.68v-.123c.002-.215.01-.958.064-1.778l.007-.103.003-.052.008-.104.022-.26.01-.104c.048-.519.119-1.023.22-1.402a2.01 2.01 0 0 1 1.415-1.42c.487-.13 1.544-.21 2.654-.26l.17-.007.172-.006.086-.003.171-.007A100 100 0 0 1 7.858 2zM6.4 5.209v4.818l4.157-2.408z"},child:[]}]})(n)}const zh={_origin:"https://api.emailjs.com"},w6=(n,t="https://api.emailjs.com")=>{zh._userID=n,zh._origin=t},OR=(n,t,e)=>{if(!n)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!t)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!e)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class _w{constructor(t){this.status=t.status,this.text=t.responseText}}const UR=(n,t,e={})=>new Promise((i,r)=>{const o=new XMLHttpRequest;o.addEventListener("load",({target:l})=>{const u=new _w(l);u.status===200||u.text==="OK"?i(u):r(u)}),o.addEventListener("error",({target:l})=>{r(new _w(l))}),o.open("POST",zh._origin+n,!0),Object.keys(e).forEach(l=>{o.setRequestHeader(l,e[l])}),o.send(t)}),A6=(n,t,e,i)=>{const r=i||zh._userID;return OR(r,n,t),UR("/api/v1.0/email/send",JSON.stringify({lib_version:"3.2.0",user_id:r,service_id:n,template_id:t,template_params:e}),{"Content-type":"application/json"})},M6=n=>{let t;if(typeof n=="string"?t=document.querySelector(n):t=n,!t||t.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return t},R6=(n,t,e,i)=>{const r=i||zh._userID,o=M6(e);OR(r,n,t);const l=new FormData(o);return l.append("lib_version","3.2.0"),l.append("service_id",n),l.append("template_id",t),l.append("user_id",r),UR("/api/v1.0/email/send-form",l)},$m={init:w6,send:A6,sendForm:R6};function VR(n){var t,e,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var r=n.length;for(t=0;t<r;t++)n[t]&&(e=VR(n[t]))&&(i&&(i+=" "),i+=e)}else for(e in n)n[e]&&(i&&(i+=" "),i+=e);return i}function al(){for(var n,t,e=0,i="",r=arguments.length;e<r;e++)(n=arguments[e])&&(t=VR(n))&&(i&&(i+=" "),i+=t);return i}function C6(n){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e),e.styleSheet?e.styleSheet.cssText=n:e.appendChild(document.createTextNode(n))}C6(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var hd=n=>typeof n=="number"&&!isNaN(n),ol=n=>typeof n=="string",da=n=>typeof n=="function",N6=n=>ol(n)||hd(n),Ty=n=>ol(n)||da(n)?n:null,D6=(n,t)=>n===!1||hd(n)&&n>0?n:t,wy=n=>q.isValidElement(n)||ol(n)||da(n)||hd(n);function I6(n,t,e=300){let{scrollHeight:i,style:r}=n;requestAnimationFrame(()=>{r.minHeight="initial",r.height=i+"px",r.transition=`all ${e}ms`,requestAnimationFrame(()=>{r.height="0",r.padding="0",r.margin="0",setTimeout(t,e)})})}function P6({enter:n,exit:t,appendPosition:e=!1,collapse:i=!0,collapseDuration:r=300}){return function({children:o,position:l,preventExitTransition:u,done:d,nodeRef:f,isIn:g,playToast:y}){let x=e?`${n}--${l}`:n,E=e?`${t}--${l}`:t,T=q.useRef(0);return q.useLayoutEffect(()=>{let C=f.current,S=x.split(" "),b=O=>{O.target===f.current&&(y(),C.removeEventListener("animationend",b),C.removeEventListener("animationcancel",b),T.current===0&&O.type!=="animationcancel"&&C.classList.remove(...S))};C.classList.add(...S),C.addEventListener("animationend",b),C.addEventListener("animationcancel",b)},[]),q.useEffect(()=>{let C=f.current,S=()=>{C.removeEventListener("animationend",S),i?I6(C,d,r):d()};g||(u?S():(T.current=1,C.className+=` ${E}`,C.addEventListener("animationend",S)))},[g]),De.createElement(De.Fragment,null,o)}}function bw(n,t){return{content:FR(n.content,n.props),containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,reason:n.removalReason,status:t}}function FR(n,t,e=!1){return q.isValidElement(n)&&!ol(n.type)?q.cloneElement(n,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:e}):da(n)?n({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:e}):n}function L6({closeToast:n,theme:t,ariaLabel:e="close"}){return De.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:i=>{i.stopPropagation(),n(!0)},"aria-label":e},De.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},De.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function O6({delay:n,isRunning:t,closeToast:e,type:i="default",hide:r,className:o,controlledProgress:l,progress:u,rtl:d,isIn:f,theme:g}){let y=r||l&&u===0,x={animationDuration:`${n}ms`,animationPlayState:t?"running":"paused"};l&&(x.transform=`scaleX(${u})`);let E=al("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${g}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":d}),T=da(o)?o({rtl:d,type:i,defaultClassName:E}):al(E,o),C={[l&&u>=1?"onTransitionEnd":"onAnimationEnd"]:l&&u<1?null:()=>{f&&e()}};return De.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":y},De.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${g} Toastify__progress-bar--${i}`}),De.createElement("div",{role:"progressbar","aria-hidden":y?"true":"false","aria-label":"notification timer",className:T,style:x,...C}))}var U6=1,BR=()=>`${U6++}`;function V6(n,t,e){let i=1,r=0,o=[],l=[],u=t,d=new Map,f=new Set,g=O=>(f.add(O),()=>f.delete(O)),y=()=>{l=Array.from(d.values()),f.forEach(O=>O())},x=({containerId:O,toastId:N,updateId:U})=>{let j=O?O!==n:n!==1,G=d.has(N)&&U==null;return j||G},E=(O,N)=>{d.forEach(U=>{var j;(N==null||N===U.props.toastId)&&((j=U.toggle)==null||j.call(U,O))})},T=O=>{var N,U;(U=(N=O.props)==null?void 0:N.onClose)==null||U.call(N,O.removalReason),O.isActive=!1},C=O=>{if(O==null)d.forEach(T);else{let N=d.get(O);N&&T(N)}y()},S=()=>{r-=o.length,o=[]},b=O=>{var N,U;let{toastId:j,updateId:G}=O.props,D=G==null;O.staleId&&d.delete(O.staleId),O.isActive=!0,d.set(j,O),y(),e(bw(O,D?"added":"updated")),D&&((U=(N=O.props).onOpen)==null||U.call(N))};return{id:n,props:u,observe:g,toggle:E,removeToast:C,toasts:d,clearQueue:S,buildToast:(O,N)=>{if(x(N))return;let{toastId:U,updateId:j,data:G,staleId:D,delay:R}=N,w=j==null;w&&r++;let M={...u,style:u.toastStyle,key:i++,...Object.fromEntries(Object.entries(N).filter(([z,V])=>V!=null)),toastId:U,updateId:j,data:G,isIn:!1,className:Ty(N.className||u.toastClassName),progressClassName:Ty(N.progressClassName||u.progressClassName),autoClose:N.isLoading?!1:D6(N.autoClose,u.autoClose),closeToast(z){d.get(U).removalReason=z,C(U)},deleteToast(){let z=d.get(U);if(z!=null){if(e(bw(z,"removed")),d.delete(U),r--,r<0&&(r=0),o.length>0){b(o.shift());return}y()}}};M.closeButton=u.closeButton,N.closeButton===!1||wy(N.closeButton)?M.closeButton=N.closeButton:N.closeButton===!0&&(M.closeButton=wy(u.closeButton)?u.closeButton:!0);let P={content:O,props:M,staleId:D};u.limit&&u.limit>0&&r>u.limit&&w?o.push(P):hd(R)?setTimeout(()=>{b(P)},R):b(P)},setProps(O){u=O},setToggle:(O,N)=>{let U=d.get(O);U&&(U.toggle=N)},isToastActive:O=>{var N;return(N=d.get(O))==null?void 0:N.isActive},getSnapshot:()=>l}}var Gi=new Map,Hh=[],Ay=new Set,F6=n=>Ay.forEach(t=>t(n)),kR=()=>Gi.size>0;function B6(){Hh.forEach(n=>zR(n.content,n.options)),Hh=[]}var k6=(n,{containerId:t})=>{var e;return(e=Gi.get(t||1))==null?void 0:e.toasts.get(n)};function jR(n,t){var e;if(t)return!!((e=Gi.get(t))!=null&&e.isToastActive(n));let i=!1;return Gi.forEach(r=>{r.isToastActive(n)&&(i=!0)}),i}function j6(n){if(!kR()){Hh=Hh.filter(t=>n!=null&&t.options.toastId!==n);return}if(n==null||N6(n))Gi.forEach(t=>{t.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let t=Gi.get(n.containerId);t?t.removeToast(n.id):Gi.forEach(e=>{e.removeToast(n.id)})}}var z6=(n={})=>{Gi.forEach(t=>{t.props.limit&&(!n.containerId||t.id===n.containerId)&&t.clearQueue()})};function zR(n,t){wy(n)&&(kR()||Hh.push({content:n,options:t}),Gi.forEach(e=>{e.buildToast(n,t)}))}function H6(n){var t;(t=Gi.get(n.containerId||1))==null||t.setToggle(n.id,n.fn)}function HR(n,t){Gi.forEach(e=>{(t==null||!(t!=null&&t.containerId)||t?.containerId===e.id)&&e.toggle(n,t?.id)})}function G6(n){let t=n.containerId||1;return{subscribe(e){let i=V6(t,n,F6);Gi.set(t,i);let r=i.observe(e);return B6(),()=>{r(),Gi.delete(t)}},setProps(e){var i;(i=Gi.get(t))==null||i.setProps(e)},getSnapshot(){var e;return(e=Gi.get(t))==null?void 0:e.getSnapshot()}}}function W6(n){return Ay.add(n),()=>{Ay.delete(n)}}function q6(n){return n&&(ol(n.toastId)||hd(n.toastId))?n.toastId:BR()}function dd(n,t){return zR(n,t),t.toastId}function Mp(n,t){return{...t,type:t&&t.type||n,toastId:q6(t)}}function Rp(n){return(t,e)=>dd(t,Mp(n,e))}function Ge(n,t){return dd(n,Mp("default",t))}Ge.loading=(n,t)=>dd(n,Mp("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function X6(n,{pending:t,error:e,success:i},r){let o;t&&(o=ol(t)?Ge.loading(t,r):Ge.loading(t.render,{...r,...t}));let l={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},u=(f,g,y)=>{if(g==null){Ge.dismiss(o);return}let x={type:f,...l,...r,data:y},E=ol(g)?{render:g}:g;return o?Ge.update(o,{...x,...E}):Ge(E.render,{...x,...E}),y},d=da(n)?n():n;return d.then(f=>u("success",i,f)).catch(f=>u("error",e,f)),d}Ge.promise=X6;Ge.success=Rp("success");Ge.info=Rp("info");Ge.error=Rp("error");Ge.warning=Rp("warning");Ge.warn=Ge.warning;Ge.dark=(n,t)=>dd(n,Mp("default",{theme:"dark",...t}));function Y6(n){j6(n)}Ge.dismiss=Y6;Ge.clearWaitingQueue=z6;Ge.isActive=jR;Ge.update=(n,t={})=>{let e=k6(n,t);if(e){let{props:i,content:r}=e,o={delay:100,...i,...t,toastId:t.toastId||n,updateId:BR()};o.toastId!==n&&(o.staleId=n);let l=o.render||r;delete o.render,dd(l,o)}};Ge.done=n=>{Ge.update(n,{progress:1})};Ge.onChange=W6;Ge.play=n=>HR(!0,n);Ge.pause=n=>HR(!1,n);function K6(n){var t;let{subscribe:e,getSnapshot:i,setProps:r}=q.useRef(G6(n)).current;r(n);let o=(t=q.useSyncExternalStore(e,i,i))==null?void 0:t.slice();function l(u){if(!o)return[];let d=new Map;return n.newestOnTop&&o.reverse(),o.forEach(f=>{let{position:g}=f.props;d.has(g)||d.set(g,[]),d.get(g).push(f)}),Array.from(d,f=>u(f[0],f[1]))}return{getToastToRender:l,isToastActive:jR,count:o?.length}}function $6(n){let[t,e]=q.useState(!1),[i,r]=q.useState(!1),o=q.useRef(null),l=q.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:u,pauseOnHover:d,closeToast:f,onClick:g,closeOnClick:y}=n;H6({id:n.toastId,containerId:n.containerId,fn:e}),q.useEffect(()=>{if(n.pauseOnFocusLoss)return x(),()=>{E()}},[n.pauseOnFocusLoss]);function x(){document.hasFocus()||b(),window.addEventListener("focus",S),window.addEventListener("blur",b)}function E(){window.removeEventListener("focus",S),window.removeEventListener("blur",b)}function T(D){if(n.draggable===!0||n.draggable===D.pointerType){O();let R=o.current;l.canCloseOnClick=!0,l.canDrag=!0,R.style.transition="none",n.draggableDirection==="x"?(l.start=D.clientX,l.removalDistance=R.offsetWidth*(n.draggablePercent/100)):(l.start=D.clientY,l.removalDistance=R.offsetHeight*(n.draggablePercent===80?n.draggablePercent*1.5:n.draggablePercent)/100)}}function C(D){let{top:R,bottom:w,left:M,right:P}=o.current.getBoundingClientRect();D.nativeEvent.type!=="touchend"&&n.pauseOnHover&&D.clientX>=M&&D.clientX<=P&&D.clientY>=R&&D.clientY<=w?b():S()}function S(){e(!0)}function b(){e(!1)}function O(){l.didMove=!1,document.addEventListener("pointermove",U),document.addEventListener("pointerup",j)}function N(){document.removeEventListener("pointermove",U),document.removeEventListener("pointerup",j)}function U(D){let R=o.current;if(l.canDrag&&R){l.didMove=!0,t&&b(),n.draggableDirection==="x"?l.delta=D.clientX-l.start:l.delta=D.clientY-l.start,l.start!==D.clientX&&(l.canCloseOnClick=!1);let w=n.draggableDirection==="x"?`${l.delta}px, var(--y)`:`0, calc(${l.delta}px + var(--y))`;R.style.transform=`translate3d(${w},0)`,R.style.opacity=`${1-Math.abs(l.delta/l.removalDistance)}`}}function j(){N();let D=o.current;if(l.canDrag&&l.didMove&&D){if(l.canDrag=!1,Math.abs(l.delta)>l.removalDistance){r(!0),n.closeToast(!0),n.collapseAll();return}D.style.transition="transform 0.2s, opacity 0.2s",D.style.removeProperty("transform"),D.style.removeProperty("opacity")}}let G={onPointerDown:T,onPointerUp:C};return u&&d&&(G.onMouseEnter=b,n.stacked||(G.onMouseLeave=S)),y&&(G.onClick=D=>{g&&g(D),l.canCloseOnClick&&f(!0)}),{playToast:S,pauseToast:b,isRunning:t,preventExitTransition:i,toastRef:o,eventHandlers:G}}var Q6=typeof window<"u"?q.useLayoutEffect:q.useEffect,Cp=({theme:n,type:t,isLoading:e,...i})=>De.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:n==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...i});function Z6(n){return De.createElement(Cp,{...n},De.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function J6(n){return De.createElement(Cp,{...n},De.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function t5(n){return De.createElement(Cp,{...n},De.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function e5(n){return De.createElement(Cp,{...n},De.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function n5(){return De.createElement("div",{className:"Toastify__spinner"})}var My={info:J6,warning:Z6,success:t5,error:e5,spinner:n5},i5=n=>n in My;function s5({theme:n,type:t,isLoading:e,icon:i}){let r=null,o={theme:n,type:t};return i===!1||(da(i)?r=i({...o,isLoading:e}):q.isValidElement(i)?r=q.cloneElement(i,o):e?r=My.spinner():i5(t)&&(r=My[t](o))),r}var r5=n=>{let{isRunning:t,preventExitTransition:e,toastRef:i,eventHandlers:r,playToast:o}=$6(n),{closeButton:l,children:u,autoClose:d,onClick:f,type:g,hideProgressBar:y,closeToast:x,transition:E,position:T,className:C,style:S,progressClassName:b,updateId:O,role:N,progress:U,rtl:j,toastId:G,deleteToast:D,isIn:R,isLoading:w,closeOnClick:M,theme:P,ariaLabel:z}=n,V=al("Toastify__toast",`Toastify__toast-theme--${P}`,`Toastify__toast--${g}`,{"Toastify__toast--rtl":j},{"Toastify__toast--close-on-click":M}),yt=da(C)?C({rtl:j,position:T,type:g,defaultClassName:V}):al(V,C),gt=s5(n),Y=!!U||!d,Z={closeToast:x,type:g,theme:P},Q=null;return l===!1||(da(l)?Q=l(Z):q.isValidElement(l)?Q=q.cloneElement(l,Z):Q=L6(Z)),De.createElement(E,{isIn:R,done:D,position:T,preventExitTransition:e,nodeRef:i,playToast:o},De.createElement("div",{id:G,tabIndex:0,onClick:f,"data-in":R,className:yt,...r,style:S,ref:i,...R&&{role:N,"aria-label":z}},gt!=null&&De.createElement("div",{className:al("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!w})},gt),FR(u,n,!t),Q,!n.customProgressBar&&De.createElement(O6,{...O&&!Y?{key:`p-${O}`}:{},rtl:j,theme:P,delay:d,isRunning:t,isIn:R,closeToast:x,hide:y,type:g,className:b,controlledProgress:Y,progress:U||0})))},a5=(n,t=!1)=>({enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:t}),o5=P6(a5("bounce",!0)),l5={position:"top-right",transition:o5,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:n=>n.altKey&&n.code==="KeyT"};function R_(n){let t={...l5,...n},e=n.stacked,[i,r]=q.useState(!0),o=q.useRef(null),{getToastToRender:l,isToastActive:u,count:d}=K6(t),{className:f,style:g,rtl:y,containerId:x,hotKeys:E}=t;function T(S){let b=al("Toastify__toast-container",`Toastify__toast-container--${S}`,{"Toastify__toast-container--rtl":y});return da(f)?f({position:S,rtl:y,defaultClassName:b}):al(b,Ty(f))}function C(){e&&(r(!0),Ge.play())}return Q6(()=>{var S;if(e){let b=o.current.querySelectorAll('[data-in="true"]'),O=12,N=(S=t.position)==null?void 0:S.includes("top"),U=0,j=0;Array.from(b).reverse().forEach((G,D)=>{let R=G;R.classList.add("Toastify__toast--stacked"),D>0&&(R.dataset.collapsed=`${i}`),R.dataset.pos||(R.dataset.pos=N?"top":"bot");let w=U*(i?.2:1)+(i?0:O*D);R.style.setProperty("--y",`${N?w:w*-1}px`),R.style.setProperty("--g",`${O}`),R.style.setProperty("--s",`${1-(i?j:0)}`),U+=R.offsetHeight,j+=.025})}},[i,d,e]),q.useEffect(()=>{function S(b){var O;let N=o.current;E(b)&&((O=N.querySelector('[tabIndex="0"]'))==null||O.focus(),r(!1),Ge.pause()),b.key==="Escape"&&(document.activeElement===N||N!=null&&N.contains(document.activeElement))&&(r(!0),Ge.play())}return document.addEventListener("keydown",S),()=>{document.removeEventListener("keydown",S)}},[E]),De.createElement("section",{ref:o,className:"Toastify",id:x,onMouseEnter:()=>{e&&(r(!1),Ge.pause())},onMouseLeave:C,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},l((S,b)=>{let O=b.length?{...g}:{...g,pointerEvents:"none"};return De.createElement("div",{tabIndex:-1,className:T(S),"data-stacked":e,style:O,key:`c-${S}`},b.map(({content:N,props:U})=>De.createElement(r5,{...U,stacked:e,collapseAll:C,isIn:u(U.toastId,U.containerId),key:`t-${U.key}`},N)))}))}const c5=()=>{const[n,t]=q.useState({fullName:"",email:"",subject:"",projectType:"",description:""}),[e,i]=q.useState(!1),[r,o]=q.useState(!1),l=q.useRef(null),u=q.useRef(null);q.useEffect(()=>{$m.init("M_CTarJqjrkNvsez5");const x=new IntersectionObserver(([E])=>{o(E.isIntersecting)},{threshold:.3,rootMargin:"50px"});return l.current&&x.observe(l.current),()=>x.disconnect()},[]);const d=x=>{const{name:E,value:T}=x.target;t(C=>({...C,[E]:T}))},f=x=>{if(x.preventDefault(),i(!0),!n.fullName||!n.email||!n.subject||!n.description){Ge.error("Please fill in all required fields"),i(!1);return}const E={from_name:n.fullName,from_email:n.email,subject:n.subject,project_type:n.projectType,message:n.description,to_email:"talhaazfar4722@gmail.com"};$m.send("service_4swfz4p","template_r8o2osn",E).then(T=>{console.log("SUCCESS!",T.status,T.text),Ge.success("Message sent successfully! We will get back to you soon."),t({fullName:"",email:"",subject:"",projectType:"",description:""})}).catch(T=>{console.error("FAILED...",T),Ge.error("Failed to send message. Please try again later.")}).finally(()=>{i(!1)})},g=["Web Development","Mobile App Development","UI/UX Design","E-commerce","Digital Marketing","Consulting","Other"],y=Cr();return q.useEffect(()=>{if(y.hash){const x=document.querySelector(y.hash);x&&x.scrollIntoView({behavior:"smooth"})}},[y]),m.jsxs(m.Fragment,{children:[m.jsx(R_,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),m.jsxs("section",{id:"contact",ref:l,className:"relative ...",children:[m.jsx("div",{className:"absolute bottom-0 right-0 w-60 h-60 lg:w-96 lg:h-96 rounded-full bg-gradient-to-tr from-blue-400/30 via-indigo-400/30 to-purple-500/30 blur-3xl pointer-events-none z-0"}),m.jsx("div",{className:"max-w-5xl mx-auto relative z-10",children:m.jsx("div",{className:"top-20 relative py-16 px-4 overflow-hidden mx-auto max-w-5xl md:px-8 lg:px-16",children:m.jsx("div",{className:"max-w-7xl mx-auto",children:m.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-start",children:[m.jsxs("div",{className:`relative transition-all duration-700 ease-out ${r?"opacity-100 transform translate-x-0":"opacity-0 transform -translate-x-12"}`,children:[m.jsx("div",{className:"mb-8",children:m.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-2",children:["Hire"," ",m.jsx("span",{className:"bg-gray-700 text-white px-3 py-1 rounded",children:"us"})]})}),m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500 to-blue-600 rounded-lg transform rotate-1"}),m.jsxs("form",{ref:u,onSubmit:f,className:"relative bg-black rounded-lg p-8 text-white",children:[m.jsx("div",{className:"absolute top-4 right-4",children:m.jsxs("div",{className:"flex flex-col space-y-1",children:[m.jsx("div",{className:"w-8 h-0.5 bg-white transform rotate-45"}),m.jsx("div",{className:"w-6 h-0.5 bg-white transform rotate-45"}),m.jsx("div",{className:"w-4 h-0.5 bg-white transform rotate-45"})]})}),m.jsx("h3",{className:"text-xl font-medium mb-8",children:"Let's discuss your project"}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-2",children:"Full Name *"}),m.jsx("input",{type:"text",name:"fullName",value:n.fullName,onChange:d,className:"w-full bg-transparent border border-gray-600 rounded px-4 py-3 focus:outline-none focus:border-blue-400 transition-colors",placeholder:"",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-2",children:"E-Mail *"}),m.jsx("input",{type:"email",name:"email",value:n.email,onChange:d,className:"w-full bg-transparent border border-gray-600 rounded px-4 py-3 focus:outline-none focus:border-blue-400 transition-colors",placeholder:"",required:!0})]})]}),m.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-2",children:"Subject *"}),m.jsx("input",{type:"text",name:"subject",value:n.subject,onChange:d,className:"w-full bg-transparent border border-gray-600 rounded px-4 py-3 focus:outline-none focus:border-blue-400 transition-colors",placeholder:"",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-2",children:"Type of the Project"}),m.jsxs("select",{name:"projectType",value:n.projectType,onChange:d,className:"w-full bg-transparent border border-gray-600 rounded px-4 py-3 focus:outline-none focus:border-blue-400 transition-colors appearance-none cursor-pointer",children:[m.jsx("option",{value:"",className:"bg-black",children:"Select from the list..."}),g.map(x=>m.jsx("option",{value:x,className:"bg-black",children:x},x))]})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-2",children:"Describe your Project *"}),m.jsx("textarea",{name:"description",value:n.description,onChange:d,rows:5,className:"w-full bg-transparent border border-gray-600 rounded px-4 py-3 focus:outline-none focus:border-blue-400 transition-colors resize-none",placeholder:"",required:!0})]}),m.jsxs("button",{type:"submit",disabled:e,className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-3 rounded-lg font-medium transition-colors flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[m.jsx("span",{children:e?"Sending...":"Contact us"}),m.jsx(u6,{className:"w-4 h-4"})]})]})]})]})]}),m.jsxs("div",{className:`space-y-12 transition-all duration-700 ease-out ${r?"opacity-100 transform translate-x-0":"opacity-0 transform translate-x-12"}`,style:{transitionDelay:"200ms"},children:[m.jsxs("div",{children:[m.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-8",children:["Contact"," ",m.jsx("span",{className:"bg-gray-700 text-white px-3 py-1 rounded",children:"us"})]}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex items-center space-x-4",children:[m.jsx(NR,{className:"w-5 h-5 text-gray-600"}),m.jsx("a",{href:"mailto:admin@falcosolutionsltd.co.uk",className:"text-blue-500 underline  text-base sm:text-lg hover:text-blue-600",children:"admin@falcosolutionsltd.co.uk"})]}),m.jsxs("div",{className:"flex items-center space-x-4",children:[m.jsx(DR,{className:"w-5 h-5 text-gray-600"}),m.jsx("a",{href:"tel:+447300846252",className:"text-blue-500 underline text-base sm:text-lg hover:text-blue-600",children:"+44 7300 846252"})]}),m.jsxs("div",{className:"flex items-start space-x-4",children:[m.jsx(e6,{className:"w-5 h-5 text-gray-600 mt-1"}),m.jsxs("div",{className:"text-gray-700",children:[m.jsx("div",{children:"66630, Wood Street,"}),m.jsx("div",{children:"Largo-88796, Turkey"})]})]})]})]}),m.jsx("div",{className:"w-full h-px bg-gray-800"}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"To connect with us"}),m.jsx("p",{className:"text-gray-600 mb-6",children:"Don't forgot to follow us on"}),m.jsxs("div",{className:"flex items-center space-x-6",children:[m.jsx("div",{className:"relative",children:m.jsxs("svg",{className:"w-16 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 64 48",children:[m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M8 24c8-8 16-8 24 0s16 8 24 0"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M48 16l8 8-8 8"})]})}),m.jsxs("div",{className:"flex space-x-4",children:[m.jsx("a",{href:"https://linkedin.com/company/falcosolutions",target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 bg-gray-800 rounded-full flex items-center justify-center hover:bg-gray-700 transition-colors",children:m.jsx(CR,{className:"w-5 h-5 text-white"})}),m.jsx("a",{href:"https://youtube.com/@falcosolutions",target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 bg-gray-800 rounded-full flex items-center justify-center hover:bg-gray-700 transition-colors",children:m.jsx(T6,{className:"w-5 h-5 text-white"})}),m.jsx("a",{href:"https://instagram.com/falcosolutions",target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 bg-gray-800 rounded-full flex items-center justify-center hover:bg-gray-700 transition-colors",children:m.jsx(MR,{className:"w-5 h-5 text-white"})})]})]})]})]})]})})})})]})]})},u5=()=>{const[n,t]=q.useState(0),[e,i]=q.useState({subject:"",description:""}),[r,o]=q.useState(!1),[l,u]=q.useState(""),d=De.useRef(null),f=De.useRef(null),g=De.useRef(null),y=De.useRef([]),x=Rh(d,{once:!0,margin:"-50px"}),E=Rh(f,{once:!0,margin:"-50px"}),T=Rh(g,{once:!0,margin:"-50px"}),C=[{question:"What cloud platforms do you specialize in?",answer:"We primarily work with Amazon Web Services (AWS) but also support Azure and Google Cloud depending on project needs. Our team helps with migration, deployment, and optimization to ensure scalability and security."},{question:"Do you develop both Android and iOS apps?",answer:"Yes, our mobile app development team builds native apps for Android (Kotlin/Java) and iOS (Swift) as well as cross-platform apps using Flutter and React Native to reduce cost and time."},{question:"Can you help with social media marketing?",answer:"Absolutely! We design and run targeted campaigns on platforms like Facebook, Instagram, and LinkedIn. We also provide content strategy, ad management, and performance tracking to maximize ROI."},{question:"Do you offer website performance optimization?",answer:"Yes, we specialize in speed optimization, SEO improvements, and backend scaling. Our goal is to improve both user experience and search engine ranking for your business."},{question:"What industries do you work with?",answer:"We have worked with clients in e-commerce, healthcare, education, fintech, and retail. Our solutions are customized to fit your specific industry requirements."},{question:"How do you ensure data security in cloud projects?",answer:"We follow industry best practices including data encryption, regular security audits, compliance checks, and IAM (Identity and Access Management) policies to safeguard your data."}],S=N=>{t(n===N?-1:N)},b=N=>{const{name:U,value:j}=N.target;i(G=>({...G,[U]:j}))},O=async()=>{if(!e.subject.trim()||!e.description.trim()){u("Please fill in both fields"),setTimeout(()=>u(""),3e3);return}o(!0),u("");try{const N=new FormData;N.append("entry.1856644384",e.subject),N.append("entry.1014581932",e.description);const U=await fetch("https://docs.google.com/forms/d/e/1FAIpQLSfQDF6gUipO37rqnRF-dqrbgiViNyZtzVUpyYXGrRox7gNzbg/formResponse",{method:"POST",mode:"no-cors",body:N});u("Question submitted successfully!"),i({subject:"",description:""})}catch(N){console.error("Error submitting form:",N),u("Error submitting question. Please try again.")}finally{o(!1),setTimeout(()=>u(""),5e3)}};return m.jsxs("section",{className:"relative overflow-hidden",children:[m.jsx("div",{className:"absolute top-14 left-0 w-64 h-64 sm:w-70 sm:h-70 md:w-96 md:h-96 lg:w-[32rem] lg:h-[32rem] bg-purple-500 rounded-full blur-3xl opacity-20 pointer-events-none z-0"}),m.jsx("div",{className:"max-w-5xl mx-auto relative z-10",children:m.jsxs("div",{className:"top-20 relative sm:py-16 px-4 sm:px-6 md:px-8 lg:px-16 overflow-hidden mx-auto max-w-5xl",children:[m.jsxs(lt.div,{ref:d,className:"mb-12 sm:mb-16",initial:{opacity:0,y:30},animate:x?{opacity:1,y:0}:{opacity:0,y:30},transition:{duration:1,ease:"easeOut"},children:[m.jsx("p",{className:"text-xs sm:text-sm font-semibold text-gray-600 tracking-wider uppercase mb-2 sm:mb-4",children:"OUR COMMUNITY"}),m.jsxs("h2",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold text-gray-900",children:["Community's"," ",m.jsx("span",{className:"bg-gray-700 text-white px-2 py-1 sm:px-3 sm:py-1 rounded text-sm sm:text-base",children:"questions"})]})]}),m.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 sm:gap-12 items-start",children:[m.jsxs(lt.div,{ref:f,className:"space-y-6 sm:space-y-8",initial:{opacity:0,x:-30},animate:E?{opacity:1,x:0}:{opacity:0,x:-30},transition:{duration:1,delay:.2,ease:"easeOut"},children:[m.jsx("div",{className:"flex justify-center lg:justify-start",children:m.jsx("div",{className:"relative",children:m.jsx("img",{src:"question.png",alt:"Person with questions",className:"w-80 h-80 sm:w-96 sm:h-96 md:w-[30rem] md:h-[30rem] object-contain"})})}),m.jsxs("div",{className:"bg-black rounded-lg p-4 sm:p-6 text-white transform hover:scale-105 transition-transform duration-300",children:[m.jsx("h3",{className:"text-lg sm:text-xl font-semibold mb-2",children:"Don't find your answer!"}),m.jsx("p",{className:"text-gray-300 text-xs sm:text-sm mb-4 sm:mb-6",children:"Don't worry, write your question here and our support team will help you."}),m.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs sm:text-sm font-medium mb-1 sm:mb-2",children:"Subject"}),m.jsx("input",{type:"text",name:"subject",value:e.subject,onChange:b,className:"w-full bg-transparent border border-gray-600 rounded px-3 py-2 sm:px-4 sm:py-3 focus:outline-none focus:border-blue-400 transition-colors text-sm sm:text-base",placeholder:""})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs sm:text-sm font-medium mb-1 sm:mb-2",children:"Describe your Project"}),m.jsx("textarea",{name:"description",value:e.description,onChange:b,rows:3,className:"w-full bg-transparent border border-gray-600 rounded px-3 py-2 sm:px-4 sm:py-3 focus:outline-none focus:border-blue-400 transition-colors resize-none text-sm sm:text-base",placeholder:""})]}),m.jsx("button",{onClick:O,disabled:r,className:`bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 sm:px-6 sm:py-3 rounded-lg font-medium transition-colors transform hover:scale-105 text-sm sm:text-base ${r?"opacity-50 cursor-not-allowed":""}`,children:r?"SUBMITTING...":"SUBMIT QUESTION"}),l&&m.jsx("div",{className:`text-xs sm:text-sm mt-2 ${l.includes("successfully")?"text-green-400":"text-red-400"}`,children:l})]})]})]}),m.jsx(lt.div,{ref:g,className:"space-y-3 sm:space-y-4",initial:{opacity:0,x:30},animate:T?{opacity:1,x:0}:{opacity:0,x:30},transition:{duration:1,delay:.4,ease:"easeOut"},children:C.map((N,U)=>m.jsxs(lt.div,{ref:j=>y.current[U]=j,className:"bg-black rounded-lg overflow-hidden transform transition-all duration-700 ease-out hover:scale-105",initial:{opacity:0,y:20},animate:T?{opacity:1,y:0}:{opacity:0,y:20},transition:{duration:.7,delay:.6+U*.1,ease:"easeOut"},children:[m.jsxs("button",{onClick:()=>S(U),className:"w-full p-4 sm:p-6 text-left flex items-center justify-between hover:bg-gray-900 transition-colors",children:[m.jsx("span",{className:"text-white font-medium pr-2 sm:pr-4 text-xs sm:text-sm md:text-base",children:N.question}),m.jsx("div",{className:"flex-shrink-0",children:n===U?m.jsx(WV,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white transform transition-transform duration-300"}):m.jsx(jV,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white transform transition-transform duration-300"})})]}),m.jsx("div",{className:`overflow-hidden transition-all duration-500 ease-out ${n===U?"max-h-96 opacity-100":"max-h-0 opacity-0"}`,children:m.jsx("div",{className:"px-4 sm:px-6 pb-4 sm:pb-6",children:m.jsx("div",{className:"border-t border-gray-700 pt-3 sm:pt-4",children:m.jsx("div",{className:"text-gray-300 text-xs sm:text-sm leading-relaxed whitespace-pre-line",children:N.answer})})})})]},U))})]})]})})]})};function h5(){const n=()=>{const t=document.getElementById("contact");t&&t.scrollIntoView({behavior:"smooth",block:"start"})};return m.jsx("div",{className:"min-h-screen flex items-center justify-center",children:m.jsx("div",{className:"w-full max-w-4xl",children:m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-0 bg-purple-500 rounded-2xl blur-3xl opacity-20"}),m.jsx("div",{className:"absolute inset-0 bg-purple-400 rounded-2xl blur-2xl opacity-15"}),m.jsxs("div",{className:"relative bg-black p-16 text-center",children:[m.jsxs("div",{className:"absolute top-8 left-8",children:[m.jsx("div",{className:"w-12 h-0.5 bg-white mb-2"}),m.jsx("div",{className:"w-8 h-0.5 bg-white"})]}),m.jsxs("div",{className:"space-y-8",children:[m.jsx("h2",{className:"text-5xl md:text-6xl font-bold text-white",children:"Let's work together"}),m.jsx("p",{className:"text-gray-300 text-lg",children:"Janessa64@Macejkovic LLC"}),m.jsxs("button",{onClick:n,className:"bg-gray-700 hover:bg-gray-600 text-white px-8 py-4 font-medium text-lg transition-colors duration-300 flex items-center gap-3 mx-auto",children:["GET IN TOUCH",m.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]})]})]})]})})})}const d5="/assets/logo-DX5F9HkI.png",dl=()=>m.jsx("footer",{className:"bg-gray-100 md:py-16",children:m.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8 lg:px-16",children:[m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 lg:gap-4 mb-4 md:mb-6",children:[m.jsxs("div",{className:"space-y-3 sm:col-span-2 lg:col-span-1 flex flex-col items-center sm:items-start text-center sm:text-left",children:[m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx("img",{src:d5,alt:"Falco logo",className:"w-20 bg-white rounded-full h-20 flex-shrink-0"}),m.jsxs("div",{className:"leading-tight",children:[m.jsx("div",{className:"font-bold text-black text-lg",children:"Falco"}),m.jsx("div",{className:"font-bold text-black text-lg",children:"Solutions"})]})]}),m.jsx("p",{className:"text-gray-600 text-sm leading-relaxed max-w-xs",children:"Unleash Your True Potential with Falco Solutions"}),m.jsxs("div",{className:"w-full",children:[m.jsx("h4",{className:"font-semibold text-black mb-2",children:"Follow Us"}),m.jsxs("div",{className:"flex justify-center sm:justify-start space-x-3",children:[m.jsx("a",{href:"https://linkedin.com/company/falcosolutions",target:"_blank",rel:"noopener noreferrer",className:"bg-black text-white p-2 rounded hover:bg-gray-800 transition-colors duration-200","aria-label":"Follow us on LinkedIn",children:m.jsx(CR,{className:"w-5 h-5"})}),m.jsx("a",{href:"https://youtube.com/@falcosolutions",target:"_blank",rel:"noopener noreferrer",className:"bg-black text-white p-2 rounded hover:bg-gray-800 transition-colors duration-200","aria-label":"Follow us on YouTube",children:m.jsx(p6,{className:"w-5 h-5"})}),m.jsx("a",{href:"https://instagram.com/falcosolutions",target:"_blank",rel:"noopener noreferrer",className:"bg-black text-white p-2 rounded hover:bg-gray-800 transition-colors duration-200","aria-label":"Follow us on Instagram",children:m.jsx(MR,{className:"w-5 h-5"})})]})]})]}),m.jsxs("div",{className:"space-y-6 flex flex-col items-center sm:items-start text-center sm:text-left",children:[m.jsx("h4",{className:"font-semibold text-black",children:"Useful Links"}),m.jsxs("ul",{className:"space-y-3",children:[m.jsx("li",{children:m.jsx("a",{href:"/",className:"text-gray-600 hover:text-black transition-colors duration-200 text-sm block",children:"Home"})}),m.jsx("li",{children:m.jsx("a",{href:"/about",className:"text-gray-600 hover:text-black transition-colors duration-200 text-sm block",children:"About us"})}),m.jsx("li",{children:m.jsx("a",{href:"/services",className:"text-gray-600 hover:text-black transition-colors duration-200 text-sm block",children:"Services"})}),m.jsx("li",{children:m.jsx("a",{href:"/privacy-policy",className:"text-gray-600 hover:text-black transition-colors duration-200 text-sm block",children:"Privacy & Policy"})}),m.jsx("li",{children:m.jsx("a",{href:"/terms-and-service",className:"text-gray-600 hover:text-black transition-colors duration-200 text-sm block",children:"Terms of Service"})}),m.jsx("li",{children:m.jsx("a",{href:"/contact",className:"text-gray-600 hover:text-black transition-colors duration-200 text-sm block",children:"Contact Us"})})]})]}),m.jsxs("div",{className:"space-y-6 flex flex-col items-center sm:items-start text-center sm:text-left",children:[m.jsx("h4",{className:"font-semibold text-black",children:"Contact Information"}),m.jsxs("ul",{className:"space-y-4",children:[m.jsx("li",{children:m.jsx("a",{href:"tel:+44 7300 846252",className:"text-gray-600 hover:text-black transition-colors duration-200 text-sm block",children:"+44 7300 846252"})}),m.jsx("li",{children:m.jsx("a",{href:"mailto:admin@falcosolutionsltd.co.uk",className:"text-gray-600 hover:text-black transition-colors duration-200 text-sm block break-all",children:"admin@falcosolutionsltd.co.uk"})}),m.jsx("li",{children:m.jsx("a",{className:"text-gray-600  cursor-pointer hover:text-black transition-colors duration-200 text-sm block break-all",children:"Birmingham, United Kingdom"})})]})]})]}),m.jsx("div",{className:"border-t border-gray-300 pt-6 md:pt-8",children:m.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center space-y-3 sm:space-y-0 text-center",children:[m.jsx("div",{className:"text-gray-600 text-sm order-2 sm:order-1",children:"© Copyrights 2025. All rights reserved."}),m.jsxs("div",{className:"text-gray-600 text-sm order-1 sm:order-2",children:["Managed by"," ",m.jsx("a",{href:"https://falcosolutions.com",className:"text-black hover:text-gray-800 hover:underline font-medium transition-colors duration-200",target:"_blank",rel:"noopener noreferrer",children:"Falco Solutions"})]})]})})]})}),fl=()=>{const[n,t]=q.useState(!1),e=[{label:"Home",href:"/"},{label:"Services",href:"/services"},{label:"About Us",href:"/about"},{label:"Contact Us",href:"/contact"}],i=_p(),r=()=>{i("/#contact")};return m.jsxs("nav",{className:"absolute top-0 left-0 right-0 z-20 bg-transparent px-4 sm:px-6 lg:px-8",children:[m.jsxs("div",{className:"flex items-center justify-between h-16 sm:h-20 md:justify-between",children:[m.jsxs("div",{className:"flex items-center justify-between w-full md:hidden",children:[m.jsx("button",{onClick:()=>t(!n),className:"text-gray-800 focus:outline-none",children:m.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n?m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),m.jsx("div",{className:"absolute left-1/2 transform -translate-x-1/2 z-10",children:m.jsx("img",{src:"/logo.png",alt:"Falco Logo",className:"h-full w-full mt-72 sm:h-12 sm:w-12"})}),m.jsx("div",{className:"sm:hidden",children:m.jsxs("button",{onClick:r,className:"bg-black text-white px-3 py-1.5 hover:bg-gray-800 transition-colors font-medium text-xs",children:[m.jsx("span",{className:"inline-block w-1.5 h-1.5 bg-red-500 mr-1.5"}),"Start a Project"]})}),m.jsx("div",{className:"hidden sm:flex md:hidden",children:m.jsxs("button",{onClick:r,className:"bg-black text-white px-4 py-2 hover:bg-gray-800 transition-colors font-medium text-sm",children:[m.jsx("span",{className:"inline-block w-2 h-2 bg-red-500 mr-2"}),"Start a Project"]})})]}),m.jsxs("div",{className:"hidden md:flex items-center justify-between w-full h-full",children:[m.jsx("div",{className:"flex-shrink-0",children:m.jsx("img",{src:"/logo.png",alt:"Falco Logo",className:"h-20 w-20 lg:h-32 lg:w-32 xl:h-40 xl:w-40 mt-4"})}),m.jsx("div",{className:"flex space-x-8",children:e.map((o,l)=>m.jsx("a",{href:o.href,className:"text-gray-700 hover:text-gray-900 transition-colors font-medium",children:o.label},l))}),m.jsx("div",{className:"flex",children:m.jsxs("button",{onClick:r,className:"bg-black text-white px-4 py-2 hover:bg-gray-800 transition-colors font-medium text-base",children:[m.jsx("span",{className:"inline-block w-2 h-2 bg-red-500 mr-2"}),"Start a Project"]})})]})]}),n&&m.jsxs("div",{className:"md:hidden mt-2 space-y-2 px-2 pb-4 bg-white rounded-lg shadow-md z-50 relative",children:[e.map((o,l)=>m.jsx("a",{href:o.href,className:"block text-gray-700 hover:text-gray-900 transition-colors font-medium py-2",children:o.label},l)),m.jsxs("button",{className:"w-full bg-black text-white px-4 py-2 hover:bg-gray-800 transition-colors font-medium text-sm",children:[m.jsx("span",{className:"inline-block w-2 h-2 bg-red-500 mr-2"}),"Hire Us, Now"]})]})]})};function f5(){return m.jsxs("div",{children:[m.jsx(fl,{}),m.jsx(BP,{}),m.jsx(wV,{}),m.jsx(AV,{}),m.jsx(IV,{}),m.jsx(g6,{}),m.jsx(c5,{}),m.jsx(u5,{}),m.jsx(h5,{}),m.jsx(dl,{})]})}const m5=()=>{const n=()=>{const t=document.getElementById("portfolio");t&&t.scrollIntoView({behavior:"smooth",block:"start"})};return m.jsxs("div",{className:"relative min-h-screen bg-gradient-to-br from-pink-50 to-blue-50 overflow-hidden",children:[m.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[m.jsx("div",{className:"absolute top-1/2 right-0 transform translate-x-1/2 -translate-y-1/2 w-[300px] h-[300px] sm:w-[400px] sm:h-[400px] lg:w-[500px] lg:h-[500px] xl:w-[600px] xl:h-[600px]",children:m.jsx("div",{className:"w-full h-full rounded-full bg-gradient-to-br from-purple-400/20 via-indigo-500/30 to-gray-900/40 blur-3xl"})}),m.jsx("div",{className:"absolute top-1/2 left-0 w-32 h-32 sm:w-64 sm:h-64 lg:w-80 lg:h-80 rounded-full bg-gradient-to-br from-blue-400/10 to-purple-600/20 blur-2xl"})]}),m.jsx("div",{className:"relative z-10 flex flex-col items-center justify-center min-h-screen px-4 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"relative w-full max-w-4xl mx-auto",children:[m.jsx("div",{className:"absolute -top-18 -left-18 sm:top-42 sm:-left-12 md:-top-46 md:-left-20 lg:top-10 lg:-left-20",children:m.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 md:w-24 md:h-24 lg:w-32 lg:h-32 bg-pink-200 rounded-full flex items-center justify-center shadow-lg transform hover:scale-105 transition-transform duration-300",children:m.jsx("img",{src:"/person1.png",alt:"Person 1",className:"w-12 h-12 sm:w-16 sm:h-16 md:w-20 md:h-20 lg:w-24 lg:h-24 rounded-full object-cover"})})}),m.jsx("div",{className:"absolute -top-8 -right-4 sm:-top-12 sm:-right-12 md:-top-16 md:-right-16 lg:top-20 lg:-right-20",children:m.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 md:w-24 md:h-24 lg:w-32 lg:h-32 bg-blue-200 rounded-full flex items-center justify-center shadow-lg transform hover:scale-105 transition-transform duration-300",children:m.jsx("img",{src:"/person2.png",alt:"Person 2",className:"w-12 h-12 sm:w-16 sm:h-16 md:w-20 md:h-20 lg:w-24 lg:h-24 rounded-full object-cover"})})}),m.jsx("div",{className:"absolute -bottom-8 -left-2 sm:-bottom-12 sm:-left-12 md:-bottom-20 md:-left-16 lg:bottom-10 lg:-left-20",children:m.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 md:w-24 md:h-24 lg:w-32 lg:h-32 bg-cyan-200 rounded-full flex items-center justify-center shadow-lg transform hover:scale-105 transition-transform duration-300",children:m.jsx("img",{src:"/person3.png",alt:"Person 3",className:"w-12 h-12 sm:w-16 sm:h-16 md:w-20 md:h-20 lg:w-24 lg:h-24 rounded-full object-cover"})})}),m.jsx("div",{className:"absolute -bottom-8 -right-0 sm:-bottom-12 sm:-right-12 md:-bottom-16 md:-right-16 lg:bottom-20 lg:-right-20",children:m.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 md:w-24 md:h-24 lg:w-32 lg:h-32 bg-pink-200 rounded-full flex items-center justify-center shadow-lg transform hover:scale-105 transition-transform duration-300",children:m.jsx("img",{src:"/person4.png",alt:"Person 4",className:"w-12 h-12 sm:w-16 sm:h-16 md:w-20 md:h-20 lg:w-24 lg:h-24 rounded-full object-cover"})})}),m.jsxs("div",{className:"text-center py-16 sm:py-20 md:py-24 lg:py-32",children:[m.jsxs("h1",{className:"text-4xl sm:text-5xl md:text-6xl lg:text-7xl xl:text-8xl font-black text-gray-900 leading-tight",children:[m.jsx(Rc,{text:"We Create a",delay:100,className:"block"}),m.jsx(Rc,{text:"future you",delay:200,className:"block"}),m.jsx(Rc,{text:"believe in ...",delay:300,className:"block"})]}),m.jsx("div",{className:"mt-8 sm:mt-12 md:mt-16",children:m.jsx("button",{onClick:n,className:"bg-black hover:bg-gray-900 text-white font-semibold py-3 px-8 sm:py-4 sm:px-10 md:py-5 md:px-12 rounded-lg text-sm sm:text-base md:text-lg transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl",children:"See Our Previous Work"})})]})]})}),m.jsx("div",{className:"absolute bottom-0 left-0 right-0 z-20",children:m.jsx("div",{className:"mx-[10%] border-t border-gray-300"})}),m.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-32 bg-gradient-to-b from-transparent to-white z-10"})]})},p5=()=>m.jsx("section",{className:"bg-white py-16 lg:py-24 overflow-hidden",children:m.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-16 items-center",children:[m.jsxs(lt.div,{className:"order-2 lg:order-1",initial:{x:-100,opacity:0},whileInView:{x:0,opacity:1},viewport:{once:!0},transition:{duration:.8,ease:"easeOut"},children:[m.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl xl:text-6xl font-bold text-black mb-6 lg:mb-8 leading-tight",children:"Careers with Falco Solutions"}),m.jsx("p",{className:"text-sm sm:text-base md:text-lg lg:text-xl text-gray-700 leading-relaxed",children:"Join us for exciting career opportunities in web design and development. Work collaboratively, contribute to cutting-edge projects, and unleash your potential. We value innovation, growth, and creativity. Whether experienced or starting your career, make your mark with pixel-perfect designs and unmatched web solutions."})]}),m.jsx(lt.div,{className:"order-1 lg:order-2",initial:{x:100,opacity:0},whileInView:{x:0,opacity:1},viewport:{once:!0},transition:{duration:.8,ease:"easeOut"},children:m.jsxs("div",{className:"relative overflow-hidden rounded-lg",children:[m.jsx("img",{src:"careerSection.png",alt:"Careers with Falco Solutions - Film production scene",className:"w-full h-auto rounded-lg shadow-lg"}),m.jsxs("div",{className:"absolute bottom-2 right-2 sm:bottom-4 sm:right-4 bg-black bg-opacity-75 text-white px-2 py-1 sm:px-3 sm:py-1 rounded text-xs sm:text-sm font-medium flex items-center gap-1 sm:gap-2",children:[m.jsx("svg",{className:"w-3 h-3 sm:w-4 sm:h-4",viewBox:"0 0 24 24",fill:"currentColor",children:m.jsx("path",{d:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"})}),m.jsx("span",{className:"hidden sm:inline",children:"Watch on YouTube"}),m.jsx("span",{className:"sm:hidden",children:"YouTube"})]})]})})]})})});/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const C_="178",g5=0,Ew=1,v5=2,GR=1,y5=2,ia=3,ao=0,Qi=1,sa=2,Qa=0,Cc=1,Sw=2,Tw=3,ww=4,x5=5,$o=100,_5=101,b5=102,E5=103,S5=104,T5=200,w5=201,A5=202,M5=203,Ry=204,Cy=205,R5=206,C5=207,N5=208,D5=209,I5=210,P5=211,L5=212,O5=213,U5=214,Ny=0,Dy=1,Iy=2,Fc=3,Py=4,Ly=5,Oy=6,Uy=7,WR=0,V5=1,F5=2,Za=0,B5=1,k5=2,j5=3,z5=4,H5=5,G5=6,W5=7,qR=300,Bc=301,kc=302,Vy=303,Fy=304,Np=306,By=1e3,el=1001,ky=1002,Ws=1003,q5=1004,qf=1005,pr=1006,dv=1007,nl=1008,fa=1009,XR=1010,YR=1011,Gh=1012,N_=1013,ll=1014,ra=1015,fd=1016,D_=1017,I_=1018,Wh=1020,KR=35902,$R=1021,QR=1022,Hs=1023,qh=1026,Xh=1027,ZR=1028,P_=1029,JR=1030,L_=1031,O_=1033,Cm=33776,Nm=33777,Dm=33778,Im=33779,jy=35840,zy=35841,Hy=35842,Gy=35843,Wy=36196,qy=37492,Xy=37496,Yy=37808,Ky=37809,$y=37810,Qy=37811,Zy=37812,Jy=37813,tx=37814,ex=37815,nx=37816,ix=37817,sx=37818,rx=37819,ax=37820,ox=37821,Pm=36492,lx=36494,cx=36495,tC=36283,ux=36284,hx=36285,dx=36286,X5=3200,Y5=3201,K5=0,$5=1,Ya="",Rs="srgb",jc="srgb-linear",Qm="linear",yn="srgb",ic=7680,Aw=519,Q5=512,Z5=513,J5=514,eC=515,tF=516,eF=517,nF=518,iF=519,Mw=35044,Rw="300 es",aa=2e3,Zm=2001;class eu{addEventListener(t,e){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[t]===void 0&&(i[t]=[]),i[t].indexOf(e)===-1&&i[t].push(e)}hasEventListener(t,e){const i=this._listeners;return i===void 0?!1:i[t]!==void 0&&i[t].indexOf(e)!==-1}removeEventListener(t,e){const i=this._listeners;if(i===void 0)return;const r=i[t];if(r!==void 0){const o=r.indexOf(e);o!==-1&&r.splice(o,1)}}dispatchEvent(t){const e=this._listeners;if(e===void 0)return;const i=e[t.type];if(i!==void 0){t.target=this;const r=i.slice(0);for(let o=0,l=r.length;o<l;o++)r[o].call(this,t);t.target=null}}}const Pi=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],fv=Math.PI/180,fx=180/Math.PI;function md(){const n=Math.random()*4294967295|0,t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(Pi[n&255]+Pi[n>>8&255]+Pi[n>>16&255]+Pi[n>>24&255]+"-"+Pi[t&255]+Pi[t>>8&255]+"-"+Pi[t>>16&15|64]+Pi[t>>24&255]+"-"+Pi[e&63|128]+Pi[e>>8&255]+"-"+Pi[e>>16&255]+Pi[e>>24&255]+Pi[i&255]+Pi[i>>8&255]+Pi[i>>16&255]+Pi[i>>24&255]).toLowerCase()}function qe(n,t,e){return Math.max(t,Math.min(e,n))}function sF(n,t){return(n%t+t)%t}function mv(n,t,e){return(1-e)*n+e*t}function ch(n,t){switch(t.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function Yi(n,t){switch(t.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}class xn{constructor(t=0,e=0){xn.prototype.isVector2=!0,this.x=t,this.y=e}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}set(t,e){return this.x=t,this.y=e,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t){return this.x+=t.x,this.y+=t.y,this}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){const e=this.x,i=this.y,r=t.elements;return this.x=r[0]*e+r[3]*i+r[6],this.y=r[1]*e+r[4]*i+r[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,e){return this.x=qe(this.x,t.x,e.x),this.y=qe(this.y,t.y,e.y),this}clampScalar(t,e){return this.x=qe(this.x,t,e),this.y=qe(this.y,t,e),this}clampLength(t,e){const i=this.length();return this.divideScalar(i||1).multiplyScalar(qe(i,t,e))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(e===0)return Math.PI/2;const i=this.dot(t)/e;return Math.acos(qe(i,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,i=this.y-t.y;return e*e+i*i}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}lerpVectors(t,e,i){return this.x=t.x+(e.x-t.x)*i,this.y=t.y+(e.y-t.y)*i,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this}rotateAround(t,e){const i=Math.cos(e),r=Math.sin(e),o=this.x-t.x,l=this.y-t.y;return this.x=o*i-l*r+t.x,this.y=o*r+l*i+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class pd{constructor(t=0,e=0,i=0,r=1){this.isQuaternion=!0,this._x=t,this._y=e,this._z=i,this._w=r}static slerpFlat(t,e,i,r,o,l,u){let d=i[r+0],f=i[r+1],g=i[r+2],y=i[r+3];const x=o[l+0],E=o[l+1],T=o[l+2],C=o[l+3];if(u===0){t[e+0]=d,t[e+1]=f,t[e+2]=g,t[e+3]=y;return}if(u===1){t[e+0]=x,t[e+1]=E,t[e+2]=T,t[e+3]=C;return}if(y!==C||d!==x||f!==E||g!==T){let S=1-u;const b=d*x+f*E+g*T+y*C,O=b>=0?1:-1,N=1-b*b;if(N>Number.EPSILON){const j=Math.sqrt(N),G=Math.atan2(j,b*O);S=Math.sin(S*G)/j,u=Math.sin(u*G)/j}const U=u*O;if(d=d*S+x*U,f=f*S+E*U,g=g*S+T*U,y=y*S+C*U,S===1-u){const j=1/Math.sqrt(d*d+f*f+g*g+y*y);d*=j,f*=j,g*=j,y*=j}}t[e]=d,t[e+1]=f,t[e+2]=g,t[e+3]=y}static multiplyQuaternionsFlat(t,e,i,r,o,l){const u=i[r],d=i[r+1],f=i[r+2],g=i[r+3],y=o[l],x=o[l+1],E=o[l+2],T=o[l+3];return t[e]=u*T+g*y+d*E-f*x,t[e+1]=d*T+g*x+f*y-u*E,t[e+2]=f*T+g*E+u*x-d*y,t[e+3]=g*T-u*y-d*x-f*E,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,e,i,r){return this._x=t,this._y=e,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,e=!0){const i=t._x,r=t._y,o=t._z,l=t._order,u=Math.cos,d=Math.sin,f=u(i/2),g=u(r/2),y=u(o/2),x=d(i/2),E=d(r/2),T=d(o/2);switch(l){case"XYZ":this._x=x*g*y+f*E*T,this._y=f*E*y-x*g*T,this._z=f*g*T+x*E*y,this._w=f*g*y-x*E*T;break;case"YXZ":this._x=x*g*y+f*E*T,this._y=f*E*y-x*g*T,this._z=f*g*T-x*E*y,this._w=f*g*y+x*E*T;break;case"ZXY":this._x=x*g*y-f*E*T,this._y=f*E*y+x*g*T,this._z=f*g*T+x*E*y,this._w=f*g*y-x*E*T;break;case"ZYX":this._x=x*g*y-f*E*T,this._y=f*E*y+x*g*T,this._z=f*g*T-x*E*y,this._w=f*g*y+x*E*T;break;case"YZX":this._x=x*g*y+f*E*T,this._y=f*E*y+x*g*T,this._z=f*g*T-x*E*y,this._w=f*g*y-x*E*T;break;case"XZY":this._x=x*g*y-f*E*T,this._y=f*E*y-x*g*T,this._z=f*g*T+x*E*y,this._w=f*g*y+x*E*T;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+l)}return e===!0&&this._onChangeCallback(),this}setFromAxisAngle(t,e){const i=e/2,r=Math.sin(i);return this._x=t.x*r,this._y=t.y*r,this._z=t.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(t){const e=t.elements,i=e[0],r=e[4],o=e[8],l=e[1],u=e[5],d=e[9],f=e[2],g=e[6],y=e[10],x=i+u+y;if(x>0){const E=.5/Math.sqrt(x+1);this._w=.25/E,this._x=(g-d)*E,this._y=(o-f)*E,this._z=(l-r)*E}else if(i>u&&i>y){const E=2*Math.sqrt(1+i-u-y);this._w=(g-d)/E,this._x=.25*E,this._y=(r+l)/E,this._z=(o+f)/E}else if(u>y){const E=2*Math.sqrt(1+u-i-y);this._w=(o-f)/E,this._x=(r+l)/E,this._y=.25*E,this._z=(d+g)/E}else{const E=2*Math.sqrt(1+y-i-u);this._w=(l-r)/E,this._x=(o+f)/E,this._y=(d+g)/E,this._z=.25*E}return this._onChangeCallback(),this}setFromUnitVectors(t,e){let i=t.dot(e)+1;return i<1e-8?(i=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=i):(this._x=0,this._y=-t.z,this._z=t.y,this._w=i)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=i),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(qe(this.dot(t),-1,1)))}rotateTowards(t,e){const i=this.angleTo(t);if(i===0)return this;const r=Math.min(1,e/i);return this.slerp(t,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return t===0?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t){return this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,e){const i=t._x,r=t._y,o=t._z,l=t._w,u=e._x,d=e._y,f=e._z,g=e._w;return this._x=i*g+l*u+r*f-o*d,this._y=r*g+l*d+o*u-i*f,this._z=o*g+l*f+i*d-r*u,this._w=l*g-i*u-r*d-o*f,this._onChangeCallback(),this}slerp(t,e){if(e===0)return this;if(e===1)return this.copy(t);const i=this._x,r=this._y,o=this._z,l=this._w;let u=l*t._w+i*t._x+r*t._y+o*t._z;if(u<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,u=-u):this.copy(t),u>=1)return this._w=l,this._x=i,this._y=r,this._z=o,this;const d=1-u*u;if(d<=Number.EPSILON){const E=1-e;return this._w=E*l+e*this._w,this._x=E*i+e*this._x,this._y=E*r+e*this._y,this._z=E*o+e*this._z,this.normalize(),this}const f=Math.sqrt(d),g=Math.atan2(f,u),y=Math.sin((1-e)*g)/f,x=Math.sin(e*g)/f;return this._w=l*y+this._w*x,this._x=i*y+this._x*x,this._y=r*y+this._y*x,this._z=o*y+this._z*x,this._onChangeCallback(),this}slerpQuaternions(t,e,i){return this.copy(t).slerp(e,i)}random(){const t=2*Math.PI*Math.random(),e=2*Math.PI*Math.random(),i=Math.random(),r=Math.sqrt(1-i),o=Math.sqrt(i);return this.set(r*Math.sin(t),r*Math.cos(t),o*Math.sin(e),o*Math.cos(e))}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,e=0){return this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t}fromBufferAttribute(t,e){return this._x=t.getX(e),this._y=t.getY(e),this._z=t.getZ(e),this._w=t.getW(e),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class pt{constructor(t=0,e=0,i=0){pt.prototype.isVector3=!0,this.x=t,this.y=e,this.z=i}set(t,e,i){return i===void 0&&(i=this.z),this.x=t,this.y=e,this.z=i,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this}applyEuler(t){return this.applyQuaternion(Cw.setFromEuler(t))}applyAxisAngle(t,e){return this.applyQuaternion(Cw.setFromAxisAngle(t,e))}applyMatrix3(t){const e=this.x,i=this.y,r=this.z,o=t.elements;return this.x=o[0]*e+o[3]*i+o[6]*r,this.y=o[1]*e+o[4]*i+o[7]*r,this.z=o[2]*e+o[5]*i+o[8]*r,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const e=this.x,i=this.y,r=this.z,o=t.elements,l=1/(o[3]*e+o[7]*i+o[11]*r+o[15]);return this.x=(o[0]*e+o[4]*i+o[8]*r+o[12])*l,this.y=(o[1]*e+o[5]*i+o[9]*r+o[13])*l,this.z=(o[2]*e+o[6]*i+o[10]*r+o[14])*l,this}applyQuaternion(t){const e=this.x,i=this.y,r=this.z,o=t.x,l=t.y,u=t.z,d=t.w,f=2*(l*r-u*i),g=2*(u*e-o*r),y=2*(o*i-l*e);return this.x=e+d*f+l*y-u*g,this.y=i+d*g+u*f-o*y,this.z=r+d*y+o*g-l*f,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const e=this.x,i=this.y,r=this.z,o=t.elements;return this.x=o[0]*e+o[4]*i+o[8]*r,this.y=o[1]*e+o[5]*i+o[9]*r,this.z=o[2]*e+o[6]*i+o[10]*r,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,e){return this.x=qe(this.x,t.x,e.x),this.y=qe(this.y,t.y,e.y),this.z=qe(this.z,t.z,e.z),this}clampScalar(t,e){return this.x=qe(this.x,t,e),this.y=qe(this.y,t,e),this.z=qe(this.z,t,e),this}clampLength(t,e){const i=this.length();return this.divideScalar(i||1).multiplyScalar(qe(i,t,e))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this}lerpVectors(t,e,i){return this.x=t.x+(e.x-t.x)*i,this.y=t.y+(e.y-t.y)*i,this.z=t.z+(e.z-t.z)*i,this}cross(t){return this.crossVectors(this,t)}crossVectors(t,e){const i=t.x,r=t.y,o=t.z,l=e.x,u=e.y,d=e.z;return this.x=r*d-o*u,this.y=o*l-i*d,this.z=i*u-r*l,this}projectOnVector(t){const e=t.lengthSq();if(e===0)return this.set(0,0,0);const i=t.dot(this)/e;return this.copy(t).multiplyScalar(i)}projectOnPlane(t){return pv.copy(this).projectOnVector(t),this.sub(pv)}reflect(t){return this.sub(pv.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(e===0)return Math.PI/2;const i=this.dot(t)/e;return Math.acos(qe(i,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,i=this.y-t.y,r=this.z-t.z;return e*e+i*i+r*r}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,e,i){const r=Math.sin(e)*t;return this.x=r*Math.sin(i),this.y=Math.cos(e)*t,this.z=r*Math.cos(i),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,e,i){return this.x=t*Math.sin(e),this.y=i,this.z=t*Math.cos(e),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}setFromMatrixScale(t){const e=this.setFromMatrixColumn(t,0).length(),i=this.setFromMatrixColumn(t,1).length(),r=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=i,this.z=r,this}setFromMatrixColumn(t,e){return this.fromArray(t.elements,e*4)}setFromMatrix3Column(t,e){return this.fromArray(t.elements,e*3)}setFromEuler(t){return this.x=t._x,this.y=t._y,this.z=t._z,this}setFromColor(t){return this.x=t.r,this.y=t.g,this.z=t.b,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const t=Math.random()*Math.PI*2,e=Math.random()*2-1,i=Math.sqrt(1-e*e);return this.x=i*Math.cos(t),this.y=e,this.z=i*Math.sin(t),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const pv=new pt,Cw=new pd;class Ce{constructor(t,e,i,r,o,l,u,d,f){Ce.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],t!==void 0&&this.set(t,e,i,r,o,l,u,d,f)}set(t,e,i,r,o,l,u,d,f){const g=this.elements;return g[0]=t,g[1]=r,g[2]=u,g[3]=e,g[4]=o,g[5]=d,g[6]=i,g[7]=l,g[8]=f,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(t){const e=this.elements,i=t.elements;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],this}extractBasis(t,e,i){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const i=t.elements,r=e.elements,o=this.elements,l=i[0],u=i[3],d=i[6],f=i[1],g=i[4],y=i[7],x=i[2],E=i[5],T=i[8],C=r[0],S=r[3],b=r[6],O=r[1],N=r[4],U=r[7],j=r[2],G=r[5],D=r[8];return o[0]=l*C+u*O+d*j,o[3]=l*S+u*N+d*G,o[6]=l*b+u*U+d*D,o[1]=f*C+g*O+y*j,o[4]=f*S+g*N+y*G,o[7]=f*b+g*U+y*D,o[2]=x*C+E*O+T*j,o[5]=x*S+E*N+T*G,o[8]=x*b+E*U+T*D,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this}determinant(){const t=this.elements,e=t[0],i=t[1],r=t[2],o=t[3],l=t[4],u=t[5],d=t[6],f=t[7],g=t[8];return e*l*g-e*u*f-i*o*g+i*u*d+r*o*f-r*l*d}invert(){const t=this.elements,e=t[0],i=t[1],r=t[2],o=t[3],l=t[4],u=t[5],d=t[6],f=t[7],g=t[8],y=g*l-u*f,x=u*d-g*o,E=f*o-l*d,T=e*y+i*x+r*E;if(T===0)return this.set(0,0,0,0,0,0,0,0,0);const C=1/T;return t[0]=y*C,t[1]=(r*f-g*i)*C,t[2]=(u*i-r*l)*C,t[3]=x*C,t[4]=(g*e-r*d)*C,t[5]=(r*o-u*e)*C,t[6]=E*C,t[7]=(i*d-f*e)*C,t[8]=(l*e-i*o)*C,this}transpose(){let t;const e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).invert().transpose()}transposeIntoArray(t){const e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}setUvTransform(t,e,i,r,o,l,u){const d=Math.cos(o),f=Math.sin(o);return this.set(i*d,i*f,-i*(d*l+f*u)+l+t,-r*f,r*d,-r*(-f*l+d*u)+u+e,0,0,1),this}scale(t,e){return this.premultiply(gv.makeScale(t,e)),this}rotate(t){return this.premultiply(gv.makeRotation(-t)),this}translate(t,e){return this.premultiply(gv.makeTranslation(t,e)),this}makeTranslation(t,e){return t.isVector2?this.set(1,0,t.x,0,1,t.y,0,0,1):this.set(1,0,t,0,1,e,0,0,1),this}makeRotation(t){const e=Math.cos(t),i=Math.sin(t);return this.set(e,-i,0,i,e,0,0,0,1),this}makeScale(t,e){return this.set(t,0,0,0,e,0,0,0,1),this}equals(t){const e=this.elements,i=t.elements;for(let r=0;r<9;r++)if(e[r]!==i[r])return!1;return!0}fromArray(t,e=0){for(let i=0;i<9;i++)this.elements[i]=t[i+e];return this}toArray(t=[],e=0){const i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t}clone(){return new this.constructor().fromArray(this.elements)}}const gv=new Ce;function nC(n){for(let t=n.length-1;t>=0;--t)if(n[t]>=65535)return!0;return!1}function Jm(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function rF(){const n=Jm("canvas");return n.style.display="block",n}const Nw={};function Nc(n){n in Nw||(Nw[n]=!0,console.warn(n))}function aF(n,t,e){return new Promise(function(i,r){function o(){switch(n.clientWaitSync(t,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:r();break;case n.TIMEOUT_EXPIRED:setTimeout(o,e);break;default:i()}}setTimeout(o,e)})}function oF(n){const t=n.elements;t[2]=.5*t[2]+.5*t[3],t[6]=.5*t[6]+.5*t[7],t[10]=.5*t[10]+.5*t[11],t[14]=.5*t[14]+.5*t[15]}function lF(n){const t=n.elements;t[11]===-1?(t[10]=-t[10]-1,t[14]=-t[14]):(t[10]=-t[10],t[14]=-t[14]+1)}const Dw=new Ce().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),Iw=new Ce().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function cF(){const n={enabled:!0,workingColorSpace:jc,spaces:{},convert:function(r,o,l){return this.enabled===!1||o===l||!o||!l||(this.spaces[o].transfer===yn&&(r.r=la(r.r),r.g=la(r.g),r.b=la(r.b)),this.spaces[o].primaries!==this.spaces[l].primaries&&(r.applyMatrix3(this.spaces[o].toXYZ),r.applyMatrix3(this.spaces[l].fromXYZ)),this.spaces[l].transfer===yn&&(r.r=Dc(r.r),r.g=Dc(r.g),r.b=Dc(r.b))),r},workingToColorSpace:function(r,o){return this.convert(r,this.workingColorSpace,o)},colorSpaceToWorking:function(r,o){return this.convert(r,o,this.workingColorSpace)},getPrimaries:function(r){return this.spaces[r].primaries},getTransfer:function(r){return r===Ya?Qm:this.spaces[r].transfer},getLuminanceCoefficients:function(r,o=this.workingColorSpace){return r.fromArray(this.spaces[o].luminanceCoefficients)},define:function(r){Object.assign(this.spaces,r)},_getMatrix:function(r,o,l){return r.copy(this.spaces[o].toXYZ).multiply(this.spaces[l].fromXYZ)},_getDrawingBufferColorSpace:function(r){return this.spaces[r].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(r=this.workingColorSpace){return this.spaces[r].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(r,o){return Nc("THREE.ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),n.workingToColorSpace(r,o)},toWorkingColorSpace:function(r,o){return Nc("THREE.ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),n.colorSpaceToWorking(r,o)}},t=[.64,.33,.3,.6,.15,.06],e=[.2126,.7152,.0722],i=[.3127,.329];return n.define({[jc]:{primaries:t,whitePoint:i,transfer:Qm,toXYZ:Dw,fromXYZ:Iw,luminanceCoefficients:e,workingColorSpaceConfig:{unpackColorSpace:Rs},outputColorSpaceConfig:{drawingBufferColorSpace:Rs}},[Rs]:{primaries:t,whitePoint:i,transfer:yn,toXYZ:Dw,fromXYZ:Iw,luminanceCoefficients:e,outputColorSpaceConfig:{drawingBufferColorSpace:Rs}}}),n}const an=cF();function la(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function Dc(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let sc;class uF{static getDataURL(t,e="image/png"){if(/^data:/i.test(t.src)||typeof HTMLCanvasElement>"u")return t.src;let i;if(t instanceof HTMLCanvasElement)i=t;else{sc===void 0&&(sc=Jm("canvas")),sc.width=t.width,sc.height=t.height;const r=sc.getContext("2d");t instanceof ImageData?r.putImageData(t,0,0):r.drawImage(t,0,0,t.width,t.height),i=sc}return i.toDataURL(e)}static sRGBToLinear(t){if(typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap){const e=Jm("canvas");e.width=t.width,e.height=t.height;const i=e.getContext("2d");i.drawImage(t,0,0,t.width,t.height);const r=i.getImageData(0,0,t.width,t.height),o=r.data;for(let l=0;l<o.length;l++)o[l]=la(o[l]/255)*255;return i.putImageData(r,0,0),e}else if(t.data){const e=t.data.slice(0);for(let i=0;i<e.length;i++)e instanceof Uint8Array||e instanceof Uint8ClampedArray?e[i]=Math.floor(la(e[i]/255)*255):e[i]=la(e[i]);return{data:e,width:t.width,height:t.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),t}}let hF=0;class U_{constructor(t=null){this.isSource=!0,Object.defineProperty(this,"id",{value:hF++}),this.uuid=md(),this.data=t,this.dataReady=!0,this.version=0}getSize(t){const e=this.data;return e instanceof HTMLVideoElement?t.set(e.videoWidth,e.videoHeight):e!==null?t.set(e.width,e.height,e.depth||0):t.set(0,0,0),t}set needsUpdate(t){t===!0&&this.version++}toJSON(t){const e=t===void 0||typeof t=="string";if(!e&&t.images[this.uuid]!==void 0)return t.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let o;if(Array.isArray(r)){o=[];for(let l=0,u=r.length;l<u;l++)r[l].isDataTexture?o.push(vv(r[l].image)):o.push(vv(r[l]))}else o=vv(r);i.url=o}return e||(t.images[this.uuid]=i),i}}function vv(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?uF.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let dF=0;const yv=new pt;class Zi extends eu{constructor(t=Zi.DEFAULT_IMAGE,e=Zi.DEFAULT_MAPPING,i=el,r=el,o=pr,l=nl,u=Hs,d=fa,f=Zi.DEFAULT_ANISOTROPY,g=Ya){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:dF++}),this.uuid=md(),this.name="",this.source=new U_(t),this.mipmaps=[],this.mapping=e,this.channel=0,this.wrapS=i,this.wrapT=r,this.magFilter=o,this.minFilter=l,this.anisotropy=f,this.format=u,this.internalFormat=null,this.type=d,this.offset=new xn(0,0),this.repeat=new xn(1,1),this.center=new xn(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Ce,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=g,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(t&&t.depth&&t.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(yv).x}get height(){return this.source.getSize(yv).y}get depth(){return this.source.getSize(yv).z}get image(){return this.source.data}set image(t=null){this.source.data=t}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(t,e){this.updateRanges.push({start:t,count:e})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(t){return this.name=t.name,this.source=t.source,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.channel=t.channel,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.colorSpace=t.colorSpace,this.renderTarget=t.renderTarget,this.isRenderTargetTexture=t.isRenderTargetTexture,this.isArrayTexture=t.isArrayTexture,this.userData=JSON.parse(JSON.stringify(t.userData)),this.needsUpdate=!0,this}setValues(t){for(const e in t){const i=t[e];if(i===void 0){console.warn(`THREE.Texture.setValues(): parameter '${e}' has value of undefined.`);continue}const r=this[e];if(r===void 0){console.warn(`THREE.Texture.setValues(): property '${e}' does not exist.`);continue}r&&i&&r.isVector2&&i.isVector2||r&&i&&r.isVector3&&i.isVector3||r&&i&&r.isMatrix3&&i.isMatrix3?r.copy(i):this[e]=i}}toJSON(t){const e=t===void 0||typeof t=="string";if(!e&&t.textures[this.uuid]!==void 0)return t.textures[this.uuid];const i={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(t).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),e||(t.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(t){if(this.mapping!==qR)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case By:t.x=t.x-Math.floor(t.x);break;case el:t.x=t.x<0?0:1;break;case ky:Math.abs(Math.floor(t.x)%2)===1?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x);break}if(t.y<0||t.y>1)switch(this.wrapT){case By:t.y=t.y-Math.floor(t.y);break;case el:t.y=t.y<0?0:1;break;case ky:Math.abs(Math.floor(t.y)%2)===1?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y);break}return this.flipY&&(t.y=1-t.y),t}set needsUpdate(t){t===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(t){t===!0&&this.pmremVersion++}}Zi.DEFAULT_IMAGE=null;Zi.DEFAULT_MAPPING=qR;Zi.DEFAULT_ANISOTROPY=1;class qn{constructor(t=0,e=0,i=0,r=1){qn.prototype.isVector4=!0,this.x=t,this.y=e,this.z=i,this.w=r}get width(){return this.z}set width(t){this.z=t}get height(){return this.w}set height(t){this.w=t}set(t,e,i,r){return this.x=t,this.y=e,this.z=i,this.w=r,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setW(t){return this.w=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w!==void 0?t.w:1,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this.w*=t.w,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}applyMatrix4(t){const e=this.x,i=this.y,r=this.z,o=this.w,l=t.elements;return this.x=l[0]*e+l[4]*i+l[8]*r+l[12]*o,this.y=l[1]*e+l[5]*i+l[9]*r+l[13]*o,this.z=l[2]*e+l[6]*i+l[10]*r+l[14]*o,this.w=l[3]*e+l[7]*i+l[11]*r+l[15]*o,this}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this.w/=t.w,this}divideScalar(t){return this.multiplyScalar(1/t)}setAxisAngleFromQuaternion(t){this.w=2*Math.acos(t.w);const e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this}setAxisAngleFromRotationMatrix(t){let e,i,r,o;const d=t.elements,f=d[0],g=d[4],y=d[8],x=d[1],E=d[5],T=d[9],C=d[2],S=d[6],b=d[10];if(Math.abs(g-x)<.01&&Math.abs(y-C)<.01&&Math.abs(T-S)<.01){if(Math.abs(g+x)<.1&&Math.abs(y+C)<.1&&Math.abs(T+S)<.1&&Math.abs(f+E+b-3)<.1)return this.set(1,0,0,0),this;e=Math.PI;const N=(f+1)/2,U=(E+1)/2,j=(b+1)/2,G=(g+x)/4,D=(y+C)/4,R=(T+S)/4;return N>U&&N>j?N<.01?(i=0,r=.707106781,o=.707106781):(i=Math.sqrt(N),r=G/i,o=D/i):U>j?U<.01?(i=.707106781,r=0,o=.707106781):(r=Math.sqrt(U),i=G/r,o=R/r):j<.01?(i=.707106781,r=.707106781,o=0):(o=Math.sqrt(j),i=D/o,r=R/o),this.set(i,r,o,e),this}let O=Math.sqrt((S-T)*(S-T)+(y-C)*(y-C)+(x-g)*(x-g));return Math.abs(O)<.001&&(O=1),this.x=(S-T)/O,this.y=(y-C)/O,this.z=(x-g)/O,this.w=Math.acos((f+E+b-1)/2),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this.w=e[15],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}clamp(t,e){return this.x=qe(this.x,t.x,e.x),this.y=qe(this.y,t.y,e.y),this.z=qe(this.z,t.z,e.z),this.w=qe(this.w,t.w,e.w),this}clampScalar(t,e){return this.x=qe(this.x,t,e),this.y=qe(this.y,t,e),this.z=qe(this.z,t,e),this.w=qe(this.w,t,e),this}clampLength(t,e){const i=this.length();return this.divideScalar(i||1).multiplyScalar(qe(i,t,e))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this}lerpVectors(t,e,i){return this.x=t.x+(e.x-t.x)*i,this.y=t.y+(e.y-t.y)*i,this.z=t.z+(e.z-t.z)*i,this.w=t.w+(e.w-t.w)*i,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class fF extends eu{constructor(t=1,e=1,i={}){super(),i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:pr,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},i),this.isRenderTarget=!0,this.width=t,this.height=e,this.depth=i.depth,this.scissor=new qn(0,0,t,e),this.scissorTest=!1,this.viewport=new qn(0,0,t,e);const r={width:t,height:e,depth:i.depth},o=new Zi(r);this.textures=[];const l=i.count;for(let u=0;u<l;u++)this.textures[u]=o.clone(),this.textures[u].isRenderTargetTexture=!0,this.textures[u].renderTarget=this;this._setTextureOptions(i),this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=i.depthTexture,this.samples=i.samples,this.multiview=i.multiview}_setTextureOptions(t={}){const e={minFilter:pr,generateMipmaps:!1,flipY:!1,internalFormat:null};t.mapping!==void 0&&(e.mapping=t.mapping),t.wrapS!==void 0&&(e.wrapS=t.wrapS),t.wrapT!==void 0&&(e.wrapT=t.wrapT),t.wrapR!==void 0&&(e.wrapR=t.wrapR),t.magFilter!==void 0&&(e.magFilter=t.magFilter),t.minFilter!==void 0&&(e.minFilter=t.minFilter),t.format!==void 0&&(e.format=t.format),t.type!==void 0&&(e.type=t.type),t.anisotropy!==void 0&&(e.anisotropy=t.anisotropy),t.colorSpace!==void 0&&(e.colorSpace=t.colorSpace),t.flipY!==void 0&&(e.flipY=t.flipY),t.generateMipmaps!==void 0&&(e.generateMipmaps=t.generateMipmaps),t.internalFormat!==void 0&&(e.internalFormat=t.internalFormat);for(let i=0;i<this.textures.length;i++)this.textures[i].setValues(e)}get texture(){return this.textures[0]}set texture(t){this.textures[0]=t}set depthTexture(t){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),t!==null&&(t.renderTarget=this),this._depthTexture=t}get depthTexture(){return this._depthTexture}setSize(t,e,i=1){if(this.width!==t||this.height!==e||this.depth!==i){this.width=t,this.height=e,this.depth=i;for(let r=0,o=this.textures.length;r<o;r++)this.textures[r].image.width=t,this.textures[r].image.height=e,this.textures[r].image.depth=i,this.textures[r].isArrayTexture=this.textures[r].image.depth>1;this.dispose()}this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)}clone(){return new this.constructor().copy(this)}copy(t){this.width=t.width,this.height=t.height,this.depth=t.depth,this.scissor.copy(t.scissor),this.scissorTest=t.scissorTest,this.viewport.copy(t.viewport),this.textures.length=0;for(let e=0,i=t.textures.length;e<i;e++){this.textures[e]=t.textures[e].clone(),this.textures[e].isRenderTargetTexture=!0,this.textures[e].renderTarget=this;const r=Object.assign({},t.textures[e].image);this.textures[e].source=new U_(r)}return this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.resolveDepthBuffer=t.resolveDepthBuffer,this.resolveStencilBuffer=t.resolveStencilBuffer,t.depthTexture!==null&&(this.depthTexture=t.depthTexture.clone()),this.samples=t.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class cl extends fF{constructor(t=1,e=1,i={}){super(t,e,i),this.isWebGLRenderTarget=!0}}class iC extends Zi{constructor(t=null,e=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:t,width:e,height:i,depth:r},this.magFilter=Ws,this.minFilter=Ws,this.wrapR=el,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(t){this.layerUpdates.add(t)}clearLayerUpdates(){this.layerUpdates.clear()}}class mF extends Zi{constructor(t=null,e=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:t,width:e,height:i,depth:r},this.magFilter=Ws,this.minFilter=Ws,this.wrapR=el,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class gd{constructor(t=new pt(1/0,1/0,1/0),e=new pt(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=t,this.max=e}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromArray(t){this.makeEmpty();for(let e=0,i=t.length;e<i;e+=3)this.expandByPoint(Fs.fromArray(t,e));return this}setFromBufferAttribute(t){this.makeEmpty();for(let e=0,i=t.count;e<i;e++)this.expandByPoint(Fs.fromBufferAttribute(t,e));return this}setFromPoints(t){this.makeEmpty();for(let e=0,i=t.length;e<i;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const i=Fs.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(i),this.max.copy(t).add(i),this}setFromObject(t,e=!1){return this.makeEmpty(),this.expandByObject(t,e)}clone(){return new this.constructor().copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(t){return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}expandByObject(t,e=!1){t.updateWorldMatrix(!1,!1);const i=t.geometry;if(i!==void 0){const o=i.getAttribute("position");if(e===!0&&o!==void 0&&t.isInstancedMesh!==!0)for(let l=0,u=o.count;l<u;l++)t.isMesh===!0?t.getVertexPosition(l,Fs):Fs.fromBufferAttribute(o,l),Fs.applyMatrix4(t.matrixWorld),this.expandByPoint(Fs);else t.boundingBox!==void 0?(t.boundingBox===null&&t.computeBoundingBox(),Xf.copy(t.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),Xf.copy(i.boundingBox)),Xf.applyMatrix4(t.matrixWorld),this.union(Xf)}const r=t.children;for(let o=0,l=r.length;o<l;o++)this.expandByObject(r[o],e);return this}containsPoint(t){return t.x>=this.min.x&&t.x<=this.max.x&&t.y>=this.min.y&&t.y<=this.max.y&&t.z>=this.min.z&&t.z<=this.max.z}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}getParameter(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(t){return t.max.x>=this.min.x&&t.min.x<=this.max.x&&t.max.y>=this.min.y&&t.min.y<=this.max.y&&t.max.z>=this.min.z&&t.min.z<=this.max.z}intersectsSphere(t){return this.clampPoint(t.center,Fs),Fs.distanceToSquared(t.center)<=t.radius*t.radius}intersectsPlane(t){let e,i;return t.normal.x>0?(e=t.normal.x*this.min.x,i=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,i=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,i+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,i+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,i+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,i+=t.normal.z*this.min.z),e<=-t.constant&&i>=-t.constant}intersectsTriangle(t){if(this.isEmpty())return!1;this.getCenter(uh),Yf.subVectors(this.max,uh),rc.subVectors(t.a,uh),ac.subVectors(t.b,uh),oc.subVectors(t.c,uh),ja.subVectors(ac,rc),za.subVectors(oc,ac),ko.subVectors(rc,oc);let e=[0,-ja.z,ja.y,0,-za.z,za.y,0,-ko.z,ko.y,ja.z,0,-ja.x,za.z,0,-za.x,ko.z,0,-ko.x,-ja.y,ja.x,0,-za.y,za.x,0,-ko.y,ko.x,0];return!xv(e,rc,ac,oc,Yf)||(e=[1,0,0,0,1,0,0,0,1],!xv(e,rc,ac,oc,Yf))?!1:(Kf.crossVectors(ja,za),e=[Kf.x,Kf.y,Kf.z],xv(e,rc,ac,oc,Yf))}clampPoint(t,e){return e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return this.clampPoint(t,Fs).distanceTo(t)}getBoundingSphere(t){return this.isEmpty()?t.makeEmpty():(this.getCenter(t.center),t.radius=this.getSize(Fs).length()*.5),t}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}applyMatrix4(t){return this.isEmpty()?this:(Zr[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),Zr[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),Zr[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),Zr[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),Zr[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),Zr[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),Zr[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),Zr[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(Zr),this)}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(t){return this.min.fromArray(t.min),this.max.fromArray(t.max),this}}const Zr=[new pt,new pt,new pt,new pt,new pt,new pt,new pt,new pt],Fs=new pt,Xf=new gd,rc=new pt,ac=new pt,oc=new pt,ja=new pt,za=new pt,ko=new pt,uh=new pt,Yf=new pt,Kf=new pt,jo=new pt;function xv(n,t,e,i,r){for(let o=0,l=n.length-3;o<=l;o+=3){jo.fromArray(n,o);const u=r.x*Math.abs(jo.x)+r.y*Math.abs(jo.y)+r.z*Math.abs(jo.z),d=t.dot(jo),f=e.dot(jo),g=i.dot(jo);if(Math.max(-Math.max(d,f,g),Math.min(d,f,g))>u)return!1}return!0}const pF=new gd,hh=new pt,_v=new pt;class Dp{constructor(t=new pt,e=-1){this.isSphere=!0,this.center=t,this.radius=e}set(t,e){return this.center.copy(t),this.radius=e,this}setFromPoints(t,e){const i=this.center;e!==void 0?i.copy(e):pF.setFromPoints(t).getCenter(i);let r=0;for(let o=0,l=t.length;o<l;o++)r=Math.max(r,i.distanceToSquared(t[o]));return this.radius=Math.sqrt(r),this}copy(t){return this.center.copy(t.center),this.radius=t.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(t){return t.distanceTo(this.center)-this.radius}intersectsSphere(t){const e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e}intersectsBox(t){return t.intersectsSphere(this)}intersectsPlane(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}clampPoint(t,e){const i=this.center.distanceToSquared(t);return e.copy(t),i>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e}getBoundingBox(t){return this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}applyMatrix4(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}translate(t){return this.center.add(t),this}expandByPoint(t){if(this.isEmpty())return this.center.copy(t),this.radius=0,this;hh.subVectors(t,this.center);const e=hh.lengthSq();if(e>this.radius*this.radius){const i=Math.sqrt(e),r=(i-this.radius)*.5;this.center.addScaledVector(hh,r/i),this.radius+=r}return this}union(t){return t.isEmpty()?this:this.isEmpty()?(this.copy(t),this):(this.center.equals(t.center)===!0?this.radius=Math.max(this.radius,t.radius):(_v.subVectors(t.center,this.center).setLength(t.radius),this.expandByPoint(hh.copy(t.center).add(_v)),this.expandByPoint(hh.copy(t.center).sub(_v))),this)}equals(t){return t.center.equals(this.center)&&t.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(t){return this.radius=t.radius,this.center.fromArray(t.center),this}}const Jr=new pt,bv=new pt,$f=new pt,Ha=new pt,Ev=new pt,Qf=new pt,Sv=new pt;class sC{constructor(t=new pt,e=new pt(0,0,-1)){this.origin=t,this.direction=e}set(t,e){return this.origin.copy(t),this.direction.copy(e),this}copy(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}at(t,e){return e.copy(this.origin).addScaledVector(this.direction,t)}lookAt(t){return this.direction.copy(t).sub(this.origin).normalize(),this}recast(t){return this.origin.copy(this.at(t,Jr)),this}closestPointToPoint(t,e){e.subVectors(t,this.origin);const i=e.dot(this.direction);return i<0?e.copy(this.origin):e.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(t){return Math.sqrt(this.distanceSqToPoint(t))}distanceSqToPoint(t){const e=Jr.subVectors(t,this.origin).dot(this.direction);return e<0?this.origin.distanceToSquared(t):(Jr.copy(this.origin).addScaledVector(this.direction,e),Jr.distanceToSquared(t))}distanceSqToSegment(t,e,i,r){bv.copy(t).add(e).multiplyScalar(.5),$f.copy(e).sub(t).normalize(),Ha.copy(this.origin).sub(bv);const o=t.distanceTo(e)*.5,l=-this.direction.dot($f),u=Ha.dot(this.direction),d=-Ha.dot($f),f=Ha.lengthSq(),g=Math.abs(1-l*l);let y,x,E,T;if(g>0)if(y=l*d-u,x=l*u-d,T=o*g,y>=0)if(x>=-T)if(x<=T){const C=1/g;y*=C,x*=C,E=y*(y+l*x+2*u)+x*(l*y+x+2*d)+f}else x=o,y=Math.max(0,-(l*x+u)),E=-y*y+x*(x+2*d)+f;else x=-o,y=Math.max(0,-(l*x+u)),E=-y*y+x*(x+2*d)+f;else x<=-T?(y=Math.max(0,-(-l*o+u)),x=y>0?-o:Math.min(Math.max(-o,-d),o),E=-y*y+x*(x+2*d)+f):x<=T?(y=0,x=Math.min(Math.max(-o,-d),o),E=x*(x+2*d)+f):(y=Math.max(0,-(l*o+u)),x=y>0?o:Math.min(Math.max(-o,-d),o),E=-y*y+x*(x+2*d)+f);else x=l>0?-o:o,y=Math.max(0,-(l*x+u)),E=-y*y+x*(x+2*d)+f;return i&&i.copy(this.origin).addScaledVector(this.direction,y),r&&r.copy(bv).addScaledVector($f,x),E}intersectSphere(t,e){Jr.subVectors(t.center,this.origin);const i=Jr.dot(this.direction),r=Jr.dot(Jr)-i*i,o=t.radius*t.radius;if(r>o)return null;const l=Math.sqrt(o-r),u=i-l,d=i+l;return d<0?null:u<0?this.at(d,e):this.at(u,e)}intersectsSphere(t){return t.radius<0?!1:this.distanceSqToPoint(t.center)<=t.radius*t.radius}distanceToPlane(t){const e=t.normal.dot(this.direction);if(e===0)return t.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(t.normal)+t.constant)/e;return i>=0?i:null}intersectPlane(t,e){const i=this.distanceToPlane(t);return i===null?null:this.at(i,e)}intersectsPlane(t){const e=t.distanceToPoint(this.origin);return e===0||t.normal.dot(this.direction)*e<0}intersectBox(t,e){let i,r,o,l,u,d;const f=1/this.direction.x,g=1/this.direction.y,y=1/this.direction.z,x=this.origin;return f>=0?(i=(t.min.x-x.x)*f,r=(t.max.x-x.x)*f):(i=(t.max.x-x.x)*f,r=(t.min.x-x.x)*f),g>=0?(o=(t.min.y-x.y)*g,l=(t.max.y-x.y)*g):(o=(t.max.y-x.y)*g,l=(t.min.y-x.y)*g),i>l||o>r||((o>i||isNaN(i))&&(i=o),(l<r||isNaN(r))&&(r=l),y>=0?(u=(t.min.z-x.z)*y,d=(t.max.z-x.z)*y):(u=(t.max.z-x.z)*y,d=(t.min.z-x.z)*y),i>d||u>r)||((u>i||i!==i)&&(i=u),(d<r||r!==r)&&(r=d),r<0)?null:this.at(i>=0?i:r,e)}intersectsBox(t){return this.intersectBox(t,Jr)!==null}intersectTriangle(t,e,i,r,o){Ev.subVectors(e,t),Qf.subVectors(i,t),Sv.crossVectors(Ev,Qf);let l=this.direction.dot(Sv),u;if(l>0){if(r)return null;u=1}else if(l<0)u=-1,l=-l;else return null;Ha.subVectors(this.origin,t);const d=u*this.direction.dot(Qf.crossVectors(Ha,Qf));if(d<0)return null;const f=u*this.direction.dot(Ev.cross(Ha));if(f<0||d+f>l)return null;const g=-u*Ha.dot(Sv);return g<0?null:this.at(g/l,o)}applyMatrix4(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}equals(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Xn{constructor(t,e,i,r,o,l,u,d,f,g,y,x,E,T,C,S){Xn.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],t!==void 0&&this.set(t,e,i,r,o,l,u,d,f,g,y,x,E,T,C,S)}set(t,e,i,r,o,l,u,d,f,g,y,x,E,T,C,S){const b=this.elements;return b[0]=t,b[4]=e,b[8]=i,b[12]=r,b[1]=o,b[5]=l,b[9]=u,b[13]=d,b[2]=f,b[6]=g,b[10]=y,b[14]=x,b[3]=E,b[7]=T,b[11]=C,b[15]=S,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Xn().fromArray(this.elements)}copy(t){const e=this.elements,i=t.elements;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],e[9]=i[9],e[10]=i[10],e[11]=i[11],e[12]=i[12],e[13]=i[13],e[14]=i[14],e[15]=i[15],this}copyPosition(t){const e=this.elements,i=t.elements;return e[12]=i[12],e[13]=i[13],e[14]=i[14],this}setFromMatrix3(t){const e=t.elements;return this.set(e[0],e[3],e[6],0,e[1],e[4],e[7],0,e[2],e[5],e[8],0,0,0,0,1),this}extractBasis(t,e,i){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(t,e,i){return this.set(t.x,e.x,i.x,0,t.y,e.y,i.y,0,t.z,e.z,i.z,0,0,0,0,1),this}extractRotation(t){const e=this.elements,i=t.elements,r=1/lc.setFromMatrixColumn(t,0).length(),o=1/lc.setFromMatrixColumn(t,1).length(),l=1/lc.setFromMatrixColumn(t,2).length();return e[0]=i[0]*r,e[1]=i[1]*r,e[2]=i[2]*r,e[3]=0,e[4]=i[4]*o,e[5]=i[5]*o,e[6]=i[6]*o,e[7]=0,e[8]=i[8]*l,e[9]=i[9]*l,e[10]=i[10]*l,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromEuler(t){const e=this.elements,i=t.x,r=t.y,o=t.z,l=Math.cos(i),u=Math.sin(i),d=Math.cos(r),f=Math.sin(r),g=Math.cos(o),y=Math.sin(o);if(t.order==="XYZ"){const x=l*g,E=l*y,T=u*g,C=u*y;e[0]=d*g,e[4]=-d*y,e[8]=f,e[1]=E+T*f,e[5]=x-C*f,e[9]=-u*d,e[2]=C-x*f,e[6]=T+E*f,e[10]=l*d}else if(t.order==="YXZ"){const x=d*g,E=d*y,T=f*g,C=f*y;e[0]=x+C*u,e[4]=T*u-E,e[8]=l*f,e[1]=l*y,e[5]=l*g,e[9]=-u,e[2]=E*u-T,e[6]=C+x*u,e[10]=l*d}else if(t.order==="ZXY"){const x=d*g,E=d*y,T=f*g,C=f*y;e[0]=x-C*u,e[4]=-l*y,e[8]=T+E*u,e[1]=E+T*u,e[5]=l*g,e[9]=C-x*u,e[2]=-l*f,e[6]=u,e[10]=l*d}else if(t.order==="ZYX"){const x=l*g,E=l*y,T=u*g,C=u*y;e[0]=d*g,e[4]=T*f-E,e[8]=x*f+C,e[1]=d*y,e[5]=C*f+x,e[9]=E*f-T,e[2]=-f,e[6]=u*d,e[10]=l*d}else if(t.order==="YZX"){const x=l*d,E=l*f,T=u*d,C=u*f;e[0]=d*g,e[4]=C-x*y,e[8]=T*y+E,e[1]=y,e[5]=l*g,e[9]=-u*g,e[2]=-f*g,e[6]=E*y+T,e[10]=x-C*y}else if(t.order==="XZY"){const x=l*d,E=l*f,T=u*d,C=u*f;e[0]=d*g,e[4]=-y,e[8]=f*g,e[1]=x*y+C,e[5]=l*g,e[9]=E*y-T,e[2]=T*y-E,e[6]=u*g,e[10]=C*y+x}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromQuaternion(t){return this.compose(gF,t,vF)}lookAt(t,e,i){const r=this.elements;return us.subVectors(t,e),us.lengthSq()===0&&(us.z=1),us.normalize(),Ga.crossVectors(i,us),Ga.lengthSq()===0&&(Math.abs(i.z)===1?us.x+=1e-4:us.z+=1e-4,us.normalize(),Ga.crossVectors(i,us)),Ga.normalize(),Zf.crossVectors(us,Ga),r[0]=Ga.x,r[4]=Zf.x,r[8]=us.x,r[1]=Ga.y,r[5]=Zf.y,r[9]=us.y,r[2]=Ga.z,r[6]=Zf.z,r[10]=us.z,this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const i=t.elements,r=e.elements,o=this.elements,l=i[0],u=i[4],d=i[8],f=i[12],g=i[1],y=i[5],x=i[9],E=i[13],T=i[2],C=i[6],S=i[10],b=i[14],O=i[3],N=i[7],U=i[11],j=i[15],G=r[0],D=r[4],R=r[8],w=r[12],M=r[1],P=r[5],z=r[9],V=r[13],yt=r[2],gt=r[6],Y=r[10],Z=r[14],Q=r[3],Rt=r[7],W=r[11],at=r[15];return o[0]=l*G+u*M+d*yt+f*Q,o[4]=l*D+u*P+d*gt+f*Rt,o[8]=l*R+u*z+d*Y+f*W,o[12]=l*w+u*V+d*Z+f*at,o[1]=g*G+y*M+x*yt+E*Q,o[5]=g*D+y*P+x*gt+E*Rt,o[9]=g*R+y*z+x*Y+E*W,o[13]=g*w+y*V+x*Z+E*at,o[2]=T*G+C*M+S*yt+b*Q,o[6]=T*D+C*P+S*gt+b*Rt,o[10]=T*R+C*z+S*Y+b*W,o[14]=T*w+C*V+S*Z+b*at,o[3]=O*G+N*M+U*yt+j*Q,o[7]=O*D+N*P+U*gt+j*Rt,o[11]=O*R+N*z+U*Y+j*W,o[15]=O*w+N*V+U*Z+j*at,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this}determinant(){const t=this.elements,e=t[0],i=t[4],r=t[8],o=t[12],l=t[1],u=t[5],d=t[9],f=t[13],g=t[2],y=t[6],x=t[10],E=t[14],T=t[3],C=t[7],S=t[11],b=t[15];return T*(+o*d*y-r*f*y-o*u*x+i*f*x+r*u*E-i*d*E)+C*(+e*d*E-e*f*x+o*l*x-r*l*E+r*f*g-o*d*g)+S*(+e*f*y-e*u*E-o*l*y+i*l*E+o*u*g-i*f*g)+b*(-r*u*g-e*d*y+e*u*x+r*l*y-i*l*x+i*d*g)}transpose(){const t=this.elements;let e;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}setPosition(t,e,i){const r=this.elements;return t.isVector3?(r[12]=t.x,r[13]=t.y,r[14]=t.z):(r[12]=t,r[13]=e,r[14]=i),this}invert(){const t=this.elements,e=t[0],i=t[1],r=t[2],o=t[3],l=t[4],u=t[5],d=t[6],f=t[7],g=t[8],y=t[9],x=t[10],E=t[11],T=t[12],C=t[13],S=t[14],b=t[15],O=y*S*f-C*x*f+C*d*E-u*S*E-y*d*b+u*x*b,N=T*x*f-g*S*f-T*d*E+l*S*E+g*d*b-l*x*b,U=g*C*f-T*y*f+T*u*E-l*C*E-g*u*b+l*y*b,j=T*y*d-g*C*d-T*u*x+l*C*x+g*u*S-l*y*S,G=e*O+i*N+r*U+o*j;if(G===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const D=1/G;return t[0]=O*D,t[1]=(C*x*o-y*S*o-C*r*E+i*S*E+y*r*b-i*x*b)*D,t[2]=(u*S*o-C*d*o+C*r*f-i*S*f-u*r*b+i*d*b)*D,t[3]=(y*d*o-u*x*o-y*r*f+i*x*f+u*r*E-i*d*E)*D,t[4]=N*D,t[5]=(g*S*o-T*x*o+T*r*E-e*S*E-g*r*b+e*x*b)*D,t[6]=(T*d*o-l*S*o-T*r*f+e*S*f+l*r*b-e*d*b)*D,t[7]=(l*x*o-g*d*o+g*r*f-e*x*f-l*r*E+e*d*E)*D,t[8]=U*D,t[9]=(T*y*o-g*C*o-T*i*E+e*C*E+g*i*b-e*y*b)*D,t[10]=(l*C*o-T*u*o+T*i*f-e*C*f-l*i*b+e*u*b)*D,t[11]=(g*u*o-l*y*o-g*i*f+e*y*f+l*i*E-e*u*E)*D,t[12]=j*D,t[13]=(g*C*r-T*y*r+T*i*x-e*C*x-g*i*S+e*y*S)*D,t[14]=(T*u*r-l*C*r-T*i*d+e*C*d+l*i*S-e*u*S)*D,t[15]=(l*y*r-g*u*r+g*i*d-e*y*d-l*i*x+e*u*x)*D,this}scale(t){const e=this.elements,i=t.x,r=t.y,o=t.z;return e[0]*=i,e[4]*=r,e[8]*=o,e[1]*=i,e[5]*=r,e[9]*=o,e[2]*=i,e[6]*=r,e[10]*=o,e[3]*=i,e[7]*=r,e[11]*=o,this}getMaxScaleOnAxis(){const t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],i=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],r=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,i,r))}makeTranslation(t,e,i){return t.isVector3?this.set(1,0,0,t.x,0,1,0,t.y,0,0,1,t.z,0,0,0,1):this.set(1,0,0,t,0,1,0,e,0,0,1,i,0,0,0,1),this}makeRotationX(t){const e=Math.cos(t),i=Math.sin(t);return this.set(1,0,0,0,0,e,-i,0,0,i,e,0,0,0,0,1),this}makeRotationY(t){const e=Math.cos(t),i=Math.sin(t);return this.set(e,0,i,0,0,1,0,0,-i,0,e,0,0,0,0,1),this}makeRotationZ(t){const e=Math.cos(t),i=Math.sin(t);return this.set(e,-i,0,0,i,e,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,e){const i=Math.cos(e),r=Math.sin(e),o=1-i,l=t.x,u=t.y,d=t.z,f=o*l,g=o*u;return this.set(f*l+i,f*u-r*d,f*d+r*u,0,f*u+r*d,g*u+i,g*d-r*l,0,f*d-r*u,g*d+r*l,o*d*d+i,0,0,0,0,1),this}makeScale(t,e,i){return this.set(t,0,0,0,0,e,0,0,0,0,i,0,0,0,0,1),this}makeShear(t,e,i,r,o,l){return this.set(1,i,o,0,t,1,l,0,e,r,1,0,0,0,0,1),this}compose(t,e,i){const r=this.elements,o=e._x,l=e._y,u=e._z,d=e._w,f=o+o,g=l+l,y=u+u,x=o*f,E=o*g,T=o*y,C=l*g,S=l*y,b=u*y,O=d*f,N=d*g,U=d*y,j=i.x,G=i.y,D=i.z;return r[0]=(1-(C+b))*j,r[1]=(E+U)*j,r[2]=(T-N)*j,r[3]=0,r[4]=(E-U)*G,r[5]=(1-(x+b))*G,r[6]=(S+O)*G,r[7]=0,r[8]=(T+N)*D,r[9]=(S-O)*D,r[10]=(1-(x+C))*D,r[11]=0,r[12]=t.x,r[13]=t.y,r[14]=t.z,r[15]=1,this}decompose(t,e,i){const r=this.elements;let o=lc.set(r[0],r[1],r[2]).length();const l=lc.set(r[4],r[5],r[6]).length(),u=lc.set(r[8],r[9],r[10]).length();this.determinant()<0&&(o=-o),t.x=r[12],t.y=r[13],t.z=r[14],Bs.copy(this);const f=1/o,g=1/l,y=1/u;return Bs.elements[0]*=f,Bs.elements[1]*=f,Bs.elements[2]*=f,Bs.elements[4]*=g,Bs.elements[5]*=g,Bs.elements[6]*=g,Bs.elements[8]*=y,Bs.elements[9]*=y,Bs.elements[10]*=y,e.setFromRotationMatrix(Bs),i.x=o,i.y=l,i.z=u,this}makePerspective(t,e,i,r,o,l,u=aa){const d=this.elements,f=2*o/(e-t),g=2*o/(i-r),y=(e+t)/(e-t),x=(i+r)/(i-r);let E,T;if(u===aa)E=-(l+o)/(l-o),T=-2*l*o/(l-o);else if(u===Zm)E=-l/(l-o),T=-l*o/(l-o);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+u);return d[0]=f,d[4]=0,d[8]=y,d[12]=0,d[1]=0,d[5]=g,d[9]=x,d[13]=0,d[2]=0,d[6]=0,d[10]=E,d[14]=T,d[3]=0,d[7]=0,d[11]=-1,d[15]=0,this}makeOrthographic(t,e,i,r,o,l,u=aa){const d=this.elements,f=1/(e-t),g=1/(i-r),y=1/(l-o),x=(e+t)*f,E=(i+r)*g;let T,C;if(u===aa)T=(l+o)*y,C=-2*y;else if(u===Zm)T=o*y,C=-1*y;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+u);return d[0]=2*f,d[4]=0,d[8]=0,d[12]=-x,d[1]=0,d[5]=2*g,d[9]=0,d[13]=-E,d[2]=0,d[6]=0,d[10]=C,d[14]=-T,d[3]=0,d[7]=0,d[11]=0,d[15]=1,this}equals(t){const e=this.elements,i=t.elements;for(let r=0;r<16;r++)if(e[r]!==i[r])return!1;return!0}fromArray(t,e=0){for(let i=0;i<16;i++)this.elements[i]=t[i+e];return this}toArray(t=[],e=0){const i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t[e+9]=i[9],t[e+10]=i[10],t[e+11]=i[11],t[e+12]=i[12],t[e+13]=i[13],t[e+14]=i[14],t[e+15]=i[15],t}}const lc=new pt,Bs=new Xn,gF=new pt(0,0,0),vF=new pt(1,1,1),Ga=new pt,Zf=new pt,us=new pt,Pw=new Xn,Lw=new pd;class ma{constructor(t=0,e=0,i=0,r=ma.DEFAULT_ORDER){this.isEuler=!0,this._x=t,this._y=e,this._z=i,this._order=r}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,e,i,r=this._order){return this._x=t,this._y=e,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,e=this._order,i=!0){const r=t.elements,o=r[0],l=r[4],u=r[8],d=r[1],f=r[5],g=r[9],y=r[2],x=r[6],E=r[10];switch(e){case"XYZ":this._y=Math.asin(qe(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(-g,E),this._z=Math.atan2(-l,o)):(this._x=Math.atan2(x,f),this._z=0);break;case"YXZ":this._x=Math.asin(-qe(g,-1,1)),Math.abs(g)<.9999999?(this._y=Math.atan2(u,E),this._z=Math.atan2(d,f)):(this._y=Math.atan2(-y,o),this._z=0);break;case"ZXY":this._x=Math.asin(qe(x,-1,1)),Math.abs(x)<.9999999?(this._y=Math.atan2(-y,E),this._z=Math.atan2(-l,f)):(this._y=0,this._z=Math.atan2(d,o));break;case"ZYX":this._y=Math.asin(-qe(y,-1,1)),Math.abs(y)<.9999999?(this._x=Math.atan2(x,E),this._z=Math.atan2(d,o)):(this._x=0,this._z=Math.atan2(-l,f));break;case"YZX":this._z=Math.asin(qe(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(-g,f),this._y=Math.atan2(-y,o)):(this._x=0,this._y=Math.atan2(u,E));break;case"XZY":this._z=Math.asin(-qe(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(x,f),this._y=Math.atan2(u,o)):(this._x=Math.atan2(-g,E),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+e)}return this._order=e,i===!0&&this._onChangeCallback(),this}setFromQuaternion(t,e,i){return Pw.makeRotationFromQuaternion(t),this.setFromRotationMatrix(Pw,e,i)}setFromVector3(t,e=this._order){return this.set(t.x,t.y,t.z,e)}reorder(t){return Lw.setFromEuler(this),this.setFromQuaternion(Lw,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],t[3]!==void 0&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}ma.DEFAULT_ORDER="XYZ";class rC{constructor(){this.mask=1}set(t){this.mask=(1<<t|0)>>>0}enable(t){this.mask|=1<<t|0}enableAll(){this.mask=-1}toggle(t){this.mask^=1<<t|0}disable(t){this.mask&=~(1<<t|0)}disableAll(){this.mask=0}test(t){return(this.mask&t.mask)!==0}isEnabled(t){return(this.mask&(1<<t|0))!==0}}let yF=0;const Ow=new pt,cc=new pd,ta=new Xn,Jf=new pt,dh=new pt,xF=new pt,_F=new pd,Uw=new pt(1,0,0),Vw=new pt(0,1,0),Fw=new pt(0,0,1),Bw={type:"added"},bF={type:"removed"},uc={type:"childadded",child:null},Tv={type:"childremoved",child:null};class Ji extends eu{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:yF++}),this.uuid=md(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Ji.DEFAULT_UP.clone();const t=new pt,e=new ma,i=new pd,r=new pt(1,1,1);function o(){i.setFromEuler(e,!1)}function l(){e.setFromQuaternion(i,void 0,!1)}e._onChange(o),i._onChange(l),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:e},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new Xn},normalMatrix:{value:new Ce}}),this.matrix=new Xn,this.matrixWorld=new Xn,this.matrixAutoUpdate=Ji.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Ji.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new rC,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,e){this.quaternion.setFromAxisAngle(t,e)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,e){return cc.setFromAxisAngle(t,e),this.quaternion.multiply(cc),this}rotateOnWorldAxis(t,e){return cc.setFromAxisAngle(t,e),this.quaternion.premultiply(cc),this}rotateX(t){return this.rotateOnAxis(Uw,t)}rotateY(t){return this.rotateOnAxis(Vw,t)}rotateZ(t){return this.rotateOnAxis(Fw,t)}translateOnAxis(t,e){return Ow.copy(t).applyQuaternion(this.quaternion),this.position.add(Ow.multiplyScalar(e)),this}translateX(t){return this.translateOnAxis(Uw,t)}translateY(t){return this.translateOnAxis(Vw,t)}translateZ(t){return this.translateOnAxis(Fw,t)}localToWorld(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(ta.copy(this.matrixWorld).invert())}lookAt(t,e,i){t.isVector3?Jf.copy(t):Jf.set(t,e,i);const r=this.parent;this.updateWorldMatrix(!0,!1),dh.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?ta.lookAt(dh,Jf,this.up):ta.lookAt(Jf,dh,this.up),this.quaternion.setFromRotationMatrix(ta),r&&(ta.extractRotation(r.matrixWorld),cc.setFromRotationMatrix(ta),this.quaternion.premultiply(cc.invert()))}add(t){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(t.removeFromParent(),t.parent=this,this.children.push(t),t.dispatchEvent(Bw),uc.child=t,this.dispatchEvent(uc),uc.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)}remove(t){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const e=this.children.indexOf(t);return e!==-1&&(t.parent=null,this.children.splice(e,1),t.dispatchEvent(bF),Tv.child=t,this.dispatchEvent(Tv),Tv.child=null),this}removeFromParent(){const t=this.parent;return t!==null&&t.remove(this),this}clear(){return this.remove(...this.children)}attach(t){return this.updateWorldMatrix(!0,!1),ta.copy(this.matrixWorld).invert(),t.parent!==null&&(t.parent.updateWorldMatrix(!0,!1),ta.multiply(t.parent.matrixWorld)),t.applyMatrix4(ta),t.removeFromParent(),t.parent=this,this.children.push(t),t.updateWorldMatrix(!1,!0),t.dispatchEvent(Bw),uc.child=t,this.dispatchEvent(uc),uc.child=null,this}getObjectById(t){return this.getObjectByProperty("id",t)}getObjectByName(t){return this.getObjectByProperty("name",t)}getObjectByProperty(t,e){if(this[t]===e)return this;for(let i=0,r=this.children.length;i<r;i++){const l=this.children[i].getObjectByProperty(t,e);if(l!==void 0)return l}}getObjectsByProperty(t,e,i=[]){this[t]===e&&i.push(this);const r=this.children;for(let o=0,l=r.length;o<l;o++)r[o].getObjectsByProperty(t,e,i);return i}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(dh,t,xF),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(dh,_F,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()}raycast(){}traverse(t){t(this);const e=this.children;for(let i=0,r=e.length;i<r;i++)e[i].traverse(t)}traverseVisible(t){if(this.visible===!1)return;t(this);const e=this.children;for(let i=0,r=e.length;i<r;i++)e[i].traverseVisible(t)}traverseAncestors(t){const e=this.parent;e!==null&&(t(e),e.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,t=!0);const e=this.children;for(let i=0,r=e.length;i<r;i++)e[i].updateMatrixWorld(t)}updateWorldMatrix(t,e){const i=this.parent;if(t===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),e===!0){const r=this.children;for(let o=0,l=r.length;o<l;o++)r[o].updateWorldMatrix(!1,!0)}}toJSON(t){const e=t===void 0||typeof t=="string",i={};e&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.geometryInfo=this._geometryInfo.map(u=>({...u,boundingBox:u.boundingBox?u.boundingBox.toJSON():void 0,boundingSphere:u.boundingSphere?u.boundingSphere.toJSON():void 0})),r.instanceInfo=this._instanceInfo.map(u=>({...u})),r.availableInstanceIds=this._availableInstanceIds.slice(),r.availableGeometryIds=this._availableGeometryIds.slice(),r.nextIndexStart=this._nextIndexStart,r.nextVertexStart=this._nextVertexStart,r.geometryCount=this._geometryCount,r.maxInstanceCount=this._maxInstanceCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.matricesTexture=this._matricesTexture.toJSON(t),r.indirectTexture=this._indirectTexture.toJSON(t),this._colorsTexture!==null&&(r.colorsTexture=this._colorsTexture.toJSON(t)),this.boundingSphere!==null&&(r.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(r.boundingBox=this.boundingBox.toJSON()));function o(u,d){return u[d.uuid]===void 0&&(u[d.uuid]=d.toJSON(t)),d.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=o(t.geometries,this.geometry);const u=this.geometry.parameters;if(u!==void 0&&u.shapes!==void 0){const d=u.shapes;if(Array.isArray(d))for(let f=0,g=d.length;f<g;f++){const y=d[f];o(t.shapes,y)}else o(t.shapes,d)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(o(t.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const u=[];for(let d=0,f=this.material.length;d<f;d++)u.push(o(t.materials,this.material[d]));r.material=u}else r.material=o(t.materials,this.material);if(this.children.length>0){r.children=[];for(let u=0;u<this.children.length;u++)r.children.push(this.children[u].toJSON(t).object)}if(this.animations.length>0){r.animations=[];for(let u=0;u<this.animations.length;u++){const d=this.animations[u];r.animations.push(o(t.animations,d))}}if(e){const u=l(t.geometries),d=l(t.materials),f=l(t.textures),g=l(t.images),y=l(t.shapes),x=l(t.skeletons),E=l(t.animations),T=l(t.nodes);u.length>0&&(i.geometries=u),d.length>0&&(i.materials=d),f.length>0&&(i.textures=f),g.length>0&&(i.images=g),y.length>0&&(i.shapes=y),x.length>0&&(i.skeletons=x),E.length>0&&(i.animations=E),T.length>0&&(i.nodes=T)}return i.object=r,i;function l(u){const d=[];for(const f in u){const g=u[f];delete g.metadata,d.push(g)}return d}}clone(t){return new this.constructor().copy(this,t)}copy(t,e=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldAutoUpdate=t.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.animations=t.animations.slice(),this.userData=JSON.parse(JSON.stringify(t.userData)),e===!0)for(let i=0;i<t.children.length;i++){const r=t.children[i];this.add(r.clone())}return this}}Ji.DEFAULT_UP=new pt(0,1,0);Ji.DEFAULT_MATRIX_AUTO_UPDATE=!0;Ji.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const ks=new pt,ea=new pt,wv=new pt,na=new pt,hc=new pt,dc=new pt,kw=new pt,Av=new pt,Mv=new pt,Rv=new pt,Cv=new qn,Nv=new qn,Dv=new qn;class zs{constructor(t=new pt,e=new pt,i=new pt){this.a=t,this.b=e,this.c=i}static getNormal(t,e,i,r){r.subVectors(i,e),ks.subVectors(t,e),r.cross(ks);const o=r.lengthSq();return o>0?r.multiplyScalar(1/Math.sqrt(o)):r.set(0,0,0)}static getBarycoord(t,e,i,r,o){ks.subVectors(r,e),ea.subVectors(i,e),wv.subVectors(t,e);const l=ks.dot(ks),u=ks.dot(ea),d=ks.dot(wv),f=ea.dot(ea),g=ea.dot(wv),y=l*f-u*u;if(y===0)return o.set(0,0,0),null;const x=1/y,E=(f*d-u*g)*x,T=(l*g-u*d)*x;return o.set(1-E-T,T,E)}static containsPoint(t,e,i,r){return this.getBarycoord(t,e,i,r,na)===null?!1:na.x>=0&&na.y>=0&&na.x+na.y<=1}static getInterpolation(t,e,i,r,o,l,u,d){return this.getBarycoord(t,e,i,r,na)===null?(d.x=0,d.y=0,"z"in d&&(d.z=0),"w"in d&&(d.w=0),null):(d.setScalar(0),d.addScaledVector(o,na.x),d.addScaledVector(l,na.y),d.addScaledVector(u,na.z),d)}static getInterpolatedAttribute(t,e,i,r,o,l){return Cv.setScalar(0),Nv.setScalar(0),Dv.setScalar(0),Cv.fromBufferAttribute(t,e),Nv.fromBufferAttribute(t,i),Dv.fromBufferAttribute(t,r),l.setScalar(0),l.addScaledVector(Cv,o.x),l.addScaledVector(Nv,o.y),l.addScaledVector(Dv,o.z),l}static isFrontFacing(t,e,i,r){return ks.subVectors(i,e),ea.subVectors(t,e),ks.cross(ea).dot(r)<0}set(t,e,i){return this.a.copy(t),this.b.copy(e),this.c.copy(i),this}setFromPointsAndIndices(t,e,i,r){return this.a.copy(t[e]),this.b.copy(t[i]),this.c.copy(t[r]),this}setFromAttributeAndIndices(t,e,i,r){return this.a.fromBufferAttribute(t,e),this.b.fromBufferAttribute(t,i),this.c.fromBufferAttribute(t,r),this}clone(){return new this.constructor().copy(this)}copy(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}getArea(){return ks.subVectors(this.c,this.b),ea.subVectors(this.a,this.b),ks.cross(ea).length()*.5}getMidpoint(t){return t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(t){return zs.getNormal(this.a,this.b,this.c,t)}getPlane(t){return t.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(t,e){return zs.getBarycoord(t,this.a,this.b,this.c,e)}getInterpolation(t,e,i,r,o){return zs.getInterpolation(t,this.a,this.b,this.c,e,i,r,o)}containsPoint(t){return zs.containsPoint(t,this.a,this.b,this.c)}isFrontFacing(t){return zs.isFrontFacing(this.a,this.b,this.c,t)}intersectsBox(t){return t.intersectsTriangle(this)}closestPointToPoint(t,e){const i=this.a,r=this.b,o=this.c;let l,u;hc.subVectors(r,i),dc.subVectors(o,i),Av.subVectors(t,i);const d=hc.dot(Av),f=dc.dot(Av);if(d<=0&&f<=0)return e.copy(i);Mv.subVectors(t,r);const g=hc.dot(Mv),y=dc.dot(Mv);if(g>=0&&y<=g)return e.copy(r);const x=d*y-g*f;if(x<=0&&d>=0&&g<=0)return l=d/(d-g),e.copy(i).addScaledVector(hc,l);Rv.subVectors(t,o);const E=hc.dot(Rv),T=dc.dot(Rv);if(T>=0&&E<=T)return e.copy(o);const C=E*f-d*T;if(C<=0&&f>=0&&T<=0)return u=f/(f-T),e.copy(i).addScaledVector(dc,u);const S=g*T-E*y;if(S<=0&&y-g>=0&&E-T>=0)return kw.subVectors(o,r),u=(y-g)/(y-g+(E-T)),e.copy(r).addScaledVector(kw,u);const b=1/(S+C+x);return l=C*b,u=x*b,e.copy(i).addScaledVector(hc,l).addScaledVector(dc,u)}equals(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}const aC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Wa={h:0,s:0,l:0},tm={h:0,s:0,l:0};function Iv(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+(t-n)*6*e:e<1/2?t:e<2/3?n+(t-n)*6*(2/3-e):n}class mn{constructor(t,e,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(t,e,i)}set(t,e,i){if(e===void 0&&i===void 0){const r=t;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(t,e,i);return this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t,e=Rs){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(t&255)/255,an.colorSpaceToWorking(this,e),this}setRGB(t,e,i,r=an.workingColorSpace){return this.r=t,this.g=e,this.b=i,an.colorSpaceToWorking(this,r),this}setHSL(t,e,i,r=an.workingColorSpace){if(t=sF(t,1),e=qe(e,0,1),i=qe(i,0,1),e===0)this.r=this.g=this.b=i;else{const o=i<=.5?i*(1+e):i+e-i*e,l=2*i-o;this.r=Iv(l,o,t+1/3),this.g=Iv(l,o,t),this.b=Iv(l,o,t-1/3)}return an.colorSpaceToWorking(this,r),this}setStyle(t,e=Rs){function i(o){o!==void 0&&parseFloat(o)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(t)){let o;const l=r[1],u=r[2];switch(l){case"rgb":case"rgba":if(o=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return i(o[4]),this.setRGB(Math.min(255,parseInt(o[1],10))/255,Math.min(255,parseInt(o[2],10))/255,Math.min(255,parseInt(o[3],10))/255,e);if(o=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return i(o[4]),this.setRGB(Math.min(100,parseInt(o[1],10))/100,Math.min(100,parseInt(o[2],10))/100,Math.min(100,parseInt(o[3],10))/100,e);break;case"hsl":case"hsla":if(o=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return i(o[4]),this.setHSL(parseFloat(o[1])/360,parseFloat(o[2])/100,parseFloat(o[3])/100,e);break;default:console.warn("THREE.Color: Unknown color model "+t)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(t)){const o=r[1],l=o.length;if(l===3)return this.setRGB(parseInt(o.charAt(0),16)/15,parseInt(o.charAt(1),16)/15,parseInt(o.charAt(2),16)/15,e);if(l===6)return this.setHex(parseInt(o,16),e);console.warn("THREE.Color: Invalid hex color "+t)}else if(t&&t.length>0)return this.setColorName(t,e);return this}setColorName(t,e=Rs){const i=aC[t.toLowerCase()];return i!==void 0?this.setHex(i,e):console.warn("THREE.Color: Unknown color "+t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copySRGBToLinear(t){return this.r=la(t.r),this.g=la(t.g),this.b=la(t.b),this}copyLinearToSRGB(t){return this.r=Dc(t.r),this.g=Dc(t.g),this.b=Dc(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(t=Rs){return an.workingToColorSpace(Li.copy(this),t),Math.round(qe(Li.r*255,0,255))*65536+Math.round(qe(Li.g*255,0,255))*256+Math.round(qe(Li.b*255,0,255))}getHexString(t=Rs){return("000000"+this.getHex(t).toString(16)).slice(-6)}getHSL(t,e=an.workingColorSpace){an.workingToColorSpace(Li.copy(this),e);const i=Li.r,r=Li.g,o=Li.b,l=Math.max(i,r,o),u=Math.min(i,r,o);let d,f;const g=(u+l)/2;if(u===l)d=0,f=0;else{const y=l-u;switch(f=g<=.5?y/(l+u):y/(2-l-u),l){case i:d=(r-o)/y+(r<o?6:0);break;case r:d=(o-i)/y+2;break;case o:d=(i-r)/y+4;break}d/=6}return t.h=d,t.s=f,t.l=g,t}getRGB(t,e=an.workingColorSpace){return an.workingToColorSpace(Li.copy(this),e),t.r=Li.r,t.g=Li.g,t.b=Li.b,t}getStyle(t=Rs){an.workingToColorSpace(Li.copy(this),t);const e=Li.r,i=Li.g,r=Li.b;return t!==Rs?`color(${t} ${e.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(e*255)},${Math.round(i*255)},${Math.round(r*255)})`}offsetHSL(t,e,i){return this.getHSL(Wa),this.setHSL(Wa.h+t,Wa.s+e,Wa.l+i)}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this}addScalar(t){return this.r+=t,this.g+=t,this.b+=t,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(t){return this.r*=t,this.g*=t,this.b*=t,this}lerp(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this}lerpColors(t,e,i){return this.r=t.r+(e.r-t.r)*i,this.g=t.g+(e.g-t.g)*i,this.b=t.b+(e.b-t.b)*i,this}lerpHSL(t,e){this.getHSL(Wa),t.getHSL(tm);const i=mv(Wa.h,tm.h,e),r=mv(Wa.s,tm.s,e),o=mv(Wa.l,tm.l,e);return this.setHSL(i,r,o),this}setFromVector3(t){return this.r=t.x,this.g=t.y,this.b=t.z,this}applyMatrix3(t){const e=this.r,i=this.g,r=this.b,o=t.elements;return this.r=o[0]*e+o[3]*i+o[6]*r,this.g=o[1]*e+o[4]*i+o[7]*r,this.b=o[2]*e+o[5]*i+o[8]*r,this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t,e=0){return this.r=t[e],this.g=t[e+1],this.b=t[e+2],this}toArray(t=[],e=0){return t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t}fromBufferAttribute(t,e){return this.r=t.getX(e),this.g=t.getY(e),this.b=t.getZ(e),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Li=new mn;mn.NAMES=aC;let EF=0;class vd extends eu{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:EF++}),this.uuid=md(),this.name="",this.type="Material",this.blending=Cc,this.side=ao,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=Ry,this.blendDst=Cy,this.blendEquation=$o,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new mn(0,0,0),this.blendAlpha=0,this.depthFunc=Fc,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=Aw,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=ic,this.stencilZFail=ic,this.stencilZPass=ic,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(t){this._alphaTest>0!=t>0&&this.version++,this._alphaTest=t}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(t){if(t!==void 0)for(const e in t){const i=t[e];if(i===void 0){console.warn(`THREE.Material: parameter '${e}' has value of undefined.`);continue}const r=this[e];if(r===void 0){console.warn(`THREE.Material: '${e}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[e]=i}}toJSON(t){const e=t===void 0||typeof t=="string";e&&(t={textures:{},images:{}});const i={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(i.dispersion=this.dispersion),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(t).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(t).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(t).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(t).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(t).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(t).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(t).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(t).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(t).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(t).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(t).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapRotation!==void 0&&(i.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(t).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(t).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(t).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==Cc&&(i.blending=this.blending),this.side!==ao&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==Ry&&(i.blendSrc=this.blendSrc),this.blendDst!==Cy&&(i.blendDst=this.blendDst),this.blendEquation!==$o&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==Fc&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==Aw&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==ic&&(i.stencilFail=this.stencilFail),this.stencilZFail!==ic&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==ic&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(o){const l=[];for(const u in o){const d=o[u];delete d.metadata,l.push(d)}return l}if(e){const o=r(t.textures),l=r(t.images);o.length>0&&(i.textures=o),l.length>0&&(i.images=l)}return i}clone(){return new this.constructor().copy(this)}copy(t){this.name=t.name,this.blending=t.blending,this.side=t.side,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.blendColor.copy(t.blendColor),this.blendAlpha=t.blendAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;const e=t.clippingPlanes;let i=null;if(e!==null){const r=e.length;i=new Array(r);for(let o=0;o!==r;++o)i[o]=e[o].clone()}return this.clippingPlanes=i,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.alphaHash=t.alphaHash,this.alphaToCoverage=t.alphaToCoverage,this.premultipliedAlpha=t.premultipliedAlpha,this.forceSinglePass=t.forceSinglePass,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(t){t===!0&&this.version++}}class V_ extends vd{constructor(t){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new mn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ma,this.combine=WR,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}}const Qn=new pt,em=new xn;let SF=0;class _r{constructor(t,e,i=!1){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:SF++}),this.name="",this.array=t,this.itemSize=e,this.count=t!==void 0?t.length/e:0,this.normalized=i,this.usage=Mw,this.updateRanges=[],this.gpuType=ra,this.version=0}onUploadCallback(){}set needsUpdate(t){t===!0&&this.version++}setUsage(t){return this.usage=t,this}addUpdateRange(t,e){this.updateRanges.push({start:t,count:e})}clearUpdateRanges(){this.updateRanges.length=0}copy(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this.gpuType=t.gpuType,this}copyAt(t,e,i){t*=this.itemSize,i*=e.itemSize;for(let r=0,o=this.itemSize;r<o;r++)this.array[t+r]=e.array[i+r];return this}copyArray(t){return this.array.set(t),this}applyMatrix3(t){if(this.itemSize===2)for(let e=0,i=this.count;e<i;e++)em.fromBufferAttribute(this,e),em.applyMatrix3(t),this.setXY(e,em.x,em.y);else if(this.itemSize===3)for(let e=0,i=this.count;e<i;e++)Qn.fromBufferAttribute(this,e),Qn.applyMatrix3(t),this.setXYZ(e,Qn.x,Qn.y,Qn.z);return this}applyMatrix4(t){for(let e=0,i=this.count;e<i;e++)Qn.fromBufferAttribute(this,e),Qn.applyMatrix4(t),this.setXYZ(e,Qn.x,Qn.y,Qn.z);return this}applyNormalMatrix(t){for(let e=0,i=this.count;e<i;e++)Qn.fromBufferAttribute(this,e),Qn.applyNormalMatrix(t),this.setXYZ(e,Qn.x,Qn.y,Qn.z);return this}transformDirection(t){for(let e=0,i=this.count;e<i;e++)Qn.fromBufferAttribute(this,e),Qn.transformDirection(t),this.setXYZ(e,Qn.x,Qn.y,Qn.z);return this}set(t,e=0){return this.array.set(t,e),this}getComponent(t,e){let i=this.array[t*this.itemSize+e];return this.normalized&&(i=ch(i,this.array)),i}setComponent(t,e,i){return this.normalized&&(i=Yi(i,this.array)),this.array[t*this.itemSize+e]=i,this}getX(t){let e=this.array[t*this.itemSize];return this.normalized&&(e=ch(e,this.array)),e}setX(t,e){return this.normalized&&(e=Yi(e,this.array)),this.array[t*this.itemSize]=e,this}getY(t){let e=this.array[t*this.itemSize+1];return this.normalized&&(e=ch(e,this.array)),e}setY(t,e){return this.normalized&&(e=Yi(e,this.array)),this.array[t*this.itemSize+1]=e,this}getZ(t){let e=this.array[t*this.itemSize+2];return this.normalized&&(e=ch(e,this.array)),e}setZ(t,e){return this.normalized&&(e=Yi(e,this.array)),this.array[t*this.itemSize+2]=e,this}getW(t){let e=this.array[t*this.itemSize+3];return this.normalized&&(e=ch(e,this.array)),e}setW(t,e){return this.normalized&&(e=Yi(e,this.array)),this.array[t*this.itemSize+3]=e,this}setXY(t,e,i){return t*=this.itemSize,this.normalized&&(e=Yi(e,this.array),i=Yi(i,this.array)),this.array[t+0]=e,this.array[t+1]=i,this}setXYZ(t,e,i,r){return t*=this.itemSize,this.normalized&&(e=Yi(e,this.array),i=Yi(i,this.array),r=Yi(r,this.array)),this.array[t+0]=e,this.array[t+1]=i,this.array[t+2]=r,this}setXYZW(t,e,i,r,o){return t*=this.itemSize,this.normalized&&(e=Yi(e,this.array),i=Yi(i,this.array),r=Yi(r,this.array),o=Yi(o,this.array)),this.array[t+0]=e,this.array[t+1]=i,this.array[t+2]=r,this.array[t+3]=o,this}onUpload(t){return this.onUploadCallback=t,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const t={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(t.name=this.name),this.usage!==Mw&&(t.usage=this.usage),t}}class oC extends _r{constructor(t,e,i){super(new Uint16Array(t),e,i)}}class lC extends _r{constructor(t,e,i){super(new Uint32Array(t),e,i)}}class qs extends _r{constructor(t,e,i){super(new Float32Array(t),e,i)}}let TF=0;const ws=new Xn,Pv=new Ji,fc=new pt,hs=new gd,fh=new gd,gi=new pt;class Nr extends eu{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:TF++}),this.uuid=md(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(t){return Array.isArray(t)?this.index=new(nC(t)?lC:oC)(t,1):this.index=t,this}setIndirect(t){return this.indirect=t,this}getIndirect(){return this.indirect}getAttribute(t){return this.attributes[t]}setAttribute(t,e){return this.attributes[t]=e,this}deleteAttribute(t){return delete this.attributes[t],this}hasAttribute(t){return this.attributes[t]!==void 0}addGroup(t,e,i=0){this.groups.push({start:t,count:e,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(t,e){this.drawRange.start=t,this.drawRange.count=e}applyMatrix4(t){const e=this.attributes.position;e!==void 0&&(e.applyMatrix4(t),e.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const o=new Ce().getNormalMatrix(t);i.applyNormalMatrix(o),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(t),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(t){return ws.makeRotationFromQuaternion(t),this.applyMatrix4(ws),this}rotateX(t){return ws.makeRotationX(t),this.applyMatrix4(ws),this}rotateY(t){return ws.makeRotationY(t),this.applyMatrix4(ws),this}rotateZ(t){return ws.makeRotationZ(t),this.applyMatrix4(ws),this}translate(t,e,i){return ws.makeTranslation(t,e,i),this.applyMatrix4(ws),this}scale(t,e,i){return ws.makeScale(t,e,i),this.applyMatrix4(ws),this}lookAt(t){return Pv.lookAt(t),Pv.updateMatrix(),this.applyMatrix4(Pv.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(fc).negate(),this.translate(fc.x,fc.y,fc.z),this}setFromPoints(t){const e=this.getAttribute("position");if(e===void 0){const i=[];for(let r=0,o=t.length;r<o;r++){const l=t[r];i.push(l.x,l.y,l.z||0)}this.setAttribute("position",new qs(i,3))}else{const i=Math.min(t.length,e.count);for(let r=0;r<i;r++){const o=t[r];e.setXYZ(r,o.x,o.y,o.z||0)}t.length>e.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),e.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new gd);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new pt(-1/0,-1/0,-1/0),new pt(1/0,1/0,1/0));return}if(t!==void 0){if(this.boundingBox.setFromBufferAttribute(t),e)for(let i=0,r=e.length;i<r;i++){const o=e[i];hs.setFromBufferAttribute(o),this.morphTargetsRelative?(gi.addVectors(this.boundingBox.min,hs.min),this.boundingBox.expandByPoint(gi),gi.addVectors(this.boundingBox.max,hs.max),this.boundingBox.expandByPoint(gi)):(this.boundingBox.expandByPoint(hs.min),this.boundingBox.expandByPoint(hs.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Dp);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new pt,1/0);return}if(t){const i=this.boundingSphere.center;if(hs.setFromBufferAttribute(t),e)for(let o=0,l=e.length;o<l;o++){const u=e[o];fh.setFromBufferAttribute(u),this.morphTargetsRelative?(gi.addVectors(hs.min,fh.min),hs.expandByPoint(gi),gi.addVectors(hs.max,fh.max),hs.expandByPoint(gi)):(hs.expandByPoint(fh.min),hs.expandByPoint(fh.max))}hs.getCenter(i);let r=0;for(let o=0,l=t.count;o<l;o++)gi.fromBufferAttribute(t,o),r=Math.max(r,i.distanceToSquared(gi));if(e)for(let o=0,l=e.length;o<l;o++){const u=e[o],d=this.morphTargetsRelative;for(let f=0,g=u.count;f<g;f++)gi.fromBufferAttribute(u,f),d&&(fc.fromBufferAttribute(t,f),gi.add(fc)),r=Math.max(r,i.distanceToSquared(gi))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const t=this.index,e=this.attributes;if(t===null||e.position===void 0||e.normal===void 0||e.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=e.position,r=e.normal,o=e.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new _r(new Float32Array(4*i.count),4));const l=this.getAttribute("tangent"),u=[],d=[];for(let R=0;R<i.count;R++)u[R]=new pt,d[R]=new pt;const f=new pt,g=new pt,y=new pt,x=new xn,E=new xn,T=new xn,C=new pt,S=new pt;function b(R,w,M){f.fromBufferAttribute(i,R),g.fromBufferAttribute(i,w),y.fromBufferAttribute(i,M),x.fromBufferAttribute(o,R),E.fromBufferAttribute(o,w),T.fromBufferAttribute(o,M),g.sub(f),y.sub(f),E.sub(x),T.sub(x);const P=1/(E.x*T.y-T.x*E.y);isFinite(P)&&(C.copy(g).multiplyScalar(T.y).addScaledVector(y,-E.y).multiplyScalar(P),S.copy(y).multiplyScalar(E.x).addScaledVector(g,-T.x).multiplyScalar(P),u[R].add(C),u[w].add(C),u[M].add(C),d[R].add(S),d[w].add(S),d[M].add(S))}let O=this.groups;O.length===0&&(O=[{start:0,count:t.count}]);for(let R=0,w=O.length;R<w;++R){const M=O[R],P=M.start,z=M.count;for(let V=P,yt=P+z;V<yt;V+=3)b(t.getX(V+0),t.getX(V+1),t.getX(V+2))}const N=new pt,U=new pt,j=new pt,G=new pt;function D(R){j.fromBufferAttribute(r,R),G.copy(j);const w=u[R];N.copy(w),N.sub(j.multiplyScalar(j.dot(w))).normalize(),U.crossVectors(G,w);const P=U.dot(d[R])<0?-1:1;l.setXYZW(R,N.x,N.y,N.z,P)}for(let R=0,w=O.length;R<w;++R){const M=O[R],P=M.start,z=M.count;for(let V=P,yt=P+z;V<yt;V+=3)D(t.getX(V+0)),D(t.getX(V+1)),D(t.getX(V+2))}}computeVertexNormals(){const t=this.index,e=this.getAttribute("position");if(e!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new _r(new Float32Array(e.count*3),3),this.setAttribute("normal",i);else for(let x=0,E=i.count;x<E;x++)i.setXYZ(x,0,0,0);const r=new pt,o=new pt,l=new pt,u=new pt,d=new pt,f=new pt,g=new pt,y=new pt;if(t)for(let x=0,E=t.count;x<E;x+=3){const T=t.getX(x+0),C=t.getX(x+1),S=t.getX(x+2);r.fromBufferAttribute(e,T),o.fromBufferAttribute(e,C),l.fromBufferAttribute(e,S),g.subVectors(l,o),y.subVectors(r,o),g.cross(y),u.fromBufferAttribute(i,T),d.fromBufferAttribute(i,C),f.fromBufferAttribute(i,S),u.add(g),d.add(g),f.add(g),i.setXYZ(T,u.x,u.y,u.z),i.setXYZ(C,d.x,d.y,d.z),i.setXYZ(S,f.x,f.y,f.z)}else for(let x=0,E=e.count;x<E;x+=3)r.fromBufferAttribute(e,x+0),o.fromBufferAttribute(e,x+1),l.fromBufferAttribute(e,x+2),g.subVectors(l,o),y.subVectors(r,o),g.cross(y),i.setXYZ(x+0,g.x,g.y,g.z),i.setXYZ(x+1,g.x,g.y,g.z),i.setXYZ(x+2,g.x,g.y,g.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const t=this.attributes.normal;for(let e=0,i=t.count;e<i;e++)gi.fromBufferAttribute(t,e),gi.normalize(),t.setXYZ(e,gi.x,gi.y,gi.z)}toNonIndexed(){function t(u,d){const f=u.array,g=u.itemSize,y=u.normalized,x=new f.constructor(d.length*g);let E=0,T=0;for(let C=0,S=d.length;C<S;C++){u.isInterleavedBufferAttribute?E=d[C]*u.data.stride+u.offset:E=d[C]*g;for(let b=0;b<g;b++)x[T++]=f[E++]}return new _r(x,g,y)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const e=new Nr,i=this.index.array,r=this.attributes;for(const u in r){const d=r[u],f=t(d,i);e.setAttribute(u,f)}const o=this.morphAttributes;for(const u in o){const d=[],f=o[u];for(let g=0,y=f.length;g<y;g++){const x=f[g],E=t(x,i);d.push(E)}e.morphAttributes[u]=d}e.morphTargetsRelative=this.morphTargetsRelative;const l=this.groups;for(let u=0,d=l.length;u<d;u++){const f=l[u];e.addGroup(f.start,f.count,f.materialIndex)}return e}toJSON(){const t={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,this.name!==""&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),this.parameters!==void 0){const d=this.parameters;for(const f in d)d[f]!==void 0&&(t[f]=d[f]);return t}t.data={attributes:{}};const e=this.index;e!==null&&(t.data.index={type:e.array.constructor.name,array:Array.prototype.slice.call(e.array)});const i=this.attributes;for(const d in i){const f=i[d];t.data.attributes[d]=f.toJSON(t.data)}const r={};let o=!1;for(const d in this.morphAttributes){const f=this.morphAttributes[d],g=[];for(let y=0,x=f.length;y<x;y++){const E=f[y];g.push(E.toJSON(t.data))}g.length>0&&(r[d]=g,o=!0)}o&&(t.data.morphAttributes=r,t.data.morphTargetsRelative=this.morphTargetsRelative);const l=this.groups;l.length>0&&(t.data.groups=JSON.parse(JSON.stringify(l)));const u=this.boundingSphere;return u!==null&&(t.data.boundingSphere=u.toJSON()),t}clone(){return new this.constructor().copy(this)}copy(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const e={};this.name=t.name;const i=t.index;i!==null&&this.setIndex(i.clone());const r=t.attributes;for(const f in r){const g=r[f];this.setAttribute(f,g.clone(e))}const o=t.morphAttributes;for(const f in o){const g=[],y=o[f];for(let x=0,E=y.length;x<E;x++)g.push(y[x].clone(e));this.morphAttributes[f]=g}this.morphTargetsRelative=t.morphTargetsRelative;const l=t.groups;for(let f=0,g=l.length;f<g;f++){const y=l[f];this.addGroup(y.start,y.count,y.materialIndex)}const u=t.boundingBox;u!==null&&(this.boundingBox=u.clone());const d=t.boundingSphere;return d!==null&&(this.boundingSphere=d.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const jw=new Xn,zo=new sC,nm=new Dp,zw=new pt,im=new pt,sm=new pt,rm=new pt,Lv=new pt,am=new pt,Hw=new pt,om=new pt;class gr extends Ji{constructor(t=new Nr,e=new V_){super(),this.isMesh=!0,this.type="Mesh",this.geometry=t,this.material=e,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),t.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),t.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}updateMorphTargets(){const e=this.geometry.morphAttributes,i=Object.keys(e);if(i.length>0){const r=e[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,l=r.length;o<l;o++){const u=r[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[u]=o}}}}getVertexPosition(t,e){const i=this.geometry,r=i.attributes.position,o=i.morphAttributes.position,l=i.morphTargetsRelative;e.fromBufferAttribute(r,t);const u=this.morphTargetInfluences;if(o&&u){am.set(0,0,0);for(let d=0,f=o.length;d<f;d++){const g=u[d],y=o[d];g!==0&&(Lv.fromBufferAttribute(y,t),l?am.addScaledVector(Lv,g):am.addScaledVector(Lv.sub(e),g))}e.add(am)}return e}raycast(t,e){const i=this.geometry,r=this.material,o=this.matrixWorld;r!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),nm.copy(i.boundingSphere),nm.applyMatrix4(o),zo.copy(t.ray).recast(t.near),!(nm.containsPoint(zo.origin)===!1&&(zo.intersectSphere(nm,zw)===null||zo.origin.distanceToSquared(zw)>(t.far-t.near)**2))&&(jw.copy(o).invert(),zo.copy(t.ray).applyMatrix4(jw),!(i.boundingBox!==null&&zo.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(t,e,zo)))}_computeIntersections(t,e,i){let r;const o=this.geometry,l=this.material,u=o.index,d=o.attributes.position,f=o.attributes.uv,g=o.attributes.uv1,y=o.attributes.normal,x=o.groups,E=o.drawRange;if(u!==null)if(Array.isArray(l))for(let T=0,C=x.length;T<C;T++){const S=x[T],b=l[S.materialIndex],O=Math.max(S.start,E.start),N=Math.min(u.count,Math.min(S.start+S.count,E.start+E.count));for(let U=O,j=N;U<j;U+=3){const G=u.getX(U),D=u.getX(U+1),R=u.getX(U+2);r=lm(this,b,t,i,f,g,y,G,D,R),r&&(r.faceIndex=Math.floor(U/3),r.face.materialIndex=S.materialIndex,e.push(r))}}else{const T=Math.max(0,E.start),C=Math.min(u.count,E.start+E.count);for(let S=T,b=C;S<b;S+=3){const O=u.getX(S),N=u.getX(S+1),U=u.getX(S+2);r=lm(this,l,t,i,f,g,y,O,N,U),r&&(r.faceIndex=Math.floor(S/3),e.push(r))}}else if(d!==void 0)if(Array.isArray(l))for(let T=0,C=x.length;T<C;T++){const S=x[T],b=l[S.materialIndex],O=Math.max(S.start,E.start),N=Math.min(d.count,Math.min(S.start+S.count,E.start+E.count));for(let U=O,j=N;U<j;U+=3){const G=U,D=U+1,R=U+2;r=lm(this,b,t,i,f,g,y,G,D,R),r&&(r.faceIndex=Math.floor(U/3),r.face.materialIndex=S.materialIndex,e.push(r))}}else{const T=Math.max(0,E.start),C=Math.min(d.count,E.start+E.count);for(let S=T,b=C;S<b;S+=3){const O=S,N=S+1,U=S+2;r=lm(this,l,t,i,f,g,y,O,N,U),r&&(r.faceIndex=Math.floor(S/3),e.push(r))}}}}function wF(n,t,e,i,r,o,l,u){let d;if(t.side===Qi?d=i.intersectTriangle(l,o,r,!0,u):d=i.intersectTriangle(r,o,l,t.side===ao,u),d===null)return null;om.copy(u),om.applyMatrix4(n.matrixWorld);const f=e.ray.origin.distanceTo(om);return f<e.near||f>e.far?null:{distance:f,point:om.clone(),object:n}}function lm(n,t,e,i,r,o,l,u,d,f){n.getVertexPosition(u,im),n.getVertexPosition(d,sm),n.getVertexPosition(f,rm);const g=wF(n,t,e,i,im,sm,rm,Hw);if(g){const y=new pt;zs.getBarycoord(Hw,im,sm,rm,y),r&&(g.uv=zs.getInterpolatedAttribute(r,u,d,f,y,new xn)),o&&(g.uv1=zs.getInterpolatedAttribute(o,u,d,f,y,new xn)),l&&(g.normal=zs.getInterpolatedAttribute(l,u,d,f,y,new pt),g.normal.dot(i.direction)>0&&g.normal.multiplyScalar(-1));const x={a:u,b:d,c:f,normal:new pt,materialIndex:0};zs.getNormal(im,sm,rm,x.normal),g.face=x,g.barycoord=y}return g}class yd extends Nr{constructor(t=1,e=1,i=1,r=1,o=1,l=1){super(),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:i,widthSegments:r,heightSegments:o,depthSegments:l};const u=this;r=Math.floor(r),o=Math.floor(o),l=Math.floor(l);const d=[],f=[],g=[],y=[];let x=0,E=0;T("z","y","x",-1,-1,i,e,t,l,o,0),T("z","y","x",1,-1,i,e,-t,l,o,1),T("x","z","y",1,1,t,i,e,r,l,2),T("x","z","y",1,-1,t,i,-e,r,l,3),T("x","y","z",1,-1,t,e,i,r,o,4),T("x","y","z",-1,-1,t,e,-i,r,o,5),this.setIndex(d),this.setAttribute("position",new qs(f,3)),this.setAttribute("normal",new qs(g,3)),this.setAttribute("uv",new qs(y,2));function T(C,S,b,O,N,U,j,G,D,R,w){const M=U/D,P=j/R,z=U/2,V=j/2,yt=G/2,gt=D+1,Y=R+1;let Z=0,Q=0;const Rt=new pt;for(let W=0;W<Y;W++){const at=W*P-V;for(let wt=0;wt<gt;wt++){const Et=wt*M-z;Rt[C]=Et*O,Rt[S]=at*N,Rt[b]=yt,f.push(Rt.x,Rt.y,Rt.z),Rt[C]=0,Rt[S]=0,Rt[b]=G>0?1:-1,g.push(Rt.x,Rt.y,Rt.z),y.push(wt/D),y.push(1-W/R),Z+=1}}for(let W=0;W<R;W++)for(let at=0;at<D;at++){const wt=x+at+gt*W,Et=x+at+gt*(W+1),it=x+(at+1)+gt*(W+1),St=x+(at+1)+gt*W;d.push(wt,Et,St),d.push(Et,it,St),Q+=6}u.addGroup(E,Q,w),E+=Q,x+=Z}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new yd(t.width,t.height,t.depth,t.widthSegments,t.heightSegments,t.depthSegments)}}function zc(n){const t={};for(const e in n){t[e]={};for(const i in n[e]){const r=n[e][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),t[e][i]=null):t[e][i]=r.clone():Array.isArray(r)?t[e][i]=r.slice():t[e][i]=r}}return t}function zi(n){const t={};for(let e=0;e<n.length;e++){const i=zc(n[e]);for(const r in i)t[r]=i[r]}return t}function AF(n){const t=[];for(let e=0;e<n.length;e++)t.push(n[e].clone());return t}function cC(n){const t=n.getRenderTarget();return t===null?n.outputColorSpace:t.isXRRenderTarget===!0?t.texture.colorSpace:an.workingColorSpace}const MF={clone:zc,merge:zi};var RF=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,CF=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class oo extends vd{constructor(t){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=RF,this.fragmentShader=CF,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,t!==void 0&&this.setValues(t)}copy(t){return super.copy(t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=zc(t.uniforms),this.uniformsGroups=AF(t.uniformsGroups),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.fog=t.fog,this.lights=t.lights,this.clipping=t.clipping,this.extensions=Object.assign({},t.extensions),this.glslVersion=t.glslVersion,this}toJSON(t){const e=super.toJSON(t);e.glslVersion=this.glslVersion,e.uniforms={};for(const r in this.uniforms){const l=this.uniforms[r].value;l&&l.isTexture?e.uniforms[r]={type:"t",value:l.toJSON(t).uuid}:l&&l.isColor?e.uniforms[r]={type:"c",value:l.getHex()}:l&&l.isVector2?e.uniforms[r]={type:"v2",value:l.toArray()}:l&&l.isVector3?e.uniforms[r]={type:"v3",value:l.toArray()}:l&&l.isVector4?e.uniforms[r]={type:"v4",value:l.toArray()}:l&&l.isMatrix3?e.uniforms[r]={type:"m3",value:l.toArray()}:l&&l.isMatrix4?e.uniforms[r]={type:"m4",value:l.toArray()}:e.uniforms[r]={value:l}}Object.keys(this.defines).length>0&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader,e.lights=this.lights,e.clipping=this.clipping;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(e.extensions=i),e}}class uC extends Ji{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Xn,this.projectionMatrix=new Xn,this.projectionMatrixInverse=new Xn,this.coordinateSystem=aa}copy(t,e){return super.copy(t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this.coordinateSystem=t.coordinateSystem,this}getWorldDirection(t){return super.getWorldDirection(t).negate()}updateMatrixWorld(t){super.updateMatrixWorld(t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(t,e){super.updateWorldMatrix(t,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const qa=new pt,Gw=new xn,Ww=new xn;class Cs extends uC{constructor(t=50,e=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=t,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=e,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=t.view===null?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this}setFocalLength(t){const e=.5*this.getFilmHeight()/t;this.fov=fx*2*Math.atan(e),this.updateProjectionMatrix()}getFocalLength(){const t=Math.tan(fv*.5*this.fov);return .5*this.getFilmHeight()/t}getEffectiveFOV(){return fx*2*Math.atan(Math.tan(fv*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(t,e,i){qa.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),e.set(qa.x,qa.y).multiplyScalar(-t/qa.z),qa.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(qa.x,qa.y).multiplyScalar(-t/qa.z)}getViewSize(t,e){return this.getViewBounds(t,Gw,Ww),e.subVectors(Ww,Gw)}setViewOffset(t,e,i,r,o,l){this.aspect=t/e,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=i,this.view.offsetY=r,this.view.width=o,this.view.height=l,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=this.near;let e=t*Math.tan(fv*.5*this.fov)/this.zoom,i=2*e,r=this.aspect*i,o=-.5*r;const l=this.view;if(this.view!==null&&this.view.enabled){const d=l.fullWidth,f=l.fullHeight;o+=l.offsetX*r/d,e-=l.offsetY*i/f,r*=l.width/d,i*=l.height/f}const u=this.filmOffset;u!==0&&(o+=t*u/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+r,e,e-i,t,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,this.view!==null&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}const mc=-90,pc=1;class NF extends Ji{constructor(t,e,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new Cs(mc,pc,t,e);r.layers=this.layers,this.add(r);const o=new Cs(mc,pc,t,e);o.layers=this.layers,this.add(o);const l=new Cs(mc,pc,t,e);l.layers=this.layers,this.add(l);const u=new Cs(mc,pc,t,e);u.layers=this.layers,this.add(u);const d=new Cs(mc,pc,t,e);d.layers=this.layers,this.add(d);const f=new Cs(mc,pc,t,e);f.layers=this.layers,this.add(f)}updateCoordinateSystem(){const t=this.coordinateSystem,e=this.children.concat(),[i,r,o,l,u,d]=e;for(const f of e)this.remove(f);if(t===aa)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),o.up.set(0,0,-1),o.lookAt(0,1,0),l.up.set(0,0,1),l.lookAt(0,-1,0),u.up.set(0,1,0),u.lookAt(0,0,1),d.up.set(0,1,0),d.lookAt(0,0,-1);else if(t===Zm)i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),o.up.set(0,0,1),o.lookAt(0,1,0),l.up.set(0,0,-1),l.lookAt(0,-1,0),u.up.set(0,-1,0),u.lookAt(0,0,1),d.up.set(0,-1,0),d.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+t);for(const f of e)this.add(f),f.updateMatrixWorld()}update(t,e){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:r}=this;this.coordinateSystem!==t.coordinateSystem&&(this.coordinateSystem=t.coordinateSystem,this.updateCoordinateSystem());const[o,l,u,d,f,g]=this.children,y=t.getRenderTarget(),x=t.getActiveCubeFace(),E=t.getActiveMipmapLevel(),T=t.xr.enabled;t.xr.enabled=!1;const C=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,t.setRenderTarget(i,0,r),t.render(e,o),t.setRenderTarget(i,1,r),t.render(e,l),t.setRenderTarget(i,2,r),t.render(e,u),t.setRenderTarget(i,3,r),t.render(e,d),t.setRenderTarget(i,4,r),t.render(e,f),i.texture.generateMipmaps=C,t.setRenderTarget(i,5,r),t.render(e,g),t.setRenderTarget(y,x,E),t.xr.enabled=T,i.texture.needsPMREMUpdate=!0}}class hC extends Zi{constructor(t=[],e=Bc,i,r,o,l,u,d,f,g){super(t,e,i,r,o,l,u,d,f,g),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(t){this.image=t}}class DF extends cl{constructor(t=1,e={}){super(t,t,e),this.isWebGLCubeRenderTarget=!0;const i={width:t,height:t,depth:1},r=[i,i,i,i,i,i];this.texture=new hC(r),this._setTextureOptions(e),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(t,e){this.texture.type=e.type,this.texture.colorSpace=e.colorSpace,this.texture.generateMipmaps=e.generateMipmaps,this.texture.minFilter=e.minFilter,this.texture.magFilter=e.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new yd(5,5,5),o=new oo({name:"CubemapFromEquirect",uniforms:zc(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:Qi,blending:Qa});o.uniforms.tEquirect.value=e;const l=new gr(r,o),u=e.minFilter;return e.minFilter===nl&&(e.minFilter=pr),new NF(1,10,this).update(t,l),e.minFilter=u,l.geometry.dispose(),l.material.dispose(),this}clear(t,e=!0,i=!0,r=!0){const o=t.getRenderTarget();for(let l=0;l<6;l++)t.setRenderTarget(this,l),t.clear(e,i,r);t.setRenderTarget(o)}}class vh extends Ji{constructor(){super(),this.isGroup=!0,this.type="Group"}}const IF={type:"move"};class Ov{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new vh,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new vh,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new pt,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new pt),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new vh,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new pt,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new pt),this._grip}dispatchEvent(t){return this._targetRay!==null&&this._targetRay.dispatchEvent(t),this._grip!==null&&this._grip.dispatchEvent(t),this._hand!==null&&this._hand.dispatchEvent(t),this}connect(t){if(t&&t.hand){const e=this._hand;if(e)for(const i of t.hand.values())this._getHandJoint(e,i)}return this.dispatchEvent({type:"connected",data:t}),this}disconnect(t){return this.dispatchEvent({type:"disconnected",data:t}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(t,e,i){let r=null,o=null,l=null;const u=this._targetRay,d=this._grip,f=this._hand;if(t&&e.session.visibilityState!=="visible-blurred"){if(f&&t.hand){l=!0;for(const C of t.hand.values()){const S=e.getJointPose(C,i),b=this._getHandJoint(f,C);S!==null&&(b.matrix.fromArray(S.transform.matrix),b.matrix.decompose(b.position,b.rotation,b.scale),b.matrixWorldNeedsUpdate=!0,b.jointRadius=S.radius),b.visible=S!==null}const g=f.joints["index-finger-tip"],y=f.joints["thumb-tip"],x=g.position.distanceTo(y.position),E=.02,T=.005;f.inputState.pinching&&x>E+T?(f.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:t.handedness,target:this})):!f.inputState.pinching&&x<=E-T&&(f.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:t.handedness,target:this}))}else d!==null&&t.gripSpace&&(o=e.getPose(t.gripSpace,i),o!==null&&(d.matrix.fromArray(o.transform.matrix),d.matrix.decompose(d.position,d.rotation,d.scale),d.matrixWorldNeedsUpdate=!0,o.linearVelocity?(d.hasLinearVelocity=!0,d.linearVelocity.copy(o.linearVelocity)):d.hasLinearVelocity=!1,o.angularVelocity?(d.hasAngularVelocity=!0,d.angularVelocity.copy(o.angularVelocity)):d.hasAngularVelocity=!1));u!==null&&(r=e.getPose(t.targetRaySpace,i),r===null&&o!==null&&(r=o),r!==null&&(u.matrix.fromArray(r.transform.matrix),u.matrix.decompose(u.position,u.rotation,u.scale),u.matrixWorldNeedsUpdate=!0,r.linearVelocity?(u.hasLinearVelocity=!0,u.linearVelocity.copy(r.linearVelocity)):u.hasLinearVelocity=!1,r.angularVelocity?(u.hasAngularVelocity=!0,u.angularVelocity.copy(r.angularVelocity)):u.hasAngularVelocity=!1,this.dispatchEvent(IF)))}return u!==null&&(u.visible=r!==null),d!==null&&(d.visible=o!==null),f!==null&&(f.visible=l!==null),this}_getHandJoint(t,e){if(t.joints[e.jointName]===void 0){const i=new vh;i.matrixAutoUpdate=!1,i.visible=!1,t.joints[e.jointName]=i,t.add(i)}return t.joints[e.jointName]}}class PF extends Ji{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new ma,this.environmentIntensity=1,this.environmentRotation=new ma,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(t,e){return super.copy(t,e),t.background!==null&&(this.background=t.background.clone()),t.environment!==null&&(this.environment=t.environment.clone()),t.fog!==null&&(this.fog=t.fog.clone()),this.backgroundBlurriness=t.backgroundBlurriness,this.backgroundIntensity=t.backgroundIntensity,this.backgroundRotation.copy(t.backgroundRotation),this.environmentIntensity=t.environmentIntensity,this.environmentRotation.copy(t.environmentRotation),t.overrideMaterial!==null&&(this.overrideMaterial=t.overrideMaterial.clone()),this.matrixAutoUpdate=t.matrixAutoUpdate,this}toJSON(t){const e=super.toJSON(t);return this.fog!==null&&(e.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(e.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(e.object.backgroundIntensity=this.backgroundIntensity),e.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(e.object.environmentIntensity=this.environmentIntensity),e.object.environmentRotation=this.environmentRotation.toArray(),e}}const Uv=new pt,LF=new pt,OF=new Ce;class Xo{constructor(t=new pt(1,0,0),e=0){this.isPlane=!0,this.normal=t,this.constant=e}set(t,e){return this.normal.copy(t),this.constant=e,this}setComponents(t,e,i,r){return this.normal.set(t,e,i),this.constant=r,this}setFromNormalAndCoplanarPoint(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this}setFromCoplanarPoints(t,e,i){const r=Uv.subVectors(i,e).cross(LF.subVectors(t,e)).normalize();return this.setFromNormalAndCoplanarPoint(r,t),this}copy(t){return this.normal.copy(t.normal),this.constant=t.constant,this}normalize(){const t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(t){return this.normal.dot(t)+this.constant}distanceToSphere(t){return this.distanceToPoint(t.center)-t.radius}projectPoint(t,e){return e.copy(t).addScaledVector(this.normal,-this.distanceToPoint(t))}intersectLine(t,e){const i=t.delta(Uv),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(t.start)===0?e.copy(t.start):null;const o=-(t.start.dot(this.normal)+this.constant)/r;return o<0||o>1?null:e.copy(t.start).addScaledVector(i,o)}intersectsLine(t){const e=this.distanceToPoint(t.start),i=this.distanceToPoint(t.end);return e<0&&i>0||i<0&&e>0}intersectsBox(t){return t.intersectsPlane(this)}intersectsSphere(t){return t.intersectsPlane(this)}coplanarPoint(t){return t.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(t,e){const i=e||OF.getNormalMatrix(t),r=this.coplanarPoint(Uv).applyMatrix4(t),o=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(o),this}translate(t){return this.constant-=t.dot(this.normal),this}equals(t){return t.normal.equals(this.normal)&&t.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Ho=new Dp,UF=new xn(.5,.5),cm=new pt;class dC{constructor(t=new Xo,e=new Xo,i=new Xo,r=new Xo,o=new Xo,l=new Xo){this.planes=[t,e,i,r,o,l]}set(t,e,i,r,o,l){const u=this.planes;return u[0].copy(t),u[1].copy(e),u[2].copy(i),u[3].copy(r),u[4].copy(o),u[5].copy(l),this}copy(t){const e=this.planes;for(let i=0;i<6;i++)e[i].copy(t.planes[i]);return this}setFromProjectionMatrix(t,e=aa){const i=this.planes,r=t.elements,o=r[0],l=r[1],u=r[2],d=r[3],f=r[4],g=r[5],y=r[6],x=r[7],E=r[8],T=r[9],C=r[10],S=r[11],b=r[12],O=r[13],N=r[14],U=r[15];if(i[0].setComponents(d-o,x-f,S-E,U-b).normalize(),i[1].setComponents(d+o,x+f,S+E,U+b).normalize(),i[2].setComponents(d+l,x+g,S+T,U+O).normalize(),i[3].setComponents(d-l,x-g,S-T,U-O).normalize(),i[4].setComponents(d-u,x-y,S-C,U-N).normalize(),e===aa)i[5].setComponents(d+u,x+y,S+C,U+N).normalize();else if(e===Zm)i[5].setComponents(u,y,C,N).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+e);return this}intersectsObject(t){if(t.boundingSphere!==void 0)t.boundingSphere===null&&t.computeBoundingSphere(),Ho.copy(t.boundingSphere).applyMatrix4(t.matrixWorld);else{const e=t.geometry;e.boundingSphere===null&&e.computeBoundingSphere(),Ho.copy(e.boundingSphere).applyMatrix4(t.matrixWorld)}return this.intersectsSphere(Ho)}intersectsSprite(t){Ho.center.set(0,0,0);const e=UF.distanceTo(t.center);return Ho.radius=.7071067811865476+e,Ho.applyMatrix4(t.matrixWorld),this.intersectsSphere(Ho)}intersectsSphere(t){const e=this.planes,i=t.center,r=-t.radius;for(let o=0;o<6;o++)if(e[o].distanceToPoint(i)<r)return!1;return!0}intersectsBox(t){const e=this.planes;for(let i=0;i<6;i++){const r=e[i];if(cm.x=r.normal.x>0?t.max.x:t.min.x,cm.y=r.normal.y>0?t.max.y:t.min.y,cm.z=r.normal.z>0?t.max.z:t.min.z,r.distanceToPoint(cm)<0)return!1}return!0}containsPoint(t){const e=this.planes;for(let i=0;i<6;i++)if(e[i].distanceToPoint(t)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}class fC extends vd{constructor(t){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new mn(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this.fog=t.fog,this}}const tp=new pt,ep=new pt,qw=new Xn,mh=new sC,um=new Dp,Vv=new pt,Xw=new pt;class VF extends Ji{constructor(t=new Nr,e=new fC){super(),this.isLine=!0,this.type="Line",this.geometry=t,this.material=e,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}computeLineDistances(){const t=this.geometry;if(t.index===null){const e=t.attributes.position,i=[0];for(let r=1,o=e.count;r<o;r++)tp.fromBufferAttribute(e,r-1),ep.fromBufferAttribute(e,r),i[r]=i[r-1],i[r]+=tp.distanceTo(ep);t.setAttribute("lineDistance",new qs(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(t,e){const i=this.geometry,r=this.matrixWorld,o=t.params.Line.threshold,l=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),um.copy(i.boundingSphere),um.applyMatrix4(r),um.radius+=o,t.ray.intersectsSphere(um)===!1)return;qw.copy(r).invert(),mh.copy(t.ray).applyMatrix4(qw);const u=o/((this.scale.x+this.scale.y+this.scale.z)/3),d=u*u,f=this.isLineSegments?2:1,g=i.index,x=i.attributes.position;if(g!==null){const E=Math.max(0,l.start),T=Math.min(g.count,l.start+l.count);for(let C=E,S=T-1;C<S;C+=f){const b=g.getX(C),O=g.getX(C+1),N=hm(this,t,mh,d,b,O,C);N&&e.push(N)}if(this.isLineLoop){const C=g.getX(T-1),S=g.getX(E),b=hm(this,t,mh,d,C,S,T-1);b&&e.push(b)}}else{const E=Math.max(0,l.start),T=Math.min(x.count,l.start+l.count);for(let C=E,S=T-1;C<S;C+=f){const b=hm(this,t,mh,d,C,C+1,C);b&&e.push(b)}if(this.isLineLoop){const C=hm(this,t,mh,d,T-1,E,T-1);C&&e.push(C)}}}updateMorphTargets(){const e=this.geometry.morphAttributes,i=Object.keys(e);if(i.length>0){const r=e[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,l=r.length;o<l;o++){const u=r[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[u]=o}}}}}function hm(n,t,e,i,r,o,l){const u=n.geometry.attributes.position;if(tp.fromBufferAttribute(u,r),ep.fromBufferAttribute(u,o),e.distanceSqToSegment(tp,ep,Vv,Xw)>i)return;Vv.applyMatrix4(n.matrixWorld);const f=t.ray.origin.distanceTo(Vv);if(!(f<t.near||f>t.far))return{distance:f,point:Xw.clone().applyMatrix4(n.matrixWorld),index:l,face:null,faceIndex:null,barycoord:null,object:n}}class mC extends Zi{constructor(t,e,i=ll,r,o,l,u=Ws,d=Ws,f,g=qh,y=1){if(g!==qh&&g!==Xh)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const x={width:t,height:e,depth:y};super(x,r,o,l,u,d,g,i,f),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(t){return super.copy(t),this.source=new U_(Object.assign({},t.image)),this.compareFunction=t.compareFunction,this}toJSON(t){const e=super.toJSON(t);return this.compareFunction!==null&&(e.compareFunction=this.compareFunction),e}}class Ip extends Nr{constructor(t=1,e=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:i,heightSegments:r};const o=t/2,l=e/2,u=Math.floor(i),d=Math.floor(r),f=u+1,g=d+1,y=t/u,x=e/d,E=[],T=[],C=[],S=[];for(let b=0;b<g;b++){const O=b*x-l;for(let N=0;N<f;N++){const U=N*y-o;T.push(U,-O,0),C.push(0,0,1),S.push(N/u),S.push(1-b/d)}}for(let b=0;b<d;b++)for(let O=0;O<u;O++){const N=O+f*b,U=O+f*(b+1),j=O+1+f*(b+1),G=O+1+f*b;E.push(N,U,G),E.push(U,j,G)}this.setIndex(E),this.setAttribute("position",new qs(T,3)),this.setAttribute("normal",new qs(C,3)),this.setAttribute("uv",new qs(S,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new Ip(t.width,t.height,t.widthSegments,t.heightSegments)}}class F_ extends Nr{constructor(t=1,e=32,i=16,r=0,o=Math.PI*2,l=0,u=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:i,phiStart:r,phiLength:o,thetaStart:l,thetaLength:u},e=Math.max(3,Math.floor(e)),i=Math.max(2,Math.floor(i));const d=Math.min(l+u,Math.PI);let f=0;const g=[],y=new pt,x=new pt,E=[],T=[],C=[],S=[];for(let b=0;b<=i;b++){const O=[],N=b/i;let U=0;b===0&&l===0?U=.5/e:b===i&&d===Math.PI&&(U=-.5/e);for(let j=0;j<=e;j++){const G=j/e;y.x=-t*Math.cos(r+G*o)*Math.sin(l+N*u),y.y=t*Math.cos(l+N*u),y.z=t*Math.sin(r+G*o)*Math.sin(l+N*u),T.push(y.x,y.y,y.z),x.copy(y).normalize(),C.push(x.x,x.y,x.z),S.push(G+U,1-N),O.push(f++)}g.push(O)}for(let b=0;b<i;b++)for(let O=0;O<e;O++){const N=g[b][O+1],U=g[b][O],j=g[b+1][O],G=g[b+1][O+1];(b!==0||l>0)&&E.push(N,U,G),(b!==i-1||d<Math.PI)&&E.push(U,j,G)}this.setIndex(E),this.setAttribute("position",new qs(T,3)),this.setAttribute("normal",new qs(C,3)),this.setAttribute("uv",new qs(S,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new F_(t.radius,t.widthSegments,t.heightSegments,t.phiStart,t.phiLength,t.thetaStart,t.thetaLength)}}class FF extends vd{constructor(t){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=X5,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(t)}copy(t){return super.copy(t),this.depthPacking=t.depthPacking,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this}}class BF extends vd{constructor(t){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(t)}copy(t){return super.copy(t),this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this}}class kF extends uC{constructor(t=-1,e=1,i=1,r=-1,o=.1,l=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=i,this.bottom=r,this.near=o,this.far=l,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=t.view===null?null:Object.assign({},t.view),this}setViewOffset(t,e,i,r,o,l){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=i,this.view.offsetY=r,this.view.width=o,this.view.height=l,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let o=i-t,l=i+t,u=r+e,d=r-e;if(this.view!==null&&this.view.enabled){const f=(this.right-this.left)/this.view.fullWidth/this.zoom,g=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=f*this.view.offsetX,l=o+f*this.view.width,u-=g*this.view.offsetY,d=u-g*this.view.height}this.projectionMatrix.makeOrthographic(o,l,u,d,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,this.view!==null&&(e.object.view=Object.assign({},this.view)),e}}class jF extends Cs{constructor(t=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=t}}function Yw(n,t,e,i){const r=zF(i);switch(e){case $R:return n*t;case ZR:return n*t/r.components*r.byteLength;case P_:return n*t/r.components*r.byteLength;case JR:return n*t*2/r.components*r.byteLength;case L_:return n*t*2/r.components*r.byteLength;case QR:return n*t*3/r.components*r.byteLength;case Hs:return n*t*4/r.components*r.byteLength;case O_:return n*t*4/r.components*r.byteLength;case Cm:case Nm:return Math.floor((n+3)/4)*Math.floor((t+3)/4)*8;case Dm:case Im:return Math.floor((n+3)/4)*Math.floor((t+3)/4)*16;case zy:case Gy:return Math.max(n,16)*Math.max(t,8)/4;case jy:case Hy:return Math.max(n,8)*Math.max(t,8)/2;case Wy:case qy:return Math.floor((n+3)/4)*Math.floor((t+3)/4)*8;case Xy:return Math.floor((n+3)/4)*Math.floor((t+3)/4)*16;case Yy:return Math.floor((n+3)/4)*Math.floor((t+3)/4)*16;case Ky:return Math.floor((n+4)/5)*Math.floor((t+3)/4)*16;case $y:return Math.floor((n+4)/5)*Math.floor((t+4)/5)*16;case Qy:return Math.floor((n+5)/6)*Math.floor((t+4)/5)*16;case Zy:return Math.floor((n+5)/6)*Math.floor((t+5)/6)*16;case Jy:return Math.floor((n+7)/8)*Math.floor((t+4)/5)*16;case tx:return Math.floor((n+7)/8)*Math.floor((t+5)/6)*16;case ex:return Math.floor((n+7)/8)*Math.floor((t+7)/8)*16;case nx:return Math.floor((n+9)/10)*Math.floor((t+4)/5)*16;case ix:return Math.floor((n+9)/10)*Math.floor((t+5)/6)*16;case sx:return Math.floor((n+9)/10)*Math.floor((t+7)/8)*16;case rx:return Math.floor((n+9)/10)*Math.floor((t+9)/10)*16;case ax:return Math.floor((n+11)/12)*Math.floor((t+9)/10)*16;case ox:return Math.floor((n+11)/12)*Math.floor((t+11)/12)*16;case Pm:case lx:case cx:return Math.ceil(n/4)*Math.ceil(t/4)*16;case tC:case ux:return Math.ceil(n/4)*Math.ceil(t/4)*8;case hx:case dx:return Math.ceil(n/4)*Math.ceil(t/4)*16}throw new Error(`Unable to determine texture byte length for ${e} format.`)}function zF(n){switch(n){case fa:case XR:return{byteLength:1,components:1};case Gh:case YR:case fd:return{byteLength:2,components:1};case D_:case I_:return{byteLength:2,components:4};case ll:case N_:case ra:return{byteLength:4,components:1};case KR:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${n}.`)}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:C_}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=C_);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function pC(){let n=null,t=!1,e=null,i=null;function r(o,l){e(o,l),i=n.requestAnimationFrame(r)}return{start:function(){t!==!0&&e!==null&&(i=n.requestAnimationFrame(r),t=!0)},stop:function(){n.cancelAnimationFrame(i),t=!1},setAnimationLoop:function(o){e=o},setContext:function(o){n=o}}}function HF(n){const t=new WeakMap;function e(u,d){const f=u.array,g=u.usage,y=f.byteLength,x=n.createBuffer();n.bindBuffer(d,x),n.bufferData(d,f,g),u.onUploadCallback();let E;if(f instanceof Float32Array)E=n.FLOAT;else if(typeof Float16Array<"u"&&f instanceof Float16Array)E=n.HALF_FLOAT;else if(f instanceof Uint16Array)u.isFloat16BufferAttribute?E=n.HALF_FLOAT:E=n.UNSIGNED_SHORT;else if(f instanceof Int16Array)E=n.SHORT;else if(f instanceof Uint32Array)E=n.UNSIGNED_INT;else if(f instanceof Int32Array)E=n.INT;else if(f instanceof Int8Array)E=n.BYTE;else if(f instanceof Uint8Array)E=n.UNSIGNED_BYTE;else if(f instanceof Uint8ClampedArray)E=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+f);return{buffer:x,type:E,bytesPerElement:f.BYTES_PER_ELEMENT,version:u.version,size:y}}function i(u,d,f){const g=d.array,y=d.updateRanges;if(n.bindBuffer(f,u),y.length===0)n.bufferSubData(f,0,g);else{y.sort((E,T)=>E.start-T.start);let x=0;for(let E=1;E<y.length;E++){const T=y[x],C=y[E];C.start<=T.start+T.count+1?T.count=Math.max(T.count,C.start+C.count-T.start):(++x,y[x]=C)}y.length=x+1;for(let E=0,T=y.length;E<T;E++){const C=y[E];n.bufferSubData(f,C.start*g.BYTES_PER_ELEMENT,g,C.start,C.count)}d.clearUpdateRanges()}d.onUploadCallback()}function r(u){return u.isInterleavedBufferAttribute&&(u=u.data),t.get(u)}function o(u){u.isInterleavedBufferAttribute&&(u=u.data);const d=t.get(u);d&&(n.deleteBuffer(d.buffer),t.delete(u))}function l(u,d){if(u.isInterleavedBufferAttribute&&(u=u.data),u.isGLBufferAttribute){const g=t.get(u);(!g||g.version<u.version)&&t.set(u,{buffer:u.buffer,type:u.type,bytesPerElement:u.elementSize,version:u.version});return}const f=t.get(u);if(f===void 0)t.set(u,e(u,d));else if(f.version<u.version){if(f.size!==u.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");i(f.buffer,u,d),f.version=u.version}}return{get:r,remove:o,update:l}}var GF=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,WF=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,qF=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,XF=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,YF=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,KF=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,$F=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,QF=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,ZF=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,JF=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,tB=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,eB=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,nB=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,iB=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,sB=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,rB=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,aB=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,oB=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,lB=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,cB=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,uB=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,hB=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,dB=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,fB=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,mB=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,pB=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,gB=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,vB=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,yB=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,xB=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,_B="gl_FragColor = linearToOutputTexel( gl_FragColor );",bB=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,EB=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,SB=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,TB=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,wB=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,AB=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,MB=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,RB=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,CB=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,NB=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,DB=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,IB=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,PB=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,LB=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,OB=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,UB=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,VB=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,FB=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,BB=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,kB=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,jB=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,zB=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,HB=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,GB=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,WB=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,qB=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,XB=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,YB=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,KB=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,$B=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,QB=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,ZB=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,JB=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,tk=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,ek=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,nk=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,ik=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,sk=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,rk=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,ak=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,ok=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,lk=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,ck=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,uk=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,hk=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,dk=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,fk=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,mk=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,pk=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,gk=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,vk=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,yk=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,xk=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,_k=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,bk=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Ek=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,Sk=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Tk=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,wk=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,Ak=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Mk=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,Rk=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Ck=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Nk=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,Dk=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Ik=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Pk=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Lk=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Ok=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Uk=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Vk=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,Fk=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,Bk=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,kk=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,jk=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,zk=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Hk=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Gk=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Wk=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,qk=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Xk=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Yk=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Kk=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,$k=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,Qk=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Zk=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,Jk=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,tj=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,ej=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,nj=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,ij=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,sj=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,rj=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,aj=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,oj=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,lj=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,cj=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,uj=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,hj=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,dj=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,fj=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,mj=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,pj=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,gj=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vj=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,yj=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,xj=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,_j=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,bj=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Ej=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Ne={alphahash_fragment:GF,alphahash_pars_fragment:WF,alphamap_fragment:qF,alphamap_pars_fragment:XF,alphatest_fragment:YF,alphatest_pars_fragment:KF,aomap_fragment:$F,aomap_pars_fragment:QF,batching_pars_vertex:ZF,batching_vertex:JF,begin_vertex:tB,beginnormal_vertex:eB,bsdfs:nB,iridescence_fragment:iB,bumpmap_pars_fragment:sB,clipping_planes_fragment:rB,clipping_planes_pars_fragment:aB,clipping_planes_pars_vertex:oB,clipping_planes_vertex:lB,color_fragment:cB,color_pars_fragment:uB,color_pars_vertex:hB,color_vertex:dB,common:fB,cube_uv_reflection_fragment:mB,defaultnormal_vertex:pB,displacementmap_pars_vertex:gB,displacementmap_vertex:vB,emissivemap_fragment:yB,emissivemap_pars_fragment:xB,colorspace_fragment:_B,colorspace_pars_fragment:bB,envmap_fragment:EB,envmap_common_pars_fragment:SB,envmap_pars_fragment:TB,envmap_pars_vertex:wB,envmap_physical_pars_fragment:UB,envmap_vertex:AB,fog_vertex:MB,fog_pars_vertex:RB,fog_fragment:CB,fog_pars_fragment:NB,gradientmap_pars_fragment:DB,lightmap_pars_fragment:IB,lights_lambert_fragment:PB,lights_lambert_pars_fragment:LB,lights_pars_begin:OB,lights_toon_fragment:VB,lights_toon_pars_fragment:FB,lights_phong_fragment:BB,lights_phong_pars_fragment:kB,lights_physical_fragment:jB,lights_physical_pars_fragment:zB,lights_fragment_begin:HB,lights_fragment_maps:GB,lights_fragment_end:WB,logdepthbuf_fragment:qB,logdepthbuf_pars_fragment:XB,logdepthbuf_pars_vertex:YB,logdepthbuf_vertex:KB,map_fragment:$B,map_pars_fragment:QB,map_particle_fragment:ZB,map_particle_pars_fragment:JB,metalnessmap_fragment:tk,metalnessmap_pars_fragment:ek,morphinstance_vertex:nk,morphcolor_vertex:ik,morphnormal_vertex:sk,morphtarget_pars_vertex:rk,morphtarget_vertex:ak,normal_fragment_begin:ok,normal_fragment_maps:lk,normal_pars_fragment:ck,normal_pars_vertex:uk,normal_vertex:hk,normalmap_pars_fragment:dk,clearcoat_normal_fragment_begin:fk,clearcoat_normal_fragment_maps:mk,clearcoat_pars_fragment:pk,iridescence_pars_fragment:gk,opaque_fragment:vk,packing:yk,premultiplied_alpha_fragment:xk,project_vertex:_k,dithering_fragment:bk,dithering_pars_fragment:Ek,roughnessmap_fragment:Sk,roughnessmap_pars_fragment:Tk,shadowmap_pars_fragment:wk,shadowmap_pars_vertex:Ak,shadowmap_vertex:Mk,shadowmask_pars_fragment:Rk,skinbase_vertex:Ck,skinning_pars_vertex:Nk,skinning_vertex:Dk,skinnormal_vertex:Ik,specularmap_fragment:Pk,specularmap_pars_fragment:Lk,tonemapping_fragment:Ok,tonemapping_pars_fragment:Uk,transmission_fragment:Vk,transmission_pars_fragment:Fk,uv_pars_fragment:Bk,uv_pars_vertex:kk,uv_vertex:jk,worldpos_vertex:zk,background_vert:Hk,background_frag:Gk,backgroundCube_vert:Wk,backgroundCube_frag:qk,cube_vert:Xk,cube_frag:Yk,depth_vert:Kk,depth_frag:$k,distanceRGBA_vert:Qk,distanceRGBA_frag:Zk,equirect_vert:Jk,equirect_frag:tj,linedashed_vert:ej,linedashed_frag:nj,meshbasic_vert:ij,meshbasic_frag:sj,meshlambert_vert:rj,meshlambert_frag:aj,meshmatcap_vert:oj,meshmatcap_frag:lj,meshnormal_vert:cj,meshnormal_frag:uj,meshphong_vert:hj,meshphong_frag:dj,meshphysical_vert:fj,meshphysical_frag:mj,meshtoon_vert:pj,meshtoon_frag:gj,points_vert:vj,points_frag:yj,shadow_vert:xj,shadow_frag:_j,sprite_vert:bj,sprite_frag:Ej},Wt={common:{diffuse:{value:new mn(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Ce},alphaMap:{value:null},alphaMapTransform:{value:new Ce},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Ce}},envmap:{envMap:{value:null},envMapRotation:{value:new Ce},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Ce}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Ce}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Ce},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Ce},normalScale:{value:new xn(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Ce},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Ce}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Ce}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Ce}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new mn(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new mn(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Ce},alphaTest:{value:0},uvTransform:{value:new Ce}},sprite:{diffuse:{value:new mn(16777215)},opacity:{value:1},center:{value:new xn(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Ce},alphaMap:{value:null},alphaMapTransform:{value:new Ce},alphaTest:{value:0}}},mr={basic:{uniforms:zi([Wt.common,Wt.specularmap,Wt.envmap,Wt.aomap,Wt.lightmap,Wt.fog]),vertexShader:Ne.meshbasic_vert,fragmentShader:Ne.meshbasic_frag},lambert:{uniforms:zi([Wt.common,Wt.specularmap,Wt.envmap,Wt.aomap,Wt.lightmap,Wt.emissivemap,Wt.bumpmap,Wt.normalmap,Wt.displacementmap,Wt.fog,Wt.lights,{emissive:{value:new mn(0)}}]),vertexShader:Ne.meshlambert_vert,fragmentShader:Ne.meshlambert_frag},phong:{uniforms:zi([Wt.common,Wt.specularmap,Wt.envmap,Wt.aomap,Wt.lightmap,Wt.emissivemap,Wt.bumpmap,Wt.normalmap,Wt.displacementmap,Wt.fog,Wt.lights,{emissive:{value:new mn(0)},specular:{value:new mn(1118481)},shininess:{value:30}}]),vertexShader:Ne.meshphong_vert,fragmentShader:Ne.meshphong_frag},standard:{uniforms:zi([Wt.common,Wt.envmap,Wt.aomap,Wt.lightmap,Wt.emissivemap,Wt.bumpmap,Wt.normalmap,Wt.displacementmap,Wt.roughnessmap,Wt.metalnessmap,Wt.fog,Wt.lights,{emissive:{value:new mn(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Ne.meshphysical_vert,fragmentShader:Ne.meshphysical_frag},toon:{uniforms:zi([Wt.common,Wt.aomap,Wt.lightmap,Wt.emissivemap,Wt.bumpmap,Wt.normalmap,Wt.displacementmap,Wt.gradientmap,Wt.fog,Wt.lights,{emissive:{value:new mn(0)}}]),vertexShader:Ne.meshtoon_vert,fragmentShader:Ne.meshtoon_frag},matcap:{uniforms:zi([Wt.common,Wt.bumpmap,Wt.normalmap,Wt.displacementmap,Wt.fog,{matcap:{value:null}}]),vertexShader:Ne.meshmatcap_vert,fragmentShader:Ne.meshmatcap_frag},points:{uniforms:zi([Wt.points,Wt.fog]),vertexShader:Ne.points_vert,fragmentShader:Ne.points_frag},dashed:{uniforms:zi([Wt.common,Wt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Ne.linedashed_vert,fragmentShader:Ne.linedashed_frag},depth:{uniforms:zi([Wt.common,Wt.displacementmap]),vertexShader:Ne.depth_vert,fragmentShader:Ne.depth_frag},normal:{uniforms:zi([Wt.common,Wt.bumpmap,Wt.normalmap,Wt.displacementmap,{opacity:{value:1}}]),vertexShader:Ne.meshnormal_vert,fragmentShader:Ne.meshnormal_frag},sprite:{uniforms:zi([Wt.sprite,Wt.fog]),vertexShader:Ne.sprite_vert,fragmentShader:Ne.sprite_frag},background:{uniforms:{uvTransform:{value:new Ce},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Ne.background_vert,fragmentShader:Ne.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Ce}},vertexShader:Ne.backgroundCube_vert,fragmentShader:Ne.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Ne.cube_vert,fragmentShader:Ne.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Ne.equirect_vert,fragmentShader:Ne.equirect_frag},distanceRGBA:{uniforms:zi([Wt.common,Wt.displacementmap,{referencePosition:{value:new pt},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Ne.distanceRGBA_vert,fragmentShader:Ne.distanceRGBA_frag},shadow:{uniforms:zi([Wt.lights,Wt.fog,{color:{value:new mn(0)},opacity:{value:1}}]),vertexShader:Ne.shadow_vert,fragmentShader:Ne.shadow_frag}};mr.physical={uniforms:zi([mr.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Ce},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Ce},clearcoatNormalScale:{value:new xn(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Ce},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Ce},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Ce},sheen:{value:0},sheenColor:{value:new mn(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Ce},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Ce},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Ce},transmissionSamplerSize:{value:new xn},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Ce},attenuationDistance:{value:0},attenuationColor:{value:new mn(0)},specularColor:{value:new mn(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Ce},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Ce},anisotropyVector:{value:new xn},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Ce}}]),vertexShader:Ne.meshphysical_vert,fragmentShader:Ne.meshphysical_frag};const dm={r:0,b:0,g:0},Go=new ma,Sj=new Xn;function Tj(n,t,e,i,r,o,l){const u=new mn(0);let d=o===!0?0:1,f,g,y=null,x=0,E=null;function T(N){let U=N.isScene===!0?N.background:null;return U&&U.isTexture&&(U=(N.backgroundBlurriness>0?e:t).get(U)),U}function C(N){let U=!1;const j=T(N);j===null?b(u,d):j&&j.isColor&&(b(j,1),U=!0);const G=n.xr.getEnvironmentBlendMode();G==="additive"?i.buffers.color.setClear(0,0,0,1,l):G==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,l),(n.autoClear||U)&&(i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))}function S(N,U){const j=T(U);j&&(j.isCubeTexture||j.mapping===Np)?(g===void 0&&(g=new gr(new yd(1,1,1),new oo({name:"BackgroundCubeMaterial",uniforms:zc(mr.backgroundCube.uniforms),vertexShader:mr.backgroundCube.vertexShader,fragmentShader:mr.backgroundCube.fragmentShader,side:Qi,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),g.geometry.deleteAttribute("normal"),g.geometry.deleteAttribute("uv"),g.onBeforeRender=function(G,D,R){this.matrixWorld.copyPosition(R.matrixWorld)},Object.defineProperty(g.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(g)),Go.copy(U.backgroundRotation),Go.x*=-1,Go.y*=-1,Go.z*=-1,j.isCubeTexture&&j.isRenderTargetTexture===!1&&(Go.y*=-1,Go.z*=-1),g.material.uniforms.envMap.value=j,g.material.uniforms.flipEnvMap.value=j.isCubeTexture&&j.isRenderTargetTexture===!1?-1:1,g.material.uniforms.backgroundBlurriness.value=U.backgroundBlurriness,g.material.uniforms.backgroundIntensity.value=U.backgroundIntensity,g.material.uniforms.backgroundRotation.value.setFromMatrix4(Sj.makeRotationFromEuler(Go)),g.material.toneMapped=an.getTransfer(j.colorSpace)!==yn,(y!==j||x!==j.version||E!==n.toneMapping)&&(g.material.needsUpdate=!0,y=j,x=j.version,E=n.toneMapping),g.layers.enableAll(),N.unshift(g,g.geometry,g.material,0,0,null)):j&&j.isTexture&&(f===void 0&&(f=new gr(new Ip(2,2),new oo({name:"BackgroundMaterial",uniforms:zc(mr.background.uniforms),vertexShader:mr.background.vertexShader,fragmentShader:mr.background.fragmentShader,side:ao,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),f.geometry.deleteAttribute("normal"),Object.defineProperty(f.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(f)),f.material.uniforms.t2D.value=j,f.material.uniforms.backgroundIntensity.value=U.backgroundIntensity,f.material.toneMapped=an.getTransfer(j.colorSpace)!==yn,j.matrixAutoUpdate===!0&&j.updateMatrix(),f.material.uniforms.uvTransform.value.copy(j.matrix),(y!==j||x!==j.version||E!==n.toneMapping)&&(f.material.needsUpdate=!0,y=j,x=j.version,E=n.toneMapping),f.layers.enableAll(),N.unshift(f,f.geometry,f.material,0,0,null))}function b(N,U){N.getRGB(dm,cC(n)),i.buffers.color.setClear(dm.r,dm.g,dm.b,U,l)}function O(){g!==void 0&&(g.geometry.dispose(),g.material.dispose(),g=void 0),f!==void 0&&(f.geometry.dispose(),f.material.dispose(),f=void 0)}return{getClearColor:function(){return u},setClearColor:function(N,U=1){u.set(N),d=U,b(u,d)},getClearAlpha:function(){return d},setClearAlpha:function(N){d=N,b(u,d)},render:C,addToRenderList:S,dispose:O}}function wj(n,t){const e=n.getParameter(n.MAX_VERTEX_ATTRIBS),i={},r=x(null);let o=r,l=!1;function u(M,P,z,V,yt){let gt=!1;const Y=y(V,z,P);o!==Y&&(o=Y,f(o.object)),gt=E(M,V,z,yt),gt&&T(M,V,z,yt),yt!==null&&t.update(yt,n.ELEMENT_ARRAY_BUFFER),(gt||l)&&(l=!1,U(M,P,z,V),yt!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,t.get(yt).buffer))}function d(){return n.createVertexArray()}function f(M){return n.bindVertexArray(M)}function g(M){return n.deleteVertexArray(M)}function y(M,P,z){const V=z.wireframe===!0;let yt=i[M.id];yt===void 0&&(yt={},i[M.id]=yt);let gt=yt[P.id];gt===void 0&&(gt={},yt[P.id]=gt);let Y=gt[V];return Y===void 0&&(Y=x(d()),gt[V]=Y),Y}function x(M){const P=[],z=[],V=[];for(let yt=0;yt<e;yt++)P[yt]=0,z[yt]=0,V[yt]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:P,enabledAttributes:z,attributeDivisors:V,object:M,attributes:{},index:null}}function E(M,P,z,V){const yt=o.attributes,gt=P.attributes;let Y=0;const Z=z.getAttributes();for(const Q in Z)if(Z[Q].location>=0){const W=yt[Q];let at=gt[Q];if(at===void 0&&(Q==="instanceMatrix"&&M.instanceMatrix&&(at=M.instanceMatrix),Q==="instanceColor"&&M.instanceColor&&(at=M.instanceColor)),W===void 0||W.attribute!==at||at&&W.data!==at.data)return!0;Y++}return o.attributesNum!==Y||o.index!==V}function T(M,P,z,V){const yt={},gt=P.attributes;let Y=0;const Z=z.getAttributes();for(const Q in Z)if(Z[Q].location>=0){let W=gt[Q];W===void 0&&(Q==="instanceMatrix"&&M.instanceMatrix&&(W=M.instanceMatrix),Q==="instanceColor"&&M.instanceColor&&(W=M.instanceColor));const at={};at.attribute=W,W&&W.data&&(at.data=W.data),yt[Q]=at,Y++}o.attributes=yt,o.attributesNum=Y,o.index=V}function C(){const M=o.newAttributes;for(let P=0,z=M.length;P<z;P++)M[P]=0}function S(M){b(M,0)}function b(M,P){const z=o.newAttributes,V=o.enabledAttributes,yt=o.attributeDivisors;z[M]=1,V[M]===0&&(n.enableVertexAttribArray(M),V[M]=1),yt[M]!==P&&(n.vertexAttribDivisor(M,P),yt[M]=P)}function O(){const M=o.newAttributes,P=o.enabledAttributes;for(let z=0,V=P.length;z<V;z++)P[z]!==M[z]&&(n.disableVertexAttribArray(z),P[z]=0)}function N(M,P,z,V,yt,gt,Y){Y===!0?n.vertexAttribIPointer(M,P,z,yt,gt):n.vertexAttribPointer(M,P,z,V,yt,gt)}function U(M,P,z,V){C();const yt=V.attributes,gt=z.getAttributes(),Y=P.defaultAttributeValues;for(const Z in gt){const Q=gt[Z];if(Q.location>=0){let Rt=yt[Z];if(Rt===void 0&&(Z==="instanceMatrix"&&M.instanceMatrix&&(Rt=M.instanceMatrix),Z==="instanceColor"&&M.instanceColor&&(Rt=M.instanceColor)),Rt!==void 0){const W=Rt.normalized,at=Rt.itemSize,wt=t.get(Rt);if(wt===void 0)continue;const Et=wt.buffer,it=wt.type,St=wt.bytesPerElement,Ct=it===n.INT||it===n.UNSIGNED_INT||Rt.gpuType===N_;if(Rt.isInterleavedBufferAttribute){const Vt=Rt.data,Ft=Vt.stride,de=Rt.offset;if(Vt.isInstancedInterleavedBuffer){for(let ee=0;ee<Q.locationSize;ee++)b(Q.location+ee,Vt.meshPerAttribute);M.isInstancedMesh!==!0&&V._maxInstanceCount===void 0&&(V._maxInstanceCount=Vt.meshPerAttribute*Vt.count)}else for(let ee=0;ee<Q.locationSize;ee++)S(Q.location+ee);n.bindBuffer(n.ARRAY_BUFFER,Et);for(let ee=0;ee<Q.locationSize;ee++)N(Q.location+ee,at/Q.locationSize,it,W,Ft*St,(de+at/Q.locationSize*ee)*St,Ct)}else{if(Rt.isInstancedBufferAttribute){for(let Vt=0;Vt<Q.locationSize;Vt++)b(Q.location+Vt,Rt.meshPerAttribute);M.isInstancedMesh!==!0&&V._maxInstanceCount===void 0&&(V._maxInstanceCount=Rt.meshPerAttribute*Rt.count)}else for(let Vt=0;Vt<Q.locationSize;Vt++)S(Q.location+Vt);n.bindBuffer(n.ARRAY_BUFFER,Et);for(let Vt=0;Vt<Q.locationSize;Vt++)N(Q.location+Vt,at/Q.locationSize,it,W,at*St,at/Q.locationSize*Vt*St,Ct)}}else if(Y!==void 0){const W=Y[Z];if(W!==void 0)switch(W.length){case 2:n.vertexAttrib2fv(Q.location,W);break;case 3:n.vertexAttrib3fv(Q.location,W);break;case 4:n.vertexAttrib4fv(Q.location,W);break;default:n.vertexAttrib1fv(Q.location,W)}}}}O()}function j(){R();for(const M in i){const P=i[M];for(const z in P){const V=P[z];for(const yt in V)g(V[yt].object),delete V[yt];delete P[z]}delete i[M]}}function G(M){if(i[M.id]===void 0)return;const P=i[M.id];for(const z in P){const V=P[z];for(const yt in V)g(V[yt].object),delete V[yt];delete P[z]}delete i[M.id]}function D(M){for(const P in i){const z=i[P];if(z[M.id]===void 0)continue;const V=z[M.id];for(const yt in V)g(V[yt].object),delete V[yt];delete z[M.id]}}function R(){w(),l=!0,o!==r&&(o=r,f(o.object))}function w(){r.geometry=null,r.program=null,r.wireframe=!1}return{setup:u,reset:R,resetDefaultState:w,dispose:j,releaseStatesOfGeometry:G,releaseStatesOfProgram:D,initAttributes:C,enableAttribute:S,disableUnusedAttributes:O}}function Aj(n,t,e){let i;function r(f){i=f}function o(f,g){n.drawArrays(i,f,g),e.update(g,i,1)}function l(f,g,y){y!==0&&(n.drawArraysInstanced(i,f,g,y),e.update(g,i,y))}function u(f,g,y){if(y===0)return;t.get("WEBGL_multi_draw").multiDrawArraysWEBGL(i,f,0,g,0,y);let E=0;for(let T=0;T<y;T++)E+=g[T];e.update(E,i,1)}function d(f,g,y,x){if(y===0)return;const E=t.get("WEBGL_multi_draw");if(E===null)for(let T=0;T<f.length;T++)l(f[T],g[T],x[T]);else{E.multiDrawArraysInstancedWEBGL(i,f,0,g,0,x,0,y);let T=0;for(let C=0;C<y;C++)T+=g[C]*x[C];e.update(T,i,1)}}this.setMode=r,this.render=o,this.renderInstances=l,this.renderMultiDraw=u,this.renderMultiDrawInstances=d}function Mj(n,t,e,i){let r;function o(){if(r!==void 0)return r;if(t.has("EXT_texture_filter_anisotropic")===!0){const D=t.get("EXT_texture_filter_anisotropic");r=n.getParameter(D.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function l(D){return!(D!==Hs&&i.convert(D)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))}function u(D){const R=D===fd&&(t.has("EXT_color_buffer_half_float")||t.has("EXT_color_buffer_float"));return!(D!==fa&&i.convert(D)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&D!==ra&&!R)}function d(D){if(D==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";D="mediump"}return D==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let f=e.precision!==void 0?e.precision:"highp";const g=d(f);g!==f&&(console.warn("THREE.WebGLRenderer:",f,"not supported, using",g,"instead."),f=g);const y=e.logarithmicDepthBuffer===!0,x=e.reverseDepthBuffer===!0&&t.has("EXT_clip_control"),E=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),T=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),C=n.getParameter(n.MAX_TEXTURE_SIZE),S=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),b=n.getParameter(n.MAX_VERTEX_ATTRIBS),O=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),N=n.getParameter(n.MAX_VARYING_VECTORS),U=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),j=T>0,G=n.getParameter(n.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:o,getMaxPrecision:d,textureFormatReadable:l,textureTypeReadable:u,precision:f,logarithmicDepthBuffer:y,reverseDepthBuffer:x,maxTextures:E,maxVertexTextures:T,maxTextureSize:C,maxCubemapSize:S,maxAttributes:b,maxVertexUniforms:O,maxVaryings:N,maxFragmentUniforms:U,vertexTextures:j,maxSamples:G}}function Rj(n){const t=this;let e=null,i=0,r=!1,o=!1;const l=new Xo,u=new Ce,d={value:null,needsUpdate:!1};this.uniform=d,this.numPlanes=0,this.numIntersection=0,this.init=function(y,x){const E=y.length!==0||x||i!==0||r;return r=x,i=y.length,E},this.beginShadows=function(){o=!0,g(null)},this.endShadows=function(){o=!1},this.setGlobalState=function(y,x){e=g(y,x,0)},this.setState=function(y,x,E){const T=y.clippingPlanes,C=y.clipIntersection,S=y.clipShadows,b=n.get(y);if(!r||T===null||T.length===0||o&&!S)o?g(null):f();else{const O=o?0:i,N=O*4;let U=b.clippingState||null;d.value=U,U=g(T,x,N,E);for(let j=0;j!==N;++j)U[j]=e[j];b.clippingState=U,this.numIntersection=C?this.numPlanes:0,this.numPlanes+=O}};function f(){d.value!==e&&(d.value=e,d.needsUpdate=i>0),t.numPlanes=i,t.numIntersection=0}function g(y,x,E,T){const C=y!==null?y.length:0;let S=null;if(C!==0){if(S=d.value,T!==!0||S===null){const b=E+C*4,O=x.matrixWorldInverse;u.getNormalMatrix(O),(S===null||S.length<b)&&(S=new Float32Array(b));for(let N=0,U=E;N!==C;++N,U+=4)l.copy(y[N]).applyMatrix4(O,u),l.normal.toArray(S,U),S[U+3]=l.constant}d.value=S,d.needsUpdate=!0}return t.numPlanes=C,t.numIntersection=0,S}}function Cj(n){let t=new WeakMap;function e(l,u){return u===Vy?l.mapping=Bc:u===Fy&&(l.mapping=kc),l}function i(l){if(l&&l.isTexture){const u=l.mapping;if(u===Vy||u===Fy)if(t.has(l)){const d=t.get(l).texture;return e(d,l.mapping)}else{const d=l.image;if(d&&d.height>0){const f=new DF(d.height);return f.fromEquirectangularTexture(n,l),t.set(l,f),l.addEventListener("dispose",r),e(f.texture,l.mapping)}else return null}}return l}function r(l){const u=l.target;u.removeEventListener("dispose",r);const d=t.get(u);d!==void 0&&(t.delete(u),d.dispose())}function o(){t=new WeakMap}return{get:i,dispose:o}}const Mc=4,Kw=[.125,.215,.35,.446,.526,.582],Qo=20,Fv=new kF,$w=new mn;let Bv=null,kv=0,jv=0,zv=!1;const Yo=(1+Math.sqrt(5))/2,gc=1/Yo,Qw=[new pt(-Yo,gc,0),new pt(Yo,gc,0),new pt(-gc,0,Yo),new pt(gc,0,Yo),new pt(0,Yo,-gc),new pt(0,Yo,gc),new pt(-1,1,-1),new pt(1,1,-1),new pt(-1,1,1),new pt(1,1,1)],Nj=new pt;class Zw{constructor(t){this._renderer=t,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(t,e=0,i=.1,r=100,o={}){const{size:l=256,position:u=Nj}=o;Bv=this._renderer.getRenderTarget(),kv=this._renderer.getActiveCubeFace(),jv=this._renderer.getActiveMipmapLevel(),zv=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(l);const d=this._allocateTargets();return d.depthBuffer=!0,this._sceneToCubeUV(t,i,r,d,u),e>0&&this._blur(d,0,0,e),this._applyPMREM(d),this._cleanup(d),d}fromEquirectangular(t,e=null){return this._fromTexture(t,e)}fromCubemap(t,e=null){return this._fromTexture(t,e)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=eA(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=tA(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(t){this._lodMax=Math.floor(Math.log2(t)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let t=0;t<this._lodPlanes.length;t++)this._lodPlanes[t].dispose()}_cleanup(t){this._renderer.setRenderTarget(Bv,kv,jv),this._renderer.xr.enabled=zv,t.scissorTest=!1,fm(t,0,0,t.width,t.height)}_fromTexture(t,e){t.mapping===Bc||t.mapping===kc?this._setSize(t.image.length===0?16:t.image[0].width||t.image[0].image.width):this._setSize(t.image.width/4),Bv=this._renderer.getRenderTarget(),kv=this._renderer.getActiveCubeFace(),jv=this._renderer.getActiveMipmapLevel(),zv=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const i=e||this._allocateTargets();return this._textureToCubeUV(t,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const t=3*Math.max(this._cubeSize,112),e=4*this._cubeSize,i={magFilter:pr,minFilter:pr,generateMipmaps:!1,type:fd,format:Hs,colorSpace:jc,depthBuffer:!1},r=Jw(t,e,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==t||this._pingPongRenderTarget.height!==e){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=Jw(t,e,i);const{_lodMax:o}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=Dj(o)),this._blurMaterial=Ij(o,t,e)}return r}_compileMaterial(t){const e=new gr(this._lodPlanes[0],t);this._renderer.compile(e,Fv)}_sceneToCubeUV(t,e,i,r,o){const d=new Cs(90,1,e,i),f=[1,-1,1,1,1,1],g=[1,1,1,-1,-1,-1],y=this._renderer,x=y.autoClear,E=y.toneMapping;y.getClearColor($w),y.toneMapping=Za,y.autoClear=!1;const T=new V_({name:"PMREM.Background",side:Qi,depthWrite:!1,depthTest:!1}),C=new gr(new yd,T);let S=!1;const b=t.background;b?b.isColor&&(T.color.copy(b),t.background=null,S=!0):(T.color.copy($w),S=!0);for(let O=0;O<6;O++){const N=O%3;N===0?(d.up.set(0,f[O],0),d.position.set(o.x,o.y,o.z),d.lookAt(o.x+g[O],o.y,o.z)):N===1?(d.up.set(0,0,f[O]),d.position.set(o.x,o.y,o.z),d.lookAt(o.x,o.y+g[O],o.z)):(d.up.set(0,f[O],0),d.position.set(o.x,o.y,o.z),d.lookAt(o.x,o.y,o.z+g[O]));const U=this._cubeSize;fm(r,N*U,O>2?U:0,U,U),y.setRenderTarget(r),S&&y.render(C,d),y.render(t,d)}C.geometry.dispose(),C.material.dispose(),y.toneMapping=E,y.autoClear=x,t.background=b}_textureToCubeUV(t,e){const i=this._renderer,r=t.mapping===Bc||t.mapping===kc;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=eA()),this._cubemapMaterial.uniforms.flipEnvMap.value=t.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=tA());const o=r?this._cubemapMaterial:this._equirectMaterial,l=new gr(this._lodPlanes[0],o),u=o.uniforms;u.envMap.value=t;const d=this._cubeSize;fm(e,0,0,3*d,2*d),i.setRenderTarget(e),i.render(l,Fv)}_applyPMREM(t){const e=this._renderer,i=e.autoClear;e.autoClear=!1;const r=this._lodPlanes.length;for(let o=1;o<r;o++){const l=Math.sqrt(this._sigmas[o]*this._sigmas[o]-this._sigmas[o-1]*this._sigmas[o-1]),u=Qw[(r-o-1)%Qw.length];this._blur(t,o-1,o,l,u)}e.autoClear=i}_blur(t,e,i,r,o){const l=this._pingPongRenderTarget;this._halfBlur(t,l,e,i,r,"latitudinal",o),this._halfBlur(l,t,i,i,r,"longitudinal",o)}_halfBlur(t,e,i,r,o,l,u){const d=this._renderer,f=this._blurMaterial;l!=="latitudinal"&&l!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const g=3,y=new gr(this._lodPlanes[r],f),x=f.uniforms,E=this._sizeLods[i]-1,T=isFinite(o)?Math.PI/(2*E):2*Math.PI/(2*Qo-1),C=o/T,S=isFinite(o)?1+Math.floor(g*C):Qo;S>Qo&&console.warn(`sigmaRadians, ${o}, is too large and will clip, as it requested ${S} samples when the maximum is set to ${Qo}`);const b=[];let O=0;for(let D=0;D<Qo;++D){const R=D/C,w=Math.exp(-R*R/2);b.push(w),D===0?O+=w:D<S&&(O+=2*w)}for(let D=0;D<b.length;D++)b[D]=b[D]/O;x.envMap.value=t.texture,x.samples.value=S,x.weights.value=b,x.latitudinal.value=l==="latitudinal",u&&(x.poleAxis.value=u);const{_lodMax:N}=this;x.dTheta.value=T,x.mipInt.value=N-i;const U=this._sizeLods[r],j=3*U*(r>N-Mc?r-N+Mc:0),G=4*(this._cubeSize-U);fm(e,j,G,3*U,2*U),d.setRenderTarget(e),d.render(y,Fv)}}function Dj(n){const t=[],e=[],i=[];let r=n;const o=n-Mc+1+Kw.length;for(let l=0;l<o;l++){const u=Math.pow(2,r);e.push(u);let d=1/u;l>n-Mc?d=Kw[l-n+Mc-1]:l===0&&(d=0),i.push(d);const f=1/(u-2),g=-f,y=1+f,x=[g,g,y,g,y,y,g,g,y,y,g,y],E=6,T=6,C=3,S=2,b=1,O=new Float32Array(C*T*E),N=new Float32Array(S*T*E),U=new Float32Array(b*T*E);for(let G=0;G<E;G++){const D=G%3*2/3-1,R=G>2?0:-1,w=[D,R,0,D+2/3,R,0,D+2/3,R+1,0,D,R,0,D+2/3,R+1,0,D,R+1,0];O.set(w,C*T*G),N.set(x,S*T*G);const M=[G,G,G,G,G,G];U.set(M,b*T*G)}const j=new Nr;j.setAttribute("position",new _r(O,C)),j.setAttribute("uv",new _r(N,S)),j.setAttribute("faceIndex",new _r(U,b)),t.push(j),r>Mc&&r--}return{lodPlanes:t,sizeLods:e,sigmas:i}}function Jw(n,t,e){const i=new cl(n,t,e);return i.texture.mapping=Np,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function fm(n,t,e,i,r){n.viewport.set(t,e,i,r),n.scissor.set(t,e,i,r)}function Ij(n,t,e){const i=new Float32Array(Qo),r=new pt(0,1,0);return new oo({name:"SphericalGaussianBlur",defines:{n:Qo,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/e,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:B_(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Qa,depthTest:!1,depthWrite:!1})}function tA(){return new oo({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:B_(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Qa,depthTest:!1,depthWrite:!1})}function eA(){return new oo({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:B_(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Qa,depthTest:!1,depthWrite:!1})}function B_(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function Pj(n){let t=new WeakMap,e=null;function i(u){if(u&&u.isTexture){const d=u.mapping,f=d===Vy||d===Fy,g=d===Bc||d===kc;if(f||g){let y=t.get(u);const x=y!==void 0?y.texture.pmremVersion:0;if(u.isRenderTargetTexture&&u.pmremVersion!==x)return e===null&&(e=new Zw(n)),y=f?e.fromEquirectangular(u,y):e.fromCubemap(u,y),y.texture.pmremVersion=u.pmremVersion,t.set(u,y),y.texture;if(y!==void 0)return y.texture;{const E=u.image;return f&&E&&E.height>0||g&&E&&r(E)?(e===null&&(e=new Zw(n)),y=f?e.fromEquirectangular(u):e.fromCubemap(u),y.texture.pmremVersion=u.pmremVersion,t.set(u,y),u.addEventListener("dispose",o),y.texture):null}}}return u}function r(u){let d=0;const f=6;for(let g=0;g<f;g++)u[g]!==void 0&&d++;return d===f}function o(u){const d=u.target;d.removeEventListener("dispose",o);const f=t.get(d);f!==void 0&&(t.delete(d),f.dispose())}function l(){t=new WeakMap,e!==null&&(e.dispose(),e=null)}return{get:i,dispose:l}}function Lj(n){const t={};function e(i){if(t[i]!==void 0)return t[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return t[i]=r,r}return{has:function(i){return e(i)!==null},init:function(){e("EXT_color_buffer_float"),e("WEBGL_clip_cull_distance"),e("OES_texture_float_linear"),e("EXT_color_buffer_half_float"),e("WEBGL_multisampled_render_to_texture"),e("WEBGL_render_shared_exponent")},get:function(i){const r=e(i);return r===null&&Nc("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function Oj(n,t,e,i){const r={},o=new WeakMap;function l(y){const x=y.target;x.index!==null&&t.remove(x.index);for(const T in x.attributes)t.remove(x.attributes[T]);x.removeEventListener("dispose",l),delete r[x.id];const E=o.get(x);E&&(t.remove(E),o.delete(x)),i.releaseStatesOfGeometry(x),x.isInstancedBufferGeometry===!0&&delete x._maxInstanceCount,e.memory.geometries--}function u(y,x){return r[x.id]===!0||(x.addEventListener("dispose",l),r[x.id]=!0,e.memory.geometries++),x}function d(y){const x=y.attributes;for(const E in x)t.update(x[E],n.ARRAY_BUFFER)}function f(y){const x=[],E=y.index,T=y.attributes.position;let C=0;if(E!==null){const O=E.array;C=E.version;for(let N=0,U=O.length;N<U;N+=3){const j=O[N+0],G=O[N+1],D=O[N+2];x.push(j,G,G,D,D,j)}}else if(T!==void 0){const O=T.array;C=T.version;for(let N=0,U=O.length/3-1;N<U;N+=3){const j=N+0,G=N+1,D=N+2;x.push(j,G,G,D,D,j)}}else return;const S=new(nC(x)?lC:oC)(x,1);S.version=C;const b=o.get(y);b&&t.remove(b),o.set(y,S)}function g(y){const x=o.get(y);if(x){const E=y.index;E!==null&&x.version<E.version&&f(y)}else f(y);return o.get(y)}return{get:u,update:d,getWireframeAttribute:g}}function Uj(n,t,e){let i;function r(x){i=x}let o,l;function u(x){o=x.type,l=x.bytesPerElement}function d(x,E){n.drawElements(i,E,o,x*l),e.update(E,i,1)}function f(x,E,T){T!==0&&(n.drawElementsInstanced(i,E,o,x*l,T),e.update(E,i,T))}function g(x,E,T){if(T===0)return;t.get("WEBGL_multi_draw").multiDrawElementsWEBGL(i,E,0,o,x,0,T);let S=0;for(let b=0;b<T;b++)S+=E[b];e.update(S,i,1)}function y(x,E,T,C){if(T===0)return;const S=t.get("WEBGL_multi_draw");if(S===null)for(let b=0;b<x.length;b++)f(x[b]/l,E[b],C[b]);else{S.multiDrawElementsInstancedWEBGL(i,E,0,o,x,0,C,0,T);let b=0;for(let O=0;O<T;O++)b+=E[O]*C[O];e.update(b,i,1)}}this.setMode=r,this.setIndex=u,this.render=d,this.renderInstances=f,this.renderMultiDraw=g,this.renderMultiDrawInstances=y}function Vj(n){const t={geometries:0,textures:0},e={frame:0,calls:0,triangles:0,points:0,lines:0};function i(o,l,u){switch(e.calls++,l){case n.TRIANGLES:e.triangles+=u*(o/3);break;case n.LINES:e.lines+=u*(o/2);break;case n.LINE_STRIP:e.lines+=u*(o-1);break;case n.LINE_LOOP:e.lines+=u*o;break;case n.POINTS:e.points+=u*o;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",l);break}}function r(){e.calls=0,e.triangles=0,e.points=0,e.lines=0}return{memory:t,render:e,programs:null,autoReset:!0,reset:r,update:i}}function Fj(n,t,e){const i=new WeakMap,r=new qn;function o(l,u,d){const f=l.morphTargetInfluences,g=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,y=g!==void 0?g.length:0;let x=i.get(u);if(x===void 0||x.count!==y){let M=function(){R.dispose(),i.delete(u),u.removeEventListener("dispose",M)};var E=M;x!==void 0&&x.texture.dispose();const T=u.morphAttributes.position!==void 0,C=u.morphAttributes.normal!==void 0,S=u.morphAttributes.color!==void 0,b=u.morphAttributes.position||[],O=u.morphAttributes.normal||[],N=u.morphAttributes.color||[];let U=0;T===!0&&(U=1),C===!0&&(U=2),S===!0&&(U=3);let j=u.attributes.position.count*U,G=1;j>t.maxTextureSize&&(G=Math.ceil(j/t.maxTextureSize),j=t.maxTextureSize);const D=new Float32Array(j*G*4*y),R=new iC(D,j,G,y);R.type=ra,R.needsUpdate=!0;const w=U*4;for(let P=0;P<y;P++){const z=b[P],V=O[P],yt=N[P],gt=j*G*4*P;for(let Y=0;Y<z.count;Y++){const Z=Y*w;T===!0&&(r.fromBufferAttribute(z,Y),D[gt+Z+0]=r.x,D[gt+Z+1]=r.y,D[gt+Z+2]=r.z,D[gt+Z+3]=0),C===!0&&(r.fromBufferAttribute(V,Y),D[gt+Z+4]=r.x,D[gt+Z+5]=r.y,D[gt+Z+6]=r.z,D[gt+Z+7]=0),S===!0&&(r.fromBufferAttribute(yt,Y),D[gt+Z+8]=r.x,D[gt+Z+9]=r.y,D[gt+Z+10]=r.z,D[gt+Z+11]=yt.itemSize===4?r.w:1)}}x={count:y,texture:R,size:new xn(j,G)},i.set(u,x),u.addEventListener("dispose",M)}if(l.isInstancedMesh===!0&&l.morphTexture!==null)d.getUniforms().setValue(n,"morphTexture",l.morphTexture,e);else{let T=0;for(let S=0;S<f.length;S++)T+=f[S];const C=u.morphTargetsRelative?1:1-T;d.getUniforms().setValue(n,"morphTargetBaseInfluence",C),d.getUniforms().setValue(n,"morphTargetInfluences",f)}d.getUniforms().setValue(n,"morphTargetsTexture",x.texture,e),d.getUniforms().setValue(n,"morphTargetsTextureSize",x.size)}return{update:o}}function Bj(n,t,e,i){let r=new WeakMap;function o(d){const f=i.render.frame,g=d.geometry,y=t.get(d,g);if(r.get(y)!==f&&(t.update(y),r.set(y,f)),d.isInstancedMesh&&(d.hasEventListener("dispose",u)===!1&&d.addEventListener("dispose",u),r.get(d)!==f&&(e.update(d.instanceMatrix,n.ARRAY_BUFFER),d.instanceColor!==null&&e.update(d.instanceColor,n.ARRAY_BUFFER),r.set(d,f))),d.isSkinnedMesh){const x=d.skeleton;r.get(x)!==f&&(x.update(),r.set(x,f))}return y}function l(){r=new WeakMap}function u(d){const f=d.target;f.removeEventListener("dispose",u),e.remove(f.instanceMatrix),f.instanceColor!==null&&e.remove(f.instanceColor)}return{update:o,dispose:l}}const gC=new Zi,nA=new mC(1,1),vC=new iC,yC=new mF,xC=new hC,iA=[],sA=[],rA=new Float32Array(16),aA=new Float32Array(9),oA=new Float32Array(4);function nu(n,t,e){const i=n[0];if(i<=0||i>0)return n;const r=t*e;let o=iA[r];if(o===void 0&&(o=new Float32Array(r),iA[r]=o),t!==0){i.toArray(o,0);for(let l=1,u=0;l!==t;++l)u+=e,n[l].toArray(o,u)}return o}function ci(n,t){if(n.length!==t.length)return!1;for(let e=0,i=n.length;e<i;e++)if(n[e]!==t[e])return!1;return!0}function ui(n,t){for(let e=0,i=t.length;e<i;e++)n[e]=t[e]}function Pp(n,t){let e=sA[t];e===void 0&&(e=new Int32Array(t),sA[t]=e);for(let i=0;i!==t;++i)e[i]=n.allocateTextureUnit();return e}function kj(n,t){const e=this.cache;e[0]!==t&&(n.uniform1f(this.addr,t),e[0]=t)}function jj(n,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y)&&(n.uniform2f(this.addr,t.x,t.y),e[0]=t.x,e[1]=t.y);else{if(ci(e,t))return;n.uniform2fv(this.addr,t),ui(e,t)}}function zj(n,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z)&&(n.uniform3f(this.addr,t.x,t.y,t.z),e[0]=t.x,e[1]=t.y,e[2]=t.z);else if(t.r!==void 0)(e[0]!==t.r||e[1]!==t.g||e[2]!==t.b)&&(n.uniform3f(this.addr,t.r,t.g,t.b),e[0]=t.r,e[1]=t.g,e[2]=t.b);else{if(ci(e,t))return;n.uniform3fv(this.addr,t),ui(e,t)}}function Hj(n,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z||e[3]!==t.w)&&(n.uniform4f(this.addr,t.x,t.y,t.z,t.w),e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.w);else{if(ci(e,t))return;n.uniform4fv(this.addr,t),ui(e,t)}}function Gj(n,t){const e=this.cache,i=t.elements;if(i===void 0){if(ci(e,t))return;n.uniformMatrix2fv(this.addr,!1,t),ui(e,t)}else{if(ci(e,i))return;oA.set(i),n.uniformMatrix2fv(this.addr,!1,oA),ui(e,i)}}function Wj(n,t){const e=this.cache,i=t.elements;if(i===void 0){if(ci(e,t))return;n.uniformMatrix3fv(this.addr,!1,t),ui(e,t)}else{if(ci(e,i))return;aA.set(i),n.uniformMatrix3fv(this.addr,!1,aA),ui(e,i)}}function qj(n,t){const e=this.cache,i=t.elements;if(i===void 0){if(ci(e,t))return;n.uniformMatrix4fv(this.addr,!1,t),ui(e,t)}else{if(ci(e,i))return;rA.set(i),n.uniformMatrix4fv(this.addr,!1,rA),ui(e,i)}}function Xj(n,t){const e=this.cache;e[0]!==t&&(n.uniform1i(this.addr,t),e[0]=t)}function Yj(n,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y)&&(n.uniform2i(this.addr,t.x,t.y),e[0]=t.x,e[1]=t.y);else{if(ci(e,t))return;n.uniform2iv(this.addr,t),ui(e,t)}}function Kj(n,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z)&&(n.uniform3i(this.addr,t.x,t.y,t.z),e[0]=t.x,e[1]=t.y,e[2]=t.z);else{if(ci(e,t))return;n.uniform3iv(this.addr,t),ui(e,t)}}function $j(n,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z||e[3]!==t.w)&&(n.uniform4i(this.addr,t.x,t.y,t.z,t.w),e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.w);else{if(ci(e,t))return;n.uniform4iv(this.addr,t),ui(e,t)}}function Qj(n,t){const e=this.cache;e[0]!==t&&(n.uniform1ui(this.addr,t),e[0]=t)}function Zj(n,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y)&&(n.uniform2ui(this.addr,t.x,t.y),e[0]=t.x,e[1]=t.y);else{if(ci(e,t))return;n.uniform2uiv(this.addr,t),ui(e,t)}}function Jj(n,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z)&&(n.uniform3ui(this.addr,t.x,t.y,t.z),e[0]=t.x,e[1]=t.y,e[2]=t.z);else{if(ci(e,t))return;n.uniform3uiv(this.addr,t),ui(e,t)}}function tz(n,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z||e[3]!==t.w)&&(n.uniform4ui(this.addr,t.x,t.y,t.z,t.w),e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.w);else{if(ci(e,t))return;n.uniform4uiv(this.addr,t),ui(e,t)}}function ez(n,t,e){const i=this.cache,r=e.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r);let o;this.type===n.SAMPLER_2D_SHADOW?(nA.compareFunction=eC,o=nA):o=gC,e.setTexture2D(t||o,r)}function nz(n,t,e){const i=this.cache,r=e.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),e.setTexture3D(t||yC,r)}function iz(n,t,e){const i=this.cache,r=e.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),e.setTextureCube(t||xC,r)}function sz(n,t,e){const i=this.cache,r=e.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),e.setTexture2DArray(t||vC,r)}function rz(n){switch(n){case 5126:return kj;case 35664:return jj;case 35665:return zj;case 35666:return Hj;case 35674:return Gj;case 35675:return Wj;case 35676:return qj;case 5124:case 35670:return Xj;case 35667:case 35671:return Yj;case 35668:case 35672:return Kj;case 35669:case 35673:return $j;case 5125:return Qj;case 36294:return Zj;case 36295:return Jj;case 36296:return tz;case 35678:case 36198:case 36298:case 36306:case 35682:return ez;case 35679:case 36299:case 36307:return nz;case 35680:case 36300:case 36308:case 36293:return iz;case 36289:case 36303:case 36311:case 36292:return sz}}function az(n,t){n.uniform1fv(this.addr,t)}function oz(n,t){const e=nu(t,this.size,2);n.uniform2fv(this.addr,e)}function lz(n,t){const e=nu(t,this.size,3);n.uniform3fv(this.addr,e)}function cz(n,t){const e=nu(t,this.size,4);n.uniform4fv(this.addr,e)}function uz(n,t){const e=nu(t,this.size,4);n.uniformMatrix2fv(this.addr,!1,e)}function hz(n,t){const e=nu(t,this.size,9);n.uniformMatrix3fv(this.addr,!1,e)}function dz(n,t){const e=nu(t,this.size,16);n.uniformMatrix4fv(this.addr,!1,e)}function fz(n,t){n.uniform1iv(this.addr,t)}function mz(n,t){n.uniform2iv(this.addr,t)}function pz(n,t){n.uniform3iv(this.addr,t)}function gz(n,t){n.uniform4iv(this.addr,t)}function vz(n,t){n.uniform1uiv(this.addr,t)}function yz(n,t){n.uniform2uiv(this.addr,t)}function xz(n,t){n.uniform3uiv(this.addr,t)}function _z(n,t){n.uniform4uiv(this.addr,t)}function bz(n,t,e){const i=this.cache,r=t.length,o=Pp(e,r);ci(i,o)||(n.uniform1iv(this.addr,o),ui(i,o));for(let l=0;l!==r;++l)e.setTexture2D(t[l]||gC,o[l])}function Ez(n,t,e){const i=this.cache,r=t.length,o=Pp(e,r);ci(i,o)||(n.uniform1iv(this.addr,o),ui(i,o));for(let l=0;l!==r;++l)e.setTexture3D(t[l]||yC,o[l])}function Sz(n,t,e){const i=this.cache,r=t.length,o=Pp(e,r);ci(i,o)||(n.uniform1iv(this.addr,o),ui(i,o));for(let l=0;l!==r;++l)e.setTextureCube(t[l]||xC,o[l])}function Tz(n,t,e){const i=this.cache,r=t.length,o=Pp(e,r);ci(i,o)||(n.uniform1iv(this.addr,o),ui(i,o));for(let l=0;l!==r;++l)e.setTexture2DArray(t[l]||vC,o[l])}function wz(n){switch(n){case 5126:return az;case 35664:return oz;case 35665:return lz;case 35666:return cz;case 35674:return uz;case 35675:return hz;case 35676:return dz;case 5124:case 35670:return fz;case 35667:case 35671:return mz;case 35668:case 35672:return pz;case 35669:case 35673:return gz;case 5125:return vz;case 36294:return yz;case 36295:return xz;case 36296:return _z;case 35678:case 36198:case 36298:case 36306:case 35682:return bz;case 35679:case 36299:case 36307:return Ez;case 35680:case 36300:case 36308:case 36293:return Sz;case 36289:case 36303:case 36311:case 36292:return Tz}}class Az{constructor(t,e,i){this.id=t,this.addr=i,this.cache=[],this.type=e.type,this.setValue=rz(e.type)}}class Mz{constructor(t,e,i){this.id=t,this.addr=i,this.cache=[],this.type=e.type,this.size=e.size,this.setValue=wz(e.type)}}class Rz{constructor(t){this.id=t,this.seq=[],this.map={}}setValue(t,e,i){const r=this.seq;for(let o=0,l=r.length;o!==l;++o){const u=r[o];u.setValue(t,e[u.id],i)}}}const Hv=/(\w+)(\])?(\[|\.)?/g;function lA(n,t){n.seq.push(t),n.map[t.id]=t}function Cz(n,t,e){const i=n.name,r=i.length;for(Hv.lastIndex=0;;){const o=Hv.exec(i),l=Hv.lastIndex;let u=o[1];const d=o[2]==="]",f=o[3];if(d&&(u=u|0),f===void 0||f==="["&&l+2===r){lA(e,f===void 0?new Az(u,n,t):new Mz(u,n,t));break}else{let y=e.map[u];y===void 0&&(y=new Rz(u),lA(e,y)),e=y}}}class Lm{constructor(t,e){this.seq=[],this.map={};const i=t.getProgramParameter(e,t.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){const o=t.getActiveUniform(e,r),l=t.getUniformLocation(e,o.name);Cz(o,l,this)}}setValue(t,e,i,r){const o=this.map[e];o!==void 0&&o.setValue(t,i,r)}setOptional(t,e,i){const r=e[i];r!==void 0&&this.setValue(t,i,r)}static upload(t,e,i,r){for(let o=0,l=e.length;o!==l;++o){const u=e[o],d=i[u.id];d.needsUpdate!==!1&&u.setValue(t,d.value,r)}}static seqWithValue(t,e){const i=[];for(let r=0,o=t.length;r!==o;++r){const l=t[r];l.id in e&&i.push(l)}return i}}function cA(n,t,e){const i=n.createShader(t);return n.shaderSource(i,e),n.compileShader(i),i}const Nz=37297;let Dz=0;function Iz(n,t){const e=n.split(`
`),i=[],r=Math.max(t-6,0),o=Math.min(t+6,e.length);for(let l=r;l<o;l++){const u=l+1;i.push(`${u===t?">":" "} ${u}: ${e[l]}`)}return i.join(`
`)}const uA=new Ce;function Pz(n){an._getMatrix(uA,an.workingColorSpace,n);const t=`mat3( ${uA.elements.map(e=>e.toFixed(4))} )`;switch(an.getTransfer(n)){case Qm:return[t,"LinearTransferOETF"];case yn:return[t,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",n),[t,"LinearTransferOETF"]}}function hA(n,t,e){const i=n.getShaderParameter(t,n.COMPILE_STATUS),r=n.getShaderInfoLog(t).trim();if(i&&r==="")return"";const o=/ERROR: 0:(\d+)/.exec(r);if(o){const l=parseInt(o[1]);return e.toUpperCase()+`

`+r+`

`+Iz(n.getShaderSource(t),l)}else return r}function Lz(n,t){const e=Pz(t);return[`vec4 ${n}( vec4 value ) {`,`	return ${e[1]}( vec4( value.rgb * ${e[0]}, value.a ) );`,"}"].join(`
`)}function Oz(n,t){let e;switch(t){case B5:e="Linear";break;case k5:e="Reinhard";break;case j5:e="Cineon";break;case z5:e="ACESFilmic";break;case G5:e="AgX";break;case W5:e="Neutral";break;case H5:e="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),e="Linear"}return"vec3 "+n+"( vec3 color ) { return "+e+"ToneMapping( color ); }"}const mm=new pt;function Uz(){an.getLuminanceCoefficients(mm);const n=mm.x.toFixed(4),t=mm.y.toFixed(4),e=mm.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${n}, ${t}, ${e} );`,"	return dot( weights, rgb );","}"].join(`
`)}function Vz(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(yh).join(`
`)}function Fz(n){const t=[];for(const e in n){const i=n[e];i!==!1&&t.push("#define "+e+" "+i)}return t.join(`
`)}function Bz(n,t){const e={},i=n.getProgramParameter(t,n.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const o=n.getActiveAttrib(t,r),l=o.name;let u=1;o.type===n.FLOAT_MAT2&&(u=2),o.type===n.FLOAT_MAT3&&(u=3),o.type===n.FLOAT_MAT4&&(u=4),e[l]={type:o.type,location:n.getAttribLocation(t,l),locationSize:u}}return e}function yh(n){return n!==""}function dA(n,t){const e=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,e).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function fA(n,t){return n.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const kz=/^[ \t]*#include +<([\w\d./]+)>/gm;function mx(n){return n.replace(kz,zz)}const jz=new Map;function zz(n,t){let e=Ne[t];if(e===void 0){const i=jz.get(t);if(i!==void 0)e=Ne[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',t,i);else throw new Error("Can not resolve #include <"+t+">")}return mx(e)}const Hz=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function mA(n){return n.replace(Hz,Gz)}function Gz(n,t,e,i){let r="";for(let o=parseInt(t);o<parseInt(e);o++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return r}function pA(n){let t=`precision ${n.precision} float;
	precision ${n.precision} int;
	precision ${n.precision} sampler2D;
	precision ${n.precision} samplerCube;
	precision ${n.precision} sampler3D;
	precision ${n.precision} sampler2DArray;
	precision ${n.precision} sampler2DShadow;
	precision ${n.precision} samplerCubeShadow;
	precision ${n.precision} sampler2DArrayShadow;
	precision ${n.precision} isampler2D;
	precision ${n.precision} isampler3D;
	precision ${n.precision} isamplerCube;
	precision ${n.precision} isampler2DArray;
	precision ${n.precision} usampler2D;
	precision ${n.precision} usampler3D;
	precision ${n.precision} usamplerCube;
	precision ${n.precision} usampler2DArray;
	`;return n.precision==="highp"?t+=`
#define HIGH_PRECISION`:n.precision==="mediump"?t+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(t+=`
#define LOW_PRECISION`),t}function Wz(n){let t="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===GR?t="SHADOWMAP_TYPE_PCF":n.shadowMapType===y5?t="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===ia&&(t="SHADOWMAP_TYPE_VSM"),t}function qz(n){let t="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Bc:case kc:t="ENVMAP_TYPE_CUBE";break;case Np:t="ENVMAP_TYPE_CUBE_UV";break}return t}function Xz(n){let t="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case kc:t="ENVMAP_MODE_REFRACTION";break}return t}function Yz(n){let t="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case WR:t="ENVMAP_BLENDING_MULTIPLY";break;case V5:t="ENVMAP_BLENDING_MIX";break;case F5:t="ENVMAP_BLENDING_ADD";break}return t}function Kz(n){const t=n.envMapCubeUVHeight;if(t===null)return null;const e=Math.log2(t)-2,i=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,e),7*16)),texelHeight:i,maxMip:e}}function $z(n,t,e,i){const r=n.getContext(),o=e.defines;let l=e.vertexShader,u=e.fragmentShader;const d=Wz(e),f=qz(e),g=Xz(e),y=Yz(e),x=Kz(e),E=Vz(e),T=Fz(o),C=r.createProgram();let S,b,O=e.glslVersion?"#version "+e.glslVersion+`
`:"";e.isRawShaderMaterial?(S=["#define SHADER_TYPE "+e.shaderType,"#define SHADER_NAME "+e.shaderName,T].filter(yh).join(`
`),S.length>0&&(S+=`
`),b=["#define SHADER_TYPE "+e.shaderType,"#define SHADER_NAME "+e.shaderName,T].filter(yh).join(`
`),b.length>0&&(b+=`
`)):(S=[pA(e),"#define SHADER_TYPE "+e.shaderType,"#define SHADER_NAME "+e.shaderName,T,e.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",e.batching?"#define USE_BATCHING":"",e.batchingColor?"#define USE_BATCHING_COLOR":"",e.instancing?"#define USE_INSTANCING":"",e.instancingColor?"#define USE_INSTANCING_COLOR":"",e.instancingMorph?"#define USE_INSTANCING_MORPH":"",e.useFog&&e.fog?"#define USE_FOG":"",e.useFog&&e.fogExp2?"#define FOG_EXP2":"",e.map?"#define USE_MAP":"",e.envMap?"#define USE_ENVMAP":"",e.envMap?"#define "+g:"",e.lightMap?"#define USE_LIGHTMAP":"",e.aoMap?"#define USE_AOMAP":"",e.bumpMap?"#define USE_BUMPMAP":"",e.normalMap?"#define USE_NORMALMAP":"",e.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",e.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",e.displacementMap?"#define USE_DISPLACEMENTMAP":"",e.emissiveMap?"#define USE_EMISSIVEMAP":"",e.anisotropy?"#define USE_ANISOTROPY":"",e.anisotropyMap?"#define USE_ANISOTROPYMAP":"",e.clearcoatMap?"#define USE_CLEARCOATMAP":"",e.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",e.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",e.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",e.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",e.specularMap?"#define USE_SPECULARMAP":"",e.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",e.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",e.roughnessMap?"#define USE_ROUGHNESSMAP":"",e.metalnessMap?"#define USE_METALNESSMAP":"",e.alphaMap?"#define USE_ALPHAMAP":"",e.alphaHash?"#define USE_ALPHAHASH":"",e.transmission?"#define USE_TRANSMISSION":"",e.transmissionMap?"#define USE_TRANSMISSIONMAP":"",e.thicknessMap?"#define USE_THICKNESSMAP":"",e.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",e.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",e.mapUv?"#define MAP_UV "+e.mapUv:"",e.alphaMapUv?"#define ALPHAMAP_UV "+e.alphaMapUv:"",e.lightMapUv?"#define LIGHTMAP_UV "+e.lightMapUv:"",e.aoMapUv?"#define AOMAP_UV "+e.aoMapUv:"",e.emissiveMapUv?"#define EMISSIVEMAP_UV "+e.emissiveMapUv:"",e.bumpMapUv?"#define BUMPMAP_UV "+e.bumpMapUv:"",e.normalMapUv?"#define NORMALMAP_UV "+e.normalMapUv:"",e.displacementMapUv?"#define DISPLACEMENTMAP_UV "+e.displacementMapUv:"",e.metalnessMapUv?"#define METALNESSMAP_UV "+e.metalnessMapUv:"",e.roughnessMapUv?"#define ROUGHNESSMAP_UV "+e.roughnessMapUv:"",e.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+e.anisotropyMapUv:"",e.clearcoatMapUv?"#define CLEARCOATMAP_UV "+e.clearcoatMapUv:"",e.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+e.clearcoatNormalMapUv:"",e.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+e.clearcoatRoughnessMapUv:"",e.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+e.iridescenceMapUv:"",e.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+e.iridescenceThicknessMapUv:"",e.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+e.sheenColorMapUv:"",e.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+e.sheenRoughnessMapUv:"",e.specularMapUv?"#define SPECULARMAP_UV "+e.specularMapUv:"",e.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+e.specularColorMapUv:"",e.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+e.specularIntensityMapUv:"",e.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+e.transmissionMapUv:"",e.thicknessMapUv?"#define THICKNESSMAP_UV "+e.thicknessMapUv:"",e.vertexTangents&&e.flatShading===!1?"#define USE_TANGENT":"",e.vertexColors?"#define USE_COLOR":"",e.vertexAlphas?"#define USE_COLOR_ALPHA":"",e.vertexUv1s?"#define USE_UV1":"",e.vertexUv2s?"#define USE_UV2":"",e.vertexUv3s?"#define USE_UV3":"",e.pointsUvs?"#define USE_POINTS_UV":"",e.flatShading?"#define FLAT_SHADED":"",e.skinning?"#define USE_SKINNING":"",e.morphTargets?"#define USE_MORPHTARGETS":"",e.morphNormals&&e.flatShading===!1?"#define USE_MORPHNORMALS":"",e.morphColors?"#define USE_MORPHCOLORS":"",e.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+e.morphTextureStride:"",e.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+e.morphTargetsCount:"",e.doubleSided?"#define DOUBLE_SIDED":"",e.flipSided?"#define FLIP_SIDED":"",e.shadowMapEnabled?"#define USE_SHADOWMAP":"",e.shadowMapEnabled?"#define "+d:"",e.sizeAttenuation?"#define USE_SIZEATTENUATION":"",e.numLightProbes>0?"#define USE_LIGHT_PROBES":"",e.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",e.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(yh).join(`
`),b=[pA(e),"#define SHADER_TYPE "+e.shaderType,"#define SHADER_NAME "+e.shaderName,T,e.useFog&&e.fog?"#define USE_FOG":"",e.useFog&&e.fogExp2?"#define FOG_EXP2":"",e.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",e.map?"#define USE_MAP":"",e.matcap?"#define USE_MATCAP":"",e.envMap?"#define USE_ENVMAP":"",e.envMap?"#define "+f:"",e.envMap?"#define "+g:"",e.envMap?"#define "+y:"",x?"#define CUBEUV_TEXEL_WIDTH "+x.texelWidth:"",x?"#define CUBEUV_TEXEL_HEIGHT "+x.texelHeight:"",x?"#define CUBEUV_MAX_MIP "+x.maxMip+".0":"",e.lightMap?"#define USE_LIGHTMAP":"",e.aoMap?"#define USE_AOMAP":"",e.bumpMap?"#define USE_BUMPMAP":"",e.normalMap?"#define USE_NORMALMAP":"",e.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",e.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",e.emissiveMap?"#define USE_EMISSIVEMAP":"",e.anisotropy?"#define USE_ANISOTROPY":"",e.anisotropyMap?"#define USE_ANISOTROPYMAP":"",e.clearcoat?"#define USE_CLEARCOAT":"",e.clearcoatMap?"#define USE_CLEARCOATMAP":"",e.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",e.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",e.dispersion?"#define USE_DISPERSION":"",e.iridescence?"#define USE_IRIDESCENCE":"",e.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",e.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",e.specularMap?"#define USE_SPECULARMAP":"",e.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",e.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",e.roughnessMap?"#define USE_ROUGHNESSMAP":"",e.metalnessMap?"#define USE_METALNESSMAP":"",e.alphaMap?"#define USE_ALPHAMAP":"",e.alphaTest?"#define USE_ALPHATEST":"",e.alphaHash?"#define USE_ALPHAHASH":"",e.sheen?"#define USE_SHEEN":"",e.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",e.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",e.transmission?"#define USE_TRANSMISSION":"",e.transmissionMap?"#define USE_TRANSMISSIONMAP":"",e.thicknessMap?"#define USE_THICKNESSMAP":"",e.vertexTangents&&e.flatShading===!1?"#define USE_TANGENT":"",e.vertexColors||e.instancingColor||e.batchingColor?"#define USE_COLOR":"",e.vertexAlphas?"#define USE_COLOR_ALPHA":"",e.vertexUv1s?"#define USE_UV1":"",e.vertexUv2s?"#define USE_UV2":"",e.vertexUv3s?"#define USE_UV3":"",e.pointsUvs?"#define USE_POINTS_UV":"",e.gradientMap?"#define USE_GRADIENTMAP":"",e.flatShading?"#define FLAT_SHADED":"",e.doubleSided?"#define DOUBLE_SIDED":"",e.flipSided?"#define FLIP_SIDED":"",e.shadowMapEnabled?"#define USE_SHADOWMAP":"",e.shadowMapEnabled?"#define "+d:"",e.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",e.numLightProbes>0?"#define USE_LIGHT_PROBES":"",e.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",e.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",e.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",e.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",e.toneMapping!==Za?"#define TONE_MAPPING":"",e.toneMapping!==Za?Ne.tonemapping_pars_fragment:"",e.toneMapping!==Za?Oz("toneMapping",e.toneMapping):"",e.dithering?"#define DITHERING":"",e.opaque?"#define OPAQUE":"",Ne.colorspace_pars_fragment,Lz("linearToOutputTexel",e.outputColorSpace),Uz(),e.useDepthPacking?"#define DEPTH_PACKING "+e.depthPacking:"",`
`].filter(yh).join(`
`)),l=mx(l),l=dA(l,e),l=fA(l,e),u=mx(u),u=dA(u,e),u=fA(u,e),l=mA(l),u=mA(u),e.isRawShaderMaterial!==!0&&(O=`#version 300 es
`,S=[E,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+S,b=["#define varying in",e.glslVersion===Rw?"":"layout(location = 0) out highp vec4 pc_fragColor;",e.glslVersion===Rw?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+b);const N=O+S+l,U=O+b+u,j=cA(r,r.VERTEX_SHADER,N),G=cA(r,r.FRAGMENT_SHADER,U);r.attachShader(C,j),r.attachShader(C,G),e.index0AttributeName!==void 0?r.bindAttribLocation(C,0,e.index0AttributeName):e.morphTargets===!0&&r.bindAttribLocation(C,0,"position"),r.linkProgram(C);function D(P){if(n.debug.checkShaderErrors){const z=r.getProgramInfoLog(C).trim(),V=r.getShaderInfoLog(j).trim(),yt=r.getShaderInfoLog(G).trim();let gt=!0,Y=!0;if(r.getProgramParameter(C,r.LINK_STATUS)===!1)if(gt=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(r,C,j,G);else{const Z=hA(r,j,"vertex"),Q=hA(r,G,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(C,r.VALIDATE_STATUS)+`

Material Name: `+P.name+`
Material Type: `+P.type+`

Program Info Log: `+z+`
`+Z+`
`+Q)}else z!==""?console.warn("THREE.WebGLProgram: Program Info Log:",z):(V===""||yt==="")&&(Y=!1);Y&&(P.diagnostics={runnable:gt,programLog:z,vertexShader:{log:V,prefix:S},fragmentShader:{log:yt,prefix:b}})}r.deleteShader(j),r.deleteShader(G),R=new Lm(r,C),w=Bz(r,C)}let R;this.getUniforms=function(){return R===void 0&&D(this),R};let w;this.getAttributes=function(){return w===void 0&&D(this),w};let M=e.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return M===!1&&(M=r.getProgramParameter(C,Nz)),M},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(C),this.program=void 0},this.type=e.shaderType,this.name=e.shaderName,this.id=Dz++,this.cacheKey=t,this.usedTimes=1,this.program=C,this.vertexShader=j,this.fragmentShader=G,this}let Qz=0;class Zz{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(t){const e=t.vertexShader,i=t.fragmentShader,r=this._getShaderStage(e),o=this._getShaderStage(i),l=this._getShaderCacheForMaterial(t);return l.has(r)===!1&&(l.add(r),r.usedTimes++),l.has(o)===!1&&(l.add(o),o.usedTimes++),this}remove(t){const e=this.materialCache.get(t);for(const i of e)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(t),this}getVertexShaderID(t){return this._getShaderStage(t.vertexShader).id}getFragmentShaderID(t){return this._getShaderStage(t.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(t){const e=this.materialCache;let i=e.get(t);return i===void 0&&(i=new Set,e.set(t,i)),i}_getShaderStage(t){const e=this.shaderCache;let i=e.get(t);return i===void 0&&(i=new Jz(t),e.set(t,i)),i}}class Jz{constructor(t){this.id=Qz++,this.code=t,this.usedTimes=0}}function t8(n,t,e,i,r,o,l){const u=new rC,d=new Zz,f=new Set,g=[],y=r.logarithmicDepthBuffer,x=r.vertexTextures;let E=r.precision;const T={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function C(w){return f.add(w),w===0?"uv":`uv${w}`}function S(w,M,P,z,V){const yt=z.fog,gt=V.geometry,Y=w.isMeshStandardMaterial?z.environment:null,Z=(w.isMeshStandardMaterial?e:t).get(w.envMap||Y),Q=Z&&Z.mapping===Np?Z.image.height:null,Rt=T[w.type];w.precision!==null&&(E=r.getMaxPrecision(w.precision),E!==w.precision&&console.warn("THREE.WebGLProgram.getParameters:",w.precision,"not supported, using",E,"instead."));const W=gt.morphAttributes.position||gt.morphAttributes.normal||gt.morphAttributes.color,at=W!==void 0?W.length:0;let wt=0;gt.morphAttributes.position!==void 0&&(wt=1),gt.morphAttributes.normal!==void 0&&(wt=2),gt.morphAttributes.color!==void 0&&(wt=3);let Et,it,St,Ct;if(Rt){const Ue=mr[Rt];Et=Ue.vertexShader,it=Ue.fragmentShader}else Et=w.vertexShader,it=w.fragmentShader,d.update(w),St=d.getVertexShaderID(w),Ct=d.getFragmentShaderID(w);const Vt=n.getRenderTarget(),Ft=n.state.buffers.depth.getReversed(),de=V.isInstancedMesh===!0,ee=V.isBatchedMesh===!0,Ie=!!w.map,We=!!w.matcap,ge=!!Z,$=!!w.aoMap,bn=!!w.lightMap,je=!!w.bumpMap,Pe=!!w.normalMap,ne=!!w.displacementMap,Oe=!!w.emissiveMap,ae=!!w.metalnessMap,_e=!!w.roughnessMap,Rn=w.anisotropy>0,X=w.clearcoat>0,F=w.dispersion>0,ut=w.iridescence>0,xt=w.sheen>0,bt=w.transmission>0,_t=Rn&&!!w.anisotropyMap,qt=X&&!!w.clearcoatMap,zt=X&&!!w.clearcoatNormalMap,te=X&&!!w.clearcoatRoughnessMap,Zt=ut&&!!w.iridescenceMap,It=ut&&!!w.iridescenceThicknessMap,Xt=xt&&!!w.sheenColorMap,ie=xt&&!!w.sheenRoughnessMap,oe=!!w.specularMap,kt=!!w.specularColorMap,ve=!!w.specularIntensityMap,tt=bt&&!!w.transmissionMap,Gt=bt&&!!w.thicknessMap,Pt=!!w.gradientMap,Yt=!!w.alphaMap,Ut=w.alphaTest>0,At=!!w.alphaHash,Qt=!!w.extensions;let fe=Za;w.toneMapped&&(Vt===null||Vt.isXRRenderTarget===!0)&&(fe=n.toneMapping);const nn={shaderID:Rt,shaderType:w.type,shaderName:w.name,vertexShader:Et,fragmentShader:it,defines:w.defines,customVertexShaderID:St,customFragmentShaderID:Ct,isRawShaderMaterial:w.isRawShaderMaterial===!0,glslVersion:w.glslVersion,precision:E,batching:ee,batchingColor:ee&&V._colorsTexture!==null,instancing:de,instancingColor:de&&V.instanceColor!==null,instancingMorph:de&&V.morphTexture!==null,supportsVertexTextures:x,outputColorSpace:Vt===null?n.outputColorSpace:Vt.isXRRenderTarget===!0?Vt.texture.colorSpace:jc,alphaToCoverage:!!w.alphaToCoverage,map:Ie,matcap:We,envMap:ge,envMapMode:ge&&Z.mapping,envMapCubeUVHeight:Q,aoMap:$,lightMap:bn,bumpMap:je,normalMap:Pe,displacementMap:x&&ne,emissiveMap:Oe,normalMapObjectSpace:Pe&&w.normalMapType===$5,normalMapTangentSpace:Pe&&w.normalMapType===K5,metalnessMap:ae,roughnessMap:_e,anisotropy:Rn,anisotropyMap:_t,clearcoat:X,clearcoatMap:qt,clearcoatNormalMap:zt,clearcoatRoughnessMap:te,dispersion:F,iridescence:ut,iridescenceMap:Zt,iridescenceThicknessMap:It,sheen:xt,sheenColorMap:Xt,sheenRoughnessMap:ie,specularMap:oe,specularColorMap:kt,specularIntensityMap:ve,transmission:bt,transmissionMap:tt,thicknessMap:Gt,gradientMap:Pt,opaque:w.transparent===!1&&w.blending===Cc&&w.alphaToCoverage===!1,alphaMap:Yt,alphaTest:Ut,alphaHash:At,combine:w.combine,mapUv:Ie&&C(w.map.channel),aoMapUv:$&&C(w.aoMap.channel),lightMapUv:bn&&C(w.lightMap.channel),bumpMapUv:je&&C(w.bumpMap.channel),normalMapUv:Pe&&C(w.normalMap.channel),displacementMapUv:ne&&C(w.displacementMap.channel),emissiveMapUv:Oe&&C(w.emissiveMap.channel),metalnessMapUv:ae&&C(w.metalnessMap.channel),roughnessMapUv:_e&&C(w.roughnessMap.channel),anisotropyMapUv:_t&&C(w.anisotropyMap.channel),clearcoatMapUv:qt&&C(w.clearcoatMap.channel),clearcoatNormalMapUv:zt&&C(w.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:te&&C(w.clearcoatRoughnessMap.channel),iridescenceMapUv:Zt&&C(w.iridescenceMap.channel),iridescenceThicknessMapUv:It&&C(w.iridescenceThicknessMap.channel),sheenColorMapUv:Xt&&C(w.sheenColorMap.channel),sheenRoughnessMapUv:ie&&C(w.sheenRoughnessMap.channel),specularMapUv:oe&&C(w.specularMap.channel),specularColorMapUv:kt&&C(w.specularColorMap.channel),specularIntensityMapUv:ve&&C(w.specularIntensityMap.channel),transmissionMapUv:tt&&C(w.transmissionMap.channel),thicknessMapUv:Gt&&C(w.thicknessMap.channel),alphaMapUv:Yt&&C(w.alphaMap.channel),vertexTangents:!!gt.attributes.tangent&&(Pe||Rn),vertexColors:w.vertexColors,vertexAlphas:w.vertexColors===!0&&!!gt.attributes.color&&gt.attributes.color.itemSize===4,pointsUvs:V.isPoints===!0&&!!gt.attributes.uv&&(Ie||Yt),fog:!!yt,useFog:w.fog===!0,fogExp2:!!yt&&yt.isFogExp2,flatShading:w.flatShading===!0&&w.wireframe===!1,sizeAttenuation:w.sizeAttenuation===!0,logarithmicDepthBuffer:y,reverseDepthBuffer:Ft,skinning:V.isSkinnedMesh===!0,morphTargets:gt.morphAttributes.position!==void 0,morphNormals:gt.morphAttributes.normal!==void 0,morphColors:gt.morphAttributes.color!==void 0,morphTargetsCount:at,morphTextureStride:wt,numDirLights:M.directional.length,numPointLights:M.point.length,numSpotLights:M.spot.length,numSpotLightMaps:M.spotLightMap.length,numRectAreaLights:M.rectArea.length,numHemiLights:M.hemi.length,numDirLightShadows:M.directionalShadowMap.length,numPointLightShadows:M.pointShadowMap.length,numSpotLightShadows:M.spotShadowMap.length,numSpotLightShadowsWithMaps:M.numSpotLightShadowsWithMaps,numLightProbes:M.numLightProbes,numClippingPlanes:l.numPlanes,numClipIntersection:l.numIntersection,dithering:w.dithering,shadowMapEnabled:n.shadowMap.enabled&&P.length>0,shadowMapType:n.shadowMap.type,toneMapping:fe,decodeVideoTexture:Ie&&w.map.isVideoTexture===!0&&an.getTransfer(w.map.colorSpace)===yn,decodeVideoTextureEmissive:Oe&&w.emissiveMap.isVideoTexture===!0&&an.getTransfer(w.emissiveMap.colorSpace)===yn,premultipliedAlpha:w.premultipliedAlpha,doubleSided:w.side===sa,flipSided:w.side===Qi,useDepthPacking:w.depthPacking>=0,depthPacking:w.depthPacking||0,index0AttributeName:w.index0AttributeName,extensionClipCullDistance:Qt&&w.extensions.clipCullDistance===!0&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Qt&&w.extensions.multiDraw===!0||ee)&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:w.customProgramCacheKey()};return nn.vertexUv1s=f.has(1),nn.vertexUv2s=f.has(2),nn.vertexUv3s=f.has(3),f.clear(),nn}function b(w){const M=[];if(w.shaderID?M.push(w.shaderID):(M.push(w.customVertexShaderID),M.push(w.customFragmentShaderID)),w.defines!==void 0)for(const P in w.defines)M.push(P),M.push(w.defines[P]);return w.isRawShaderMaterial===!1&&(O(M,w),N(M,w),M.push(n.outputColorSpace)),M.push(w.customProgramCacheKey),M.join()}function O(w,M){w.push(M.precision),w.push(M.outputColorSpace),w.push(M.envMapMode),w.push(M.envMapCubeUVHeight),w.push(M.mapUv),w.push(M.alphaMapUv),w.push(M.lightMapUv),w.push(M.aoMapUv),w.push(M.bumpMapUv),w.push(M.normalMapUv),w.push(M.displacementMapUv),w.push(M.emissiveMapUv),w.push(M.metalnessMapUv),w.push(M.roughnessMapUv),w.push(M.anisotropyMapUv),w.push(M.clearcoatMapUv),w.push(M.clearcoatNormalMapUv),w.push(M.clearcoatRoughnessMapUv),w.push(M.iridescenceMapUv),w.push(M.iridescenceThicknessMapUv),w.push(M.sheenColorMapUv),w.push(M.sheenRoughnessMapUv),w.push(M.specularMapUv),w.push(M.specularColorMapUv),w.push(M.specularIntensityMapUv),w.push(M.transmissionMapUv),w.push(M.thicknessMapUv),w.push(M.combine),w.push(M.fogExp2),w.push(M.sizeAttenuation),w.push(M.morphTargetsCount),w.push(M.morphAttributeCount),w.push(M.numDirLights),w.push(M.numPointLights),w.push(M.numSpotLights),w.push(M.numSpotLightMaps),w.push(M.numHemiLights),w.push(M.numRectAreaLights),w.push(M.numDirLightShadows),w.push(M.numPointLightShadows),w.push(M.numSpotLightShadows),w.push(M.numSpotLightShadowsWithMaps),w.push(M.numLightProbes),w.push(M.shadowMapType),w.push(M.toneMapping),w.push(M.numClippingPlanes),w.push(M.numClipIntersection),w.push(M.depthPacking)}function N(w,M){u.disableAll(),M.supportsVertexTextures&&u.enable(0),M.instancing&&u.enable(1),M.instancingColor&&u.enable(2),M.instancingMorph&&u.enable(3),M.matcap&&u.enable(4),M.envMap&&u.enable(5),M.normalMapObjectSpace&&u.enable(6),M.normalMapTangentSpace&&u.enable(7),M.clearcoat&&u.enable(8),M.iridescence&&u.enable(9),M.alphaTest&&u.enable(10),M.vertexColors&&u.enable(11),M.vertexAlphas&&u.enable(12),M.vertexUv1s&&u.enable(13),M.vertexUv2s&&u.enable(14),M.vertexUv3s&&u.enable(15),M.vertexTangents&&u.enable(16),M.anisotropy&&u.enable(17),M.alphaHash&&u.enable(18),M.batching&&u.enable(19),M.dispersion&&u.enable(20),M.batchingColor&&u.enable(21),M.gradientMap&&u.enable(22),w.push(u.mask),u.disableAll(),M.fog&&u.enable(0),M.useFog&&u.enable(1),M.flatShading&&u.enable(2),M.logarithmicDepthBuffer&&u.enable(3),M.reverseDepthBuffer&&u.enable(4),M.skinning&&u.enable(5),M.morphTargets&&u.enable(6),M.morphNormals&&u.enable(7),M.morphColors&&u.enable(8),M.premultipliedAlpha&&u.enable(9),M.shadowMapEnabled&&u.enable(10),M.doubleSided&&u.enable(11),M.flipSided&&u.enable(12),M.useDepthPacking&&u.enable(13),M.dithering&&u.enable(14),M.transmission&&u.enable(15),M.sheen&&u.enable(16),M.opaque&&u.enable(17),M.pointsUvs&&u.enable(18),M.decodeVideoTexture&&u.enable(19),M.decodeVideoTextureEmissive&&u.enable(20),M.alphaToCoverage&&u.enable(21),w.push(u.mask)}function U(w){const M=T[w.type];let P;if(M){const z=mr[M];P=MF.clone(z.uniforms)}else P=w.uniforms;return P}function j(w,M){let P;for(let z=0,V=g.length;z<V;z++){const yt=g[z];if(yt.cacheKey===M){P=yt,++P.usedTimes;break}}return P===void 0&&(P=new $z(n,M,w,o),g.push(P)),P}function G(w){if(--w.usedTimes===0){const M=g.indexOf(w);g[M]=g[g.length-1],g.pop(),w.destroy()}}function D(w){d.remove(w)}function R(){d.dispose()}return{getParameters:S,getProgramCacheKey:b,getUniforms:U,acquireProgram:j,releaseProgram:G,releaseShaderCache:D,programs:g,dispose:R}}function e8(){let n=new WeakMap;function t(l){return n.has(l)}function e(l){let u=n.get(l);return u===void 0&&(u={},n.set(l,u)),u}function i(l){n.delete(l)}function r(l,u,d){n.get(l)[u]=d}function o(){n=new WeakMap}return{has:t,get:e,remove:i,update:r,dispose:o}}function n8(n,t){return n.groupOrder!==t.groupOrder?n.groupOrder-t.groupOrder:n.renderOrder!==t.renderOrder?n.renderOrder-t.renderOrder:n.material.id!==t.material.id?n.material.id-t.material.id:n.z!==t.z?n.z-t.z:n.id-t.id}function gA(n,t){return n.groupOrder!==t.groupOrder?n.groupOrder-t.groupOrder:n.renderOrder!==t.renderOrder?n.renderOrder-t.renderOrder:n.z!==t.z?t.z-n.z:n.id-t.id}function vA(){const n=[];let t=0;const e=[],i=[],r=[];function o(){t=0,e.length=0,i.length=0,r.length=0}function l(y,x,E,T,C,S){let b=n[t];return b===void 0?(b={id:y.id,object:y,geometry:x,material:E,groupOrder:T,renderOrder:y.renderOrder,z:C,group:S},n[t]=b):(b.id=y.id,b.object=y,b.geometry=x,b.material=E,b.groupOrder=T,b.renderOrder=y.renderOrder,b.z=C,b.group=S),t++,b}function u(y,x,E,T,C,S){const b=l(y,x,E,T,C,S);E.transmission>0?i.push(b):E.transparent===!0?r.push(b):e.push(b)}function d(y,x,E,T,C,S){const b=l(y,x,E,T,C,S);E.transmission>0?i.unshift(b):E.transparent===!0?r.unshift(b):e.unshift(b)}function f(y,x){e.length>1&&e.sort(y||n8),i.length>1&&i.sort(x||gA),r.length>1&&r.sort(x||gA)}function g(){for(let y=t,x=n.length;y<x;y++){const E=n[y];if(E.id===null)break;E.id=null,E.object=null,E.geometry=null,E.material=null,E.group=null}}return{opaque:e,transmissive:i,transparent:r,init:o,push:u,unshift:d,finish:g,sort:f}}function i8(){let n=new WeakMap;function t(i,r){const o=n.get(i);let l;return o===void 0?(l=new vA,n.set(i,[l])):r>=o.length?(l=new vA,o.push(l)):l=o[r],l}function e(){n=new WeakMap}return{get:t,dispose:e}}function s8(){const n={};return{get:function(t){if(n[t.id]!==void 0)return n[t.id];let e;switch(t.type){case"DirectionalLight":e={direction:new pt,color:new mn};break;case"SpotLight":e={position:new pt,direction:new pt,color:new mn,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":e={position:new pt,color:new mn,distance:0,decay:0};break;case"HemisphereLight":e={direction:new pt,skyColor:new mn,groundColor:new mn};break;case"RectAreaLight":e={color:new mn,position:new pt,halfWidth:new pt,halfHeight:new pt};break}return n[t.id]=e,e}}}function r8(){const n={};return{get:function(t){if(n[t.id]!==void 0)return n[t.id];let e;switch(t.type){case"DirectionalLight":e={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new xn};break;case"SpotLight":e={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new xn};break;case"PointLight":e={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new xn,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[t.id]=e,e}}}let a8=0;function o8(n,t){return(t.castShadow?2:0)-(n.castShadow?2:0)+(t.map?1:0)-(n.map?1:0)}function l8(n){const t=new s8,e=r8(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let f=0;f<9;f++)i.probe.push(new pt);const r=new pt,o=new Xn,l=new Xn;function u(f){let g=0,y=0,x=0;for(let w=0;w<9;w++)i.probe[w].set(0,0,0);let E=0,T=0,C=0,S=0,b=0,O=0,N=0,U=0,j=0,G=0,D=0;f.sort(o8);for(let w=0,M=f.length;w<M;w++){const P=f[w],z=P.color,V=P.intensity,yt=P.distance,gt=P.shadow&&P.shadow.map?P.shadow.map.texture:null;if(P.isAmbientLight)g+=z.r*V,y+=z.g*V,x+=z.b*V;else if(P.isLightProbe){for(let Y=0;Y<9;Y++)i.probe[Y].addScaledVector(P.sh.coefficients[Y],V);D++}else if(P.isDirectionalLight){const Y=t.get(P);if(Y.color.copy(P.color).multiplyScalar(P.intensity),P.castShadow){const Z=P.shadow,Q=e.get(P);Q.shadowIntensity=Z.intensity,Q.shadowBias=Z.bias,Q.shadowNormalBias=Z.normalBias,Q.shadowRadius=Z.radius,Q.shadowMapSize=Z.mapSize,i.directionalShadow[E]=Q,i.directionalShadowMap[E]=gt,i.directionalShadowMatrix[E]=P.shadow.matrix,O++}i.directional[E]=Y,E++}else if(P.isSpotLight){const Y=t.get(P);Y.position.setFromMatrixPosition(P.matrixWorld),Y.color.copy(z).multiplyScalar(V),Y.distance=yt,Y.coneCos=Math.cos(P.angle),Y.penumbraCos=Math.cos(P.angle*(1-P.penumbra)),Y.decay=P.decay,i.spot[C]=Y;const Z=P.shadow;if(P.map&&(i.spotLightMap[j]=P.map,j++,Z.updateMatrices(P),P.castShadow&&G++),i.spotLightMatrix[C]=Z.matrix,P.castShadow){const Q=e.get(P);Q.shadowIntensity=Z.intensity,Q.shadowBias=Z.bias,Q.shadowNormalBias=Z.normalBias,Q.shadowRadius=Z.radius,Q.shadowMapSize=Z.mapSize,i.spotShadow[C]=Q,i.spotShadowMap[C]=gt,U++}C++}else if(P.isRectAreaLight){const Y=t.get(P);Y.color.copy(z).multiplyScalar(V),Y.halfWidth.set(P.width*.5,0,0),Y.halfHeight.set(0,P.height*.5,0),i.rectArea[S]=Y,S++}else if(P.isPointLight){const Y=t.get(P);if(Y.color.copy(P.color).multiplyScalar(P.intensity),Y.distance=P.distance,Y.decay=P.decay,P.castShadow){const Z=P.shadow,Q=e.get(P);Q.shadowIntensity=Z.intensity,Q.shadowBias=Z.bias,Q.shadowNormalBias=Z.normalBias,Q.shadowRadius=Z.radius,Q.shadowMapSize=Z.mapSize,Q.shadowCameraNear=Z.camera.near,Q.shadowCameraFar=Z.camera.far,i.pointShadow[T]=Q,i.pointShadowMap[T]=gt,i.pointShadowMatrix[T]=P.shadow.matrix,N++}i.point[T]=Y,T++}else if(P.isHemisphereLight){const Y=t.get(P);Y.skyColor.copy(P.color).multiplyScalar(V),Y.groundColor.copy(P.groundColor).multiplyScalar(V),i.hemi[b]=Y,b++}}S>0&&(n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Wt.LTC_FLOAT_1,i.rectAreaLTC2=Wt.LTC_FLOAT_2):(i.rectAreaLTC1=Wt.LTC_HALF_1,i.rectAreaLTC2=Wt.LTC_HALF_2)),i.ambient[0]=g,i.ambient[1]=y,i.ambient[2]=x;const R=i.hash;(R.directionalLength!==E||R.pointLength!==T||R.spotLength!==C||R.rectAreaLength!==S||R.hemiLength!==b||R.numDirectionalShadows!==O||R.numPointShadows!==N||R.numSpotShadows!==U||R.numSpotMaps!==j||R.numLightProbes!==D)&&(i.directional.length=E,i.spot.length=C,i.rectArea.length=S,i.point.length=T,i.hemi.length=b,i.directionalShadow.length=O,i.directionalShadowMap.length=O,i.pointShadow.length=N,i.pointShadowMap.length=N,i.spotShadow.length=U,i.spotShadowMap.length=U,i.directionalShadowMatrix.length=O,i.pointShadowMatrix.length=N,i.spotLightMatrix.length=U+j-G,i.spotLightMap.length=j,i.numSpotLightShadowsWithMaps=G,i.numLightProbes=D,R.directionalLength=E,R.pointLength=T,R.spotLength=C,R.rectAreaLength=S,R.hemiLength=b,R.numDirectionalShadows=O,R.numPointShadows=N,R.numSpotShadows=U,R.numSpotMaps=j,R.numLightProbes=D,i.version=a8++)}function d(f,g){let y=0,x=0,E=0,T=0,C=0;const S=g.matrixWorldInverse;for(let b=0,O=f.length;b<O;b++){const N=f[b];if(N.isDirectionalLight){const U=i.directional[y];U.direction.setFromMatrixPosition(N.matrixWorld),r.setFromMatrixPosition(N.target.matrixWorld),U.direction.sub(r),U.direction.transformDirection(S),y++}else if(N.isSpotLight){const U=i.spot[E];U.position.setFromMatrixPosition(N.matrixWorld),U.position.applyMatrix4(S),U.direction.setFromMatrixPosition(N.matrixWorld),r.setFromMatrixPosition(N.target.matrixWorld),U.direction.sub(r),U.direction.transformDirection(S),E++}else if(N.isRectAreaLight){const U=i.rectArea[T];U.position.setFromMatrixPosition(N.matrixWorld),U.position.applyMatrix4(S),l.identity(),o.copy(N.matrixWorld),o.premultiply(S),l.extractRotation(o),U.halfWidth.set(N.width*.5,0,0),U.halfHeight.set(0,N.height*.5,0),U.halfWidth.applyMatrix4(l),U.halfHeight.applyMatrix4(l),T++}else if(N.isPointLight){const U=i.point[x];U.position.setFromMatrixPosition(N.matrixWorld),U.position.applyMatrix4(S),x++}else if(N.isHemisphereLight){const U=i.hemi[C];U.direction.setFromMatrixPosition(N.matrixWorld),U.direction.transformDirection(S),C++}}}return{setup:u,setupView:d,state:i}}function yA(n){const t=new l8(n),e=[],i=[];function r(g){f.camera=g,e.length=0,i.length=0}function o(g){e.push(g)}function l(g){i.push(g)}function u(){t.setup(e)}function d(g){t.setupView(e,g)}const f={lightsArray:e,shadowsArray:i,camera:null,lights:t,transmissionRenderTarget:{}};return{init:r,state:f,setupLights:u,setupLightsView:d,pushLight:o,pushShadow:l}}function c8(n){let t=new WeakMap;function e(r,o=0){const l=t.get(r);let u;return l===void 0?(u=new yA(n),t.set(r,[u])):o>=l.length?(u=new yA(n),l.push(u)):u=l[o],u}function i(){t=new WeakMap}return{get:e,dispose:i}}const u8=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,h8=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function d8(n,t,e){let i=new dC;const r=new xn,o=new xn,l=new qn,u=new FF({depthPacking:Y5}),d=new BF,f={},g=e.maxTextureSize,y={[ao]:Qi,[Qi]:ao,[sa]:sa},x=new oo({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new xn},radius:{value:4}},vertexShader:u8,fragmentShader:h8}),E=x.clone();E.defines.HORIZONTAL_PASS=1;const T=new Nr;T.setAttribute("position",new _r(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const C=new gr(T,x),S=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=GR;let b=this.type;this.render=function(G,D,R){if(S.enabled===!1||S.autoUpdate===!1&&S.needsUpdate===!1||G.length===0)return;const w=n.getRenderTarget(),M=n.getActiveCubeFace(),P=n.getActiveMipmapLevel(),z=n.state;z.setBlending(Qa),z.buffers.color.setClear(1,1,1,1),z.buffers.depth.setTest(!0),z.setScissorTest(!1);const V=b!==ia&&this.type===ia,yt=b===ia&&this.type!==ia;for(let gt=0,Y=G.length;gt<Y;gt++){const Z=G[gt],Q=Z.shadow;if(Q===void 0){console.warn("THREE.WebGLShadowMap:",Z,"has no shadow.");continue}if(Q.autoUpdate===!1&&Q.needsUpdate===!1)continue;r.copy(Q.mapSize);const Rt=Q.getFrameExtents();if(r.multiply(Rt),o.copy(Q.mapSize),(r.x>g||r.y>g)&&(r.x>g&&(o.x=Math.floor(g/Rt.x),r.x=o.x*Rt.x,Q.mapSize.x=o.x),r.y>g&&(o.y=Math.floor(g/Rt.y),r.y=o.y*Rt.y,Q.mapSize.y=o.y)),Q.map===null||V===!0||yt===!0){const at=this.type!==ia?{minFilter:Ws,magFilter:Ws}:{};Q.map!==null&&Q.map.dispose(),Q.map=new cl(r.x,r.y,at),Q.map.texture.name=Z.name+".shadowMap",Q.camera.updateProjectionMatrix()}n.setRenderTarget(Q.map),n.clear();const W=Q.getViewportCount();for(let at=0;at<W;at++){const wt=Q.getViewport(at);l.set(o.x*wt.x,o.y*wt.y,o.x*wt.z,o.y*wt.w),z.viewport(l),Q.updateMatrices(Z,at),i=Q.getFrustum(),U(D,R,Q.camera,Z,this.type)}Q.isPointLightShadow!==!0&&this.type===ia&&O(Q,R),Q.needsUpdate=!1}b=this.type,S.needsUpdate=!1,n.setRenderTarget(w,M,P)};function O(G,D){const R=t.update(C);x.defines.VSM_SAMPLES!==G.blurSamples&&(x.defines.VSM_SAMPLES=G.blurSamples,E.defines.VSM_SAMPLES=G.blurSamples,x.needsUpdate=!0,E.needsUpdate=!0),G.mapPass===null&&(G.mapPass=new cl(r.x,r.y)),x.uniforms.shadow_pass.value=G.map.texture,x.uniforms.resolution.value=G.mapSize,x.uniforms.radius.value=G.radius,n.setRenderTarget(G.mapPass),n.clear(),n.renderBufferDirect(D,null,R,x,C,null),E.uniforms.shadow_pass.value=G.mapPass.texture,E.uniforms.resolution.value=G.mapSize,E.uniforms.radius.value=G.radius,n.setRenderTarget(G.map),n.clear(),n.renderBufferDirect(D,null,R,E,C,null)}function N(G,D,R,w){let M=null;const P=R.isPointLight===!0?G.customDistanceMaterial:G.customDepthMaterial;if(P!==void 0)M=P;else if(M=R.isPointLight===!0?d:u,n.localClippingEnabled&&D.clipShadows===!0&&Array.isArray(D.clippingPlanes)&&D.clippingPlanes.length!==0||D.displacementMap&&D.displacementScale!==0||D.alphaMap&&D.alphaTest>0||D.map&&D.alphaTest>0||D.alphaToCoverage===!0){const z=M.uuid,V=D.uuid;let yt=f[z];yt===void 0&&(yt={},f[z]=yt);let gt=yt[V];gt===void 0&&(gt=M.clone(),yt[V]=gt,D.addEventListener("dispose",j)),M=gt}if(M.visible=D.visible,M.wireframe=D.wireframe,w===ia?M.side=D.shadowSide!==null?D.shadowSide:D.side:M.side=D.shadowSide!==null?D.shadowSide:y[D.side],M.alphaMap=D.alphaMap,M.alphaTest=D.alphaToCoverage===!0?.5:D.alphaTest,M.map=D.map,M.clipShadows=D.clipShadows,M.clippingPlanes=D.clippingPlanes,M.clipIntersection=D.clipIntersection,M.displacementMap=D.displacementMap,M.displacementScale=D.displacementScale,M.displacementBias=D.displacementBias,M.wireframeLinewidth=D.wireframeLinewidth,M.linewidth=D.linewidth,R.isPointLight===!0&&M.isMeshDistanceMaterial===!0){const z=n.properties.get(M);z.light=R}return M}function U(G,D,R,w,M){if(G.visible===!1)return;if(G.layers.test(D.layers)&&(G.isMesh||G.isLine||G.isPoints)&&(G.castShadow||G.receiveShadow&&M===ia)&&(!G.frustumCulled||i.intersectsObject(G))){G.modelViewMatrix.multiplyMatrices(R.matrixWorldInverse,G.matrixWorld);const V=t.update(G),yt=G.material;if(Array.isArray(yt)){const gt=V.groups;for(let Y=0,Z=gt.length;Y<Z;Y++){const Q=gt[Y],Rt=yt[Q.materialIndex];if(Rt&&Rt.visible){const W=N(G,Rt,w,M);G.onBeforeShadow(n,G,D,R,V,W,Q),n.renderBufferDirect(R,null,V,W,G,Q),G.onAfterShadow(n,G,D,R,V,W,Q)}}}else if(yt.visible){const gt=N(G,yt,w,M);G.onBeforeShadow(n,G,D,R,V,gt,null),n.renderBufferDirect(R,null,V,gt,G,null),G.onAfterShadow(n,G,D,R,V,gt,null)}}const z=G.children;for(let V=0,yt=z.length;V<yt;V++)U(z[V],D,R,w,M)}function j(G){G.target.removeEventListener("dispose",j);for(const R in f){const w=f[R],M=G.target.uuid;M in w&&(w[M].dispose(),delete w[M])}}}const f8={[Ny]:Dy,[Iy]:Oy,[Py]:Uy,[Fc]:Ly,[Dy]:Ny,[Oy]:Iy,[Uy]:Py,[Ly]:Fc};function m8(n,t){function e(){let tt=!1;const Gt=new qn;let Pt=null;const Yt=new qn(0,0,0,0);return{setMask:function(Ut){Pt!==Ut&&!tt&&(n.colorMask(Ut,Ut,Ut,Ut),Pt=Ut)},setLocked:function(Ut){tt=Ut},setClear:function(Ut,At,Qt,fe,nn){nn===!0&&(Ut*=fe,At*=fe,Qt*=fe),Gt.set(Ut,At,Qt,fe),Yt.equals(Gt)===!1&&(n.clearColor(Ut,At,Qt,fe),Yt.copy(Gt))},reset:function(){tt=!1,Pt=null,Yt.set(-1,0,0,0)}}}function i(){let tt=!1,Gt=!1,Pt=null,Yt=null,Ut=null;return{setReversed:function(At){if(Gt!==At){const Qt=t.get("EXT_clip_control");At?Qt.clipControlEXT(Qt.LOWER_LEFT_EXT,Qt.ZERO_TO_ONE_EXT):Qt.clipControlEXT(Qt.LOWER_LEFT_EXT,Qt.NEGATIVE_ONE_TO_ONE_EXT),Gt=At;const fe=Ut;Ut=null,this.setClear(fe)}},getReversed:function(){return Gt},setTest:function(At){At?Vt(n.DEPTH_TEST):Ft(n.DEPTH_TEST)},setMask:function(At){Pt!==At&&!tt&&(n.depthMask(At),Pt=At)},setFunc:function(At){if(Gt&&(At=f8[At]),Yt!==At){switch(At){case Ny:n.depthFunc(n.NEVER);break;case Dy:n.depthFunc(n.ALWAYS);break;case Iy:n.depthFunc(n.LESS);break;case Fc:n.depthFunc(n.LEQUAL);break;case Py:n.depthFunc(n.EQUAL);break;case Ly:n.depthFunc(n.GEQUAL);break;case Oy:n.depthFunc(n.GREATER);break;case Uy:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}Yt=At}},setLocked:function(At){tt=At},setClear:function(At){Ut!==At&&(Gt&&(At=1-At),n.clearDepth(At),Ut=At)},reset:function(){tt=!1,Pt=null,Yt=null,Ut=null,Gt=!1}}}function r(){let tt=!1,Gt=null,Pt=null,Yt=null,Ut=null,At=null,Qt=null,fe=null,nn=null;return{setTest:function(Ue){tt||(Ue?Vt(n.STENCIL_TEST):Ft(n.STENCIL_TEST))},setMask:function(Ue){Gt!==Ue&&!tt&&(n.stencilMask(Ue),Gt=Ue)},setFunc:function(Ue,Ci,Xe){(Pt!==Ue||Yt!==Ci||Ut!==Xe)&&(n.stencilFunc(Ue,Ci,Xe),Pt=Ue,Yt=Ci,Ut=Xe)},setOp:function(Ue,Ci,Xe){(At!==Ue||Qt!==Ci||fe!==Xe)&&(n.stencilOp(Ue,Ci,Xe),At=Ue,Qt=Ci,fe=Xe)},setLocked:function(Ue){tt=Ue},setClear:function(Ue){nn!==Ue&&(n.clearStencil(Ue),nn=Ue)},reset:function(){tt=!1,Gt=null,Pt=null,Yt=null,Ut=null,At=null,Qt=null,fe=null,nn=null}}}const o=new e,l=new i,u=new r,d=new WeakMap,f=new WeakMap;let g={},y={},x=new WeakMap,E=[],T=null,C=!1,S=null,b=null,O=null,N=null,U=null,j=null,G=null,D=new mn(0,0,0),R=0,w=!1,M=null,P=null,z=null,V=null,yt=null;const gt=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let Y=!1,Z=0;const Q=n.getParameter(n.VERSION);Q.indexOf("WebGL")!==-1?(Z=parseFloat(/^WebGL (\d)/.exec(Q)[1]),Y=Z>=1):Q.indexOf("OpenGL ES")!==-1&&(Z=parseFloat(/^OpenGL ES (\d)/.exec(Q)[1]),Y=Z>=2);let Rt=null,W={};const at=n.getParameter(n.SCISSOR_BOX),wt=n.getParameter(n.VIEWPORT),Et=new qn().fromArray(at),it=new qn().fromArray(wt);function St(tt,Gt,Pt,Yt){const Ut=new Uint8Array(4),At=n.createTexture();n.bindTexture(tt,At),n.texParameteri(tt,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(tt,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let Qt=0;Qt<Pt;Qt++)tt===n.TEXTURE_3D||tt===n.TEXTURE_2D_ARRAY?n.texImage3D(Gt,0,n.RGBA,1,1,Yt,0,n.RGBA,n.UNSIGNED_BYTE,Ut):n.texImage2D(Gt+Qt,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,Ut);return At}const Ct={};Ct[n.TEXTURE_2D]=St(n.TEXTURE_2D,n.TEXTURE_2D,1),Ct[n.TEXTURE_CUBE_MAP]=St(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),Ct[n.TEXTURE_2D_ARRAY]=St(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),Ct[n.TEXTURE_3D]=St(n.TEXTURE_3D,n.TEXTURE_3D,1,1),o.setClear(0,0,0,1),l.setClear(1),u.setClear(0),Vt(n.DEPTH_TEST),l.setFunc(Fc),je(!1),Pe(Ew),Vt(n.CULL_FACE),$(Qa);function Vt(tt){g[tt]!==!0&&(n.enable(tt),g[tt]=!0)}function Ft(tt){g[tt]!==!1&&(n.disable(tt),g[tt]=!1)}function de(tt,Gt){return y[tt]!==Gt?(n.bindFramebuffer(tt,Gt),y[tt]=Gt,tt===n.DRAW_FRAMEBUFFER&&(y[n.FRAMEBUFFER]=Gt),tt===n.FRAMEBUFFER&&(y[n.DRAW_FRAMEBUFFER]=Gt),!0):!1}function ee(tt,Gt){let Pt=E,Yt=!1;if(tt){Pt=x.get(Gt),Pt===void 0&&(Pt=[],x.set(Gt,Pt));const Ut=tt.textures;if(Pt.length!==Ut.length||Pt[0]!==n.COLOR_ATTACHMENT0){for(let At=0,Qt=Ut.length;At<Qt;At++)Pt[At]=n.COLOR_ATTACHMENT0+At;Pt.length=Ut.length,Yt=!0}}else Pt[0]!==n.BACK&&(Pt[0]=n.BACK,Yt=!0);Yt&&n.drawBuffers(Pt)}function Ie(tt){return T!==tt?(n.useProgram(tt),T=tt,!0):!1}const We={[$o]:n.FUNC_ADD,[_5]:n.FUNC_SUBTRACT,[b5]:n.FUNC_REVERSE_SUBTRACT};We[E5]=n.MIN,We[S5]=n.MAX;const ge={[T5]:n.ZERO,[w5]:n.ONE,[A5]:n.SRC_COLOR,[Ry]:n.SRC_ALPHA,[I5]:n.SRC_ALPHA_SATURATE,[N5]:n.DST_COLOR,[R5]:n.DST_ALPHA,[M5]:n.ONE_MINUS_SRC_COLOR,[Cy]:n.ONE_MINUS_SRC_ALPHA,[D5]:n.ONE_MINUS_DST_COLOR,[C5]:n.ONE_MINUS_DST_ALPHA,[P5]:n.CONSTANT_COLOR,[L5]:n.ONE_MINUS_CONSTANT_COLOR,[O5]:n.CONSTANT_ALPHA,[U5]:n.ONE_MINUS_CONSTANT_ALPHA};function $(tt,Gt,Pt,Yt,Ut,At,Qt,fe,nn,Ue){if(tt===Qa){C===!0&&(Ft(n.BLEND),C=!1);return}if(C===!1&&(Vt(n.BLEND),C=!0),tt!==x5){if(tt!==S||Ue!==w){if((b!==$o||U!==$o)&&(n.blendEquation(n.FUNC_ADD),b=$o,U=$o),Ue)switch(tt){case Cc:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case Sw:n.blendFunc(n.ONE,n.ONE);break;case Tw:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case ww:n.blendFuncSeparate(n.DST_COLOR,n.ONE_MINUS_SRC_ALPHA,n.ZERO,n.ONE);break;default:console.error("THREE.WebGLState: Invalid blending: ",tt);break}else switch(tt){case Cc:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case Sw:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE,n.ONE,n.ONE);break;case Tw:console.error("THREE.WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case ww:console.error("THREE.WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:console.error("THREE.WebGLState: Invalid blending: ",tt);break}O=null,N=null,j=null,G=null,D.set(0,0,0),R=0,S=tt,w=Ue}return}Ut=Ut||Gt,At=At||Pt,Qt=Qt||Yt,(Gt!==b||Ut!==U)&&(n.blendEquationSeparate(We[Gt],We[Ut]),b=Gt,U=Ut),(Pt!==O||Yt!==N||At!==j||Qt!==G)&&(n.blendFuncSeparate(ge[Pt],ge[Yt],ge[At],ge[Qt]),O=Pt,N=Yt,j=At,G=Qt),(fe.equals(D)===!1||nn!==R)&&(n.blendColor(fe.r,fe.g,fe.b,nn),D.copy(fe),R=nn),S=tt,w=!1}function bn(tt,Gt){tt.side===sa?Ft(n.CULL_FACE):Vt(n.CULL_FACE);let Pt=tt.side===Qi;Gt&&(Pt=!Pt),je(Pt),tt.blending===Cc&&tt.transparent===!1?$(Qa):$(tt.blending,tt.blendEquation,tt.blendSrc,tt.blendDst,tt.blendEquationAlpha,tt.blendSrcAlpha,tt.blendDstAlpha,tt.blendColor,tt.blendAlpha,tt.premultipliedAlpha),l.setFunc(tt.depthFunc),l.setTest(tt.depthTest),l.setMask(tt.depthWrite),o.setMask(tt.colorWrite);const Yt=tt.stencilWrite;u.setTest(Yt),Yt&&(u.setMask(tt.stencilWriteMask),u.setFunc(tt.stencilFunc,tt.stencilRef,tt.stencilFuncMask),u.setOp(tt.stencilFail,tt.stencilZFail,tt.stencilZPass)),Oe(tt.polygonOffset,tt.polygonOffsetFactor,tt.polygonOffsetUnits),tt.alphaToCoverage===!0?Vt(n.SAMPLE_ALPHA_TO_COVERAGE):Ft(n.SAMPLE_ALPHA_TO_COVERAGE)}function je(tt){M!==tt&&(tt?n.frontFace(n.CW):n.frontFace(n.CCW),M=tt)}function Pe(tt){tt!==g5?(Vt(n.CULL_FACE),tt!==P&&(tt===Ew?n.cullFace(n.BACK):tt===v5?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):Ft(n.CULL_FACE),P=tt}function ne(tt){tt!==z&&(Y&&n.lineWidth(tt),z=tt)}function Oe(tt,Gt,Pt){tt?(Vt(n.POLYGON_OFFSET_FILL),(V!==Gt||yt!==Pt)&&(n.polygonOffset(Gt,Pt),V=Gt,yt=Pt)):Ft(n.POLYGON_OFFSET_FILL)}function ae(tt){tt?Vt(n.SCISSOR_TEST):Ft(n.SCISSOR_TEST)}function _e(tt){tt===void 0&&(tt=n.TEXTURE0+gt-1),Rt!==tt&&(n.activeTexture(tt),Rt=tt)}function Rn(tt,Gt,Pt){Pt===void 0&&(Rt===null?Pt=n.TEXTURE0+gt-1:Pt=Rt);let Yt=W[Pt];Yt===void 0&&(Yt={type:void 0,texture:void 0},W[Pt]=Yt),(Yt.type!==tt||Yt.texture!==Gt)&&(Rt!==Pt&&(n.activeTexture(Pt),Rt=Pt),n.bindTexture(tt,Gt||Ct[tt]),Yt.type=tt,Yt.texture=Gt)}function X(){const tt=W[Rt];tt!==void 0&&tt.type!==void 0&&(n.bindTexture(tt.type,null),tt.type=void 0,tt.texture=void 0)}function F(){try{n.compressedTexImage2D(...arguments)}catch(tt){console.error("THREE.WebGLState:",tt)}}function ut(){try{n.compressedTexImage3D(...arguments)}catch(tt){console.error("THREE.WebGLState:",tt)}}function xt(){try{n.texSubImage2D(...arguments)}catch(tt){console.error("THREE.WebGLState:",tt)}}function bt(){try{n.texSubImage3D(...arguments)}catch(tt){console.error("THREE.WebGLState:",tt)}}function _t(){try{n.compressedTexSubImage2D(...arguments)}catch(tt){console.error("THREE.WebGLState:",tt)}}function qt(){try{n.compressedTexSubImage3D(...arguments)}catch(tt){console.error("THREE.WebGLState:",tt)}}function zt(){try{n.texStorage2D(...arguments)}catch(tt){console.error("THREE.WebGLState:",tt)}}function te(){try{n.texStorage3D(...arguments)}catch(tt){console.error("THREE.WebGLState:",tt)}}function Zt(){try{n.texImage2D(...arguments)}catch(tt){console.error("THREE.WebGLState:",tt)}}function It(){try{n.texImage3D(...arguments)}catch(tt){console.error("THREE.WebGLState:",tt)}}function Xt(tt){Et.equals(tt)===!1&&(n.scissor(tt.x,tt.y,tt.z,tt.w),Et.copy(tt))}function ie(tt){it.equals(tt)===!1&&(n.viewport(tt.x,tt.y,tt.z,tt.w),it.copy(tt))}function oe(tt,Gt){let Pt=f.get(Gt);Pt===void 0&&(Pt=new WeakMap,f.set(Gt,Pt));let Yt=Pt.get(tt);Yt===void 0&&(Yt=n.getUniformBlockIndex(Gt,tt.name),Pt.set(tt,Yt))}function kt(tt,Gt){const Yt=f.get(Gt).get(tt);d.get(Gt)!==Yt&&(n.uniformBlockBinding(Gt,Yt,tt.__bindingPointIndex),d.set(Gt,Yt))}function ve(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),l.setReversed(!1),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),g={},Rt=null,W={},y={},x=new WeakMap,E=[],T=null,C=!1,S=null,b=null,O=null,N=null,U=null,j=null,G=null,D=new mn(0,0,0),R=0,w=!1,M=null,P=null,z=null,V=null,yt=null,Et.set(0,0,n.canvas.width,n.canvas.height),it.set(0,0,n.canvas.width,n.canvas.height),o.reset(),l.reset(),u.reset()}return{buffers:{color:o,depth:l,stencil:u},enable:Vt,disable:Ft,bindFramebuffer:de,drawBuffers:ee,useProgram:Ie,setBlending:$,setMaterial:bn,setFlipSided:je,setCullFace:Pe,setLineWidth:ne,setPolygonOffset:Oe,setScissorTest:ae,activeTexture:_e,bindTexture:Rn,unbindTexture:X,compressedTexImage2D:F,compressedTexImage3D:ut,texImage2D:Zt,texImage3D:It,updateUBOMapping:oe,uniformBlockBinding:kt,texStorage2D:zt,texStorage3D:te,texSubImage2D:xt,texSubImage3D:bt,compressedTexSubImage2D:_t,compressedTexSubImage3D:qt,scissor:Xt,viewport:ie,reset:ve}}function p8(n,t,e,i,r,o,l){const u=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,d=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),f=new xn,g=new WeakMap;let y;const x=new WeakMap;let E=!1;try{E=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function T(X,F){return E?new OffscreenCanvas(X,F):Jm("canvas")}function C(X,F,ut){let xt=1;const bt=Rn(X);if((bt.width>ut||bt.height>ut)&&(xt=ut/Math.max(bt.width,bt.height)),xt<1)if(typeof HTMLImageElement<"u"&&X instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&X instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&X instanceof ImageBitmap||typeof VideoFrame<"u"&&X instanceof VideoFrame){const _t=Math.floor(xt*bt.width),qt=Math.floor(xt*bt.height);y===void 0&&(y=T(_t,qt));const zt=F?T(_t,qt):y;return zt.width=_t,zt.height=qt,zt.getContext("2d").drawImage(X,0,0,_t,qt),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+bt.width+"x"+bt.height+") to ("+_t+"x"+qt+")."),zt}else return"data"in X&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+bt.width+"x"+bt.height+")."),X;return X}function S(X){return X.generateMipmaps}function b(X){n.generateMipmap(X)}function O(X){return X.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:X.isWebGL3DRenderTarget?n.TEXTURE_3D:X.isWebGLArrayRenderTarget||X.isCompressedArrayTexture?n.TEXTURE_2D_ARRAY:n.TEXTURE_2D}function N(X,F,ut,xt,bt=!1){if(X!==null){if(n[X]!==void 0)return n[X];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+X+"'")}let _t=F;if(F===n.RED&&(ut===n.FLOAT&&(_t=n.R32F),ut===n.HALF_FLOAT&&(_t=n.R16F),ut===n.UNSIGNED_BYTE&&(_t=n.R8)),F===n.RED_INTEGER&&(ut===n.UNSIGNED_BYTE&&(_t=n.R8UI),ut===n.UNSIGNED_SHORT&&(_t=n.R16UI),ut===n.UNSIGNED_INT&&(_t=n.R32UI),ut===n.BYTE&&(_t=n.R8I),ut===n.SHORT&&(_t=n.R16I),ut===n.INT&&(_t=n.R32I)),F===n.RG&&(ut===n.FLOAT&&(_t=n.RG32F),ut===n.HALF_FLOAT&&(_t=n.RG16F),ut===n.UNSIGNED_BYTE&&(_t=n.RG8)),F===n.RG_INTEGER&&(ut===n.UNSIGNED_BYTE&&(_t=n.RG8UI),ut===n.UNSIGNED_SHORT&&(_t=n.RG16UI),ut===n.UNSIGNED_INT&&(_t=n.RG32UI),ut===n.BYTE&&(_t=n.RG8I),ut===n.SHORT&&(_t=n.RG16I),ut===n.INT&&(_t=n.RG32I)),F===n.RGB_INTEGER&&(ut===n.UNSIGNED_BYTE&&(_t=n.RGB8UI),ut===n.UNSIGNED_SHORT&&(_t=n.RGB16UI),ut===n.UNSIGNED_INT&&(_t=n.RGB32UI),ut===n.BYTE&&(_t=n.RGB8I),ut===n.SHORT&&(_t=n.RGB16I),ut===n.INT&&(_t=n.RGB32I)),F===n.RGBA_INTEGER&&(ut===n.UNSIGNED_BYTE&&(_t=n.RGBA8UI),ut===n.UNSIGNED_SHORT&&(_t=n.RGBA16UI),ut===n.UNSIGNED_INT&&(_t=n.RGBA32UI),ut===n.BYTE&&(_t=n.RGBA8I),ut===n.SHORT&&(_t=n.RGBA16I),ut===n.INT&&(_t=n.RGBA32I)),F===n.RGB&&ut===n.UNSIGNED_INT_5_9_9_9_REV&&(_t=n.RGB9_E5),F===n.RGBA){const qt=bt?Qm:an.getTransfer(xt);ut===n.FLOAT&&(_t=n.RGBA32F),ut===n.HALF_FLOAT&&(_t=n.RGBA16F),ut===n.UNSIGNED_BYTE&&(_t=qt===yn?n.SRGB8_ALPHA8:n.RGBA8),ut===n.UNSIGNED_SHORT_4_4_4_4&&(_t=n.RGBA4),ut===n.UNSIGNED_SHORT_5_5_5_1&&(_t=n.RGB5_A1)}return(_t===n.R16F||_t===n.R32F||_t===n.RG16F||_t===n.RG32F||_t===n.RGBA16F||_t===n.RGBA32F)&&t.get("EXT_color_buffer_float"),_t}function U(X,F){let ut;return X?F===null||F===ll||F===Wh?ut=n.DEPTH24_STENCIL8:F===ra?ut=n.DEPTH32F_STENCIL8:F===Gh&&(ut=n.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):F===null||F===ll||F===Wh?ut=n.DEPTH_COMPONENT24:F===ra?ut=n.DEPTH_COMPONENT32F:F===Gh&&(ut=n.DEPTH_COMPONENT16),ut}function j(X,F){return S(X)===!0||X.isFramebufferTexture&&X.minFilter!==Ws&&X.minFilter!==pr?Math.log2(Math.max(F.width,F.height))+1:X.mipmaps!==void 0&&X.mipmaps.length>0?X.mipmaps.length:X.isCompressedTexture&&Array.isArray(X.image)?F.mipmaps.length:1}function G(X){const F=X.target;F.removeEventListener("dispose",G),R(F),F.isVideoTexture&&g.delete(F)}function D(X){const F=X.target;F.removeEventListener("dispose",D),M(F)}function R(X){const F=i.get(X);if(F.__webglInit===void 0)return;const ut=X.source,xt=x.get(ut);if(xt){const bt=xt[F.__cacheKey];bt.usedTimes--,bt.usedTimes===0&&w(X),Object.keys(xt).length===0&&x.delete(ut)}i.remove(X)}function w(X){const F=i.get(X);n.deleteTexture(F.__webglTexture);const ut=X.source,xt=x.get(ut);delete xt[F.__cacheKey],l.memory.textures--}function M(X){const F=i.get(X);if(X.depthTexture&&(X.depthTexture.dispose(),i.remove(X.depthTexture)),X.isWebGLCubeRenderTarget)for(let xt=0;xt<6;xt++){if(Array.isArray(F.__webglFramebuffer[xt]))for(let bt=0;bt<F.__webglFramebuffer[xt].length;bt++)n.deleteFramebuffer(F.__webglFramebuffer[xt][bt]);else n.deleteFramebuffer(F.__webglFramebuffer[xt]);F.__webglDepthbuffer&&n.deleteRenderbuffer(F.__webglDepthbuffer[xt])}else{if(Array.isArray(F.__webglFramebuffer))for(let xt=0;xt<F.__webglFramebuffer.length;xt++)n.deleteFramebuffer(F.__webglFramebuffer[xt]);else n.deleteFramebuffer(F.__webglFramebuffer);if(F.__webglDepthbuffer&&n.deleteRenderbuffer(F.__webglDepthbuffer),F.__webglMultisampledFramebuffer&&n.deleteFramebuffer(F.__webglMultisampledFramebuffer),F.__webglColorRenderbuffer)for(let xt=0;xt<F.__webglColorRenderbuffer.length;xt++)F.__webglColorRenderbuffer[xt]&&n.deleteRenderbuffer(F.__webglColorRenderbuffer[xt]);F.__webglDepthRenderbuffer&&n.deleteRenderbuffer(F.__webglDepthRenderbuffer)}const ut=X.textures;for(let xt=0,bt=ut.length;xt<bt;xt++){const _t=i.get(ut[xt]);_t.__webglTexture&&(n.deleteTexture(_t.__webglTexture),l.memory.textures--),i.remove(ut[xt])}i.remove(X)}let P=0;function z(){P=0}function V(){const X=P;return X>=r.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+X+" texture units while this GPU supports only "+r.maxTextures),P+=1,X}function yt(X){const F=[];return F.push(X.wrapS),F.push(X.wrapT),F.push(X.wrapR||0),F.push(X.magFilter),F.push(X.minFilter),F.push(X.anisotropy),F.push(X.internalFormat),F.push(X.format),F.push(X.type),F.push(X.generateMipmaps),F.push(X.premultiplyAlpha),F.push(X.flipY),F.push(X.unpackAlignment),F.push(X.colorSpace),F.join()}function gt(X,F){const ut=i.get(X);if(X.isVideoTexture&&ae(X),X.isRenderTargetTexture===!1&&X.version>0&&ut.__version!==X.version){const xt=X.image;if(xt===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(xt.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Ct(ut,X,F);return}}e.bindTexture(n.TEXTURE_2D,ut.__webglTexture,n.TEXTURE0+F)}function Y(X,F){const ut=i.get(X);if(X.version>0&&ut.__version!==X.version){Ct(ut,X,F);return}e.bindTexture(n.TEXTURE_2D_ARRAY,ut.__webglTexture,n.TEXTURE0+F)}function Z(X,F){const ut=i.get(X);if(X.version>0&&ut.__version!==X.version){Ct(ut,X,F);return}e.bindTexture(n.TEXTURE_3D,ut.__webglTexture,n.TEXTURE0+F)}function Q(X,F){const ut=i.get(X);if(X.version>0&&ut.__version!==X.version){Vt(ut,X,F);return}e.bindTexture(n.TEXTURE_CUBE_MAP,ut.__webglTexture,n.TEXTURE0+F)}const Rt={[By]:n.REPEAT,[el]:n.CLAMP_TO_EDGE,[ky]:n.MIRRORED_REPEAT},W={[Ws]:n.NEAREST,[q5]:n.NEAREST_MIPMAP_NEAREST,[qf]:n.NEAREST_MIPMAP_LINEAR,[pr]:n.LINEAR,[dv]:n.LINEAR_MIPMAP_NEAREST,[nl]:n.LINEAR_MIPMAP_LINEAR},at={[Q5]:n.NEVER,[iF]:n.ALWAYS,[Z5]:n.LESS,[eC]:n.LEQUAL,[J5]:n.EQUAL,[nF]:n.GEQUAL,[tF]:n.GREATER,[eF]:n.NOTEQUAL};function wt(X,F){if(F.type===ra&&t.has("OES_texture_float_linear")===!1&&(F.magFilter===pr||F.magFilter===dv||F.magFilter===qf||F.magFilter===nl||F.minFilter===pr||F.minFilter===dv||F.minFilter===qf||F.minFilter===nl)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri(X,n.TEXTURE_WRAP_S,Rt[F.wrapS]),n.texParameteri(X,n.TEXTURE_WRAP_T,Rt[F.wrapT]),(X===n.TEXTURE_3D||X===n.TEXTURE_2D_ARRAY)&&n.texParameteri(X,n.TEXTURE_WRAP_R,Rt[F.wrapR]),n.texParameteri(X,n.TEXTURE_MAG_FILTER,W[F.magFilter]),n.texParameteri(X,n.TEXTURE_MIN_FILTER,W[F.minFilter]),F.compareFunction&&(n.texParameteri(X,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(X,n.TEXTURE_COMPARE_FUNC,at[F.compareFunction])),t.has("EXT_texture_filter_anisotropic")===!0){if(F.magFilter===Ws||F.minFilter!==qf&&F.minFilter!==nl||F.type===ra&&t.has("OES_texture_float_linear")===!1)return;if(F.anisotropy>1||i.get(F).__currentAnisotropy){const ut=t.get("EXT_texture_filter_anisotropic");n.texParameterf(X,ut.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(F.anisotropy,r.getMaxAnisotropy())),i.get(F).__currentAnisotropy=F.anisotropy}}}function Et(X,F){let ut=!1;X.__webglInit===void 0&&(X.__webglInit=!0,F.addEventListener("dispose",G));const xt=F.source;let bt=x.get(xt);bt===void 0&&(bt={},x.set(xt,bt));const _t=yt(F);if(_t!==X.__cacheKey){bt[_t]===void 0&&(bt[_t]={texture:n.createTexture(),usedTimes:0},l.memory.textures++,ut=!0),bt[_t].usedTimes++;const qt=bt[X.__cacheKey];qt!==void 0&&(bt[X.__cacheKey].usedTimes--,qt.usedTimes===0&&w(F)),X.__cacheKey=_t,X.__webglTexture=bt[_t].texture}return ut}function it(X,F,ut){return Math.floor(Math.floor(X/ut)/F)}function St(X,F,ut,xt){const _t=X.updateRanges;if(_t.length===0)e.texSubImage2D(n.TEXTURE_2D,0,0,0,F.width,F.height,ut,xt,F.data);else{_t.sort((It,Xt)=>It.start-Xt.start);let qt=0;for(let It=1;It<_t.length;It++){const Xt=_t[qt],ie=_t[It],oe=Xt.start+Xt.count,kt=it(ie.start,F.width,4),ve=it(Xt.start,F.width,4);ie.start<=oe+1&&kt===ve&&it(ie.start+ie.count-1,F.width,4)===kt?Xt.count=Math.max(Xt.count,ie.start+ie.count-Xt.start):(++qt,_t[qt]=ie)}_t.length=qt+1;const zt=n.getParameter(n.UNPACK_ROW_LENGTH),te=n.getParameter(n.UNPACK_SKIP_PIXELS),Zt=n.getParameter(n.UNPACK_SKIP_ROWS);n.pixelStorei(n.UNPACK_ROW_LENGTH,F.width);for(let It=0,Xt=_t.length;It<Xt;It++){const ie=_t[It],oe=Math.floor(ie.start/4),kt=Math.ceil(ie.count/4),ve=oe%F.width,tt=Math.floor(oe/F.width),Gt=kt,Pt=1;n.pixelStorei(n.UNPACK_SKIP_PIXELS,ve),n.pixelStorei(n.UNPACK_SKIP_ROWS,tt),e.texSubImage2D(n.TEXTURE_2D,0,ve,tt,Gt,Pt,ut,xt,F.data)}X.clearUpdateRanges(),n.pixelStorei(n.UNPACK_ROW_LENGTH,zt),n.pixelStorei(n.UNPACK_SKIP_PIXELS,te),n.pixelStorei(n.UNPACK_SKIP_ROWS,Zt)}}function Ct(X,F,ut){let xt=n.TEXTURE_2D;(F.isDataArrayTexture||F.isCompressedArrayTexture)&&(xt=n.TEXTURE_2D_ARRAY),F.isData3DTexture&&(xt=n.TEXTURE_3D);const bt=Et(X,F),_t=F.source;e.bindTexture(xt,X.__webglTexture,n.TEXTURE0+ut);const qt=i.get(_t);if(_t.version!==qt.__version||bt===!0){e.activeTexture(n.TEXTURE0+ut);const zt=an.getPrimaries(an.workingColorSpace),te=F.colorSpace===Ya?null:an.getPrimaries(F.colorSpace),Zt=F.colorSpace===Ya||zt===te?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,F.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,F.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,F.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Zt);let It=C(F.image,!1,r.maxTextureSize);It=_e(F,It);const Xt=o.convert(F.format,F.colorSpace),ie=o.convert(F.type);let oe=N(F.internalFormat,Xt,ie,F.colorSpace,F.isVideoTexture);wt(xt,F);let kt;const ve=F.mipmaps,tt=F.isVideoTexture!==!0,Gt=qt.__version===void 0||bt===!0,Pt=_t.dataReady,Yt=j(F,It);if(F.isDepthTexture)oe=U(F.format===Xh,F.type),Gt&&(tt?e.texStorage2D(n.TEXTURE_2D,1,oe,It.width,It.height):e.texImage2D(n.TEXTURE_2D,0,oe,It.width,It.height,0,Xt,ie,null));else if(F.isDataTexture)if(ve.length>0){tt&&Gt&&e.texStorage2D(n.TEXTURE_2D,Yt,oe,ve[0].width,ve[0].height);for(let Ut=0,At=ve.length;Ut<At;Ut++)kt=ve[Ut],tt?Pt&&e.texSubImage2D(n.TEXTURE_2D,Ut,0,0,kt.width,kt.height,Xt,ie,kt.data):e.texImage2D(n.TEXTURE_2D,Ut,oe,kt.width,kt.height,0,Xt,ie,kt.data);F.generateMipmaps=!1}else tt?(Gt&&e.texStorage2D(n.TEXTURE_2D,Yt,oe,It.width,It.height),Pt&&St(F,It,Xt,ie)):e.texImage2D(n.TEXTURE_2D,0,oe,It.width,It.height,0,Xt,ie,It.data);else if(F.isCompressedTexture)if(F.isCompressedArrayTexture){tt&&Gt&&e.texStorage3D(n.TEXTURE_2D_ARRAY,Yt,oe,ve[0].width,ve[0].height,It.depth);for(let Ut=0,At=ve.length;Ut<At;Ut++)if(kt=ve[Ut],F.format!==Hs)if(Xt!==null)if(tt){if(Pt)if(F.layerUpdates.size>0){const Qt=Yw(kt.width,kt.height,F.format,F.type);for(const fe of F.layerUpdates){const nn=kt.data.subarray(fe*Qt/kt.data.BYTES_PER_ELEMENT,(fe+1)*Qt/kt.data.BYTES_PER_ELEMENT);e.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,Ut,0,0,fe,kt.width,kt.height,1,Xt,nn)}F.clearLayerUpdates()}else e.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,Ut,0,0,0,kt.width,kt.height,It.depth,Xt,kt.data)}else e.compressedTexImage3D(n.TEXTURE_2D_ARRAY,Ut,oe,kt.width,kt.height,It.depth,0,kt.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else tt?Pt&&e.texSubImage3D(n.TEXTURE_2D_ARRAY,Ut,0,0,0,kt.width,kt.height,It.depth,Xt,ie,kt.data):e.texImage3D(n.TEXTURE_2D_ARRAY,Ut,oe,kt.width,kt.height,It.depth,0,Xt,ie,kt.data)}else{tt&&Gt&&e.texStorage2D(n.TEXTURE_2D,Yt,oe,ve[0].width,ve[0].height);for(let Ut=0,At=ve.length;Ut<At;Ut++)kt=ve[Ut],F.format!==Hs?Xt!==null?tt?Pt&&e.compressedTexSubImage2D(n.TEXTURE_2D,Ut,0,0,kt.width,kt.height,Xt,kt.data):e.compressedTexImage2D(n.TEXTURE_2D,Ut,oe,kt.width,kt.height,0,kt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):tt?Pt&&e.texSubImage2D(n.TEXTURE_2D,Ut,0,0,kt.width,kt.height,Xt,ie,kt.data):e.texImage2D(n.TEXTURE_2D,Ut,oe,kt.width,kt.height,0,Xt,ie,kt.data)}else if(F.isDataArrayTexture)if(tt){if(Gt&&e.texStorage3D(n.TEXTURE_2D_ARRAY,Yt,oe,It.width,It.height,It.depth),Pt)if(F.layerUpdates.size>0){const Ut=Yw(It.width,It.height,F.format,F.type);for(const At of F.layerUpdates){const Qt=It.data.subarray(At*Ut/It.data.BYTES_PER_ELEMENT,(At+1)*Ut/It.data.BYTES_PER_ELEMENT);e.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,At,It.width,It.height,1,Xt,ie,Qt)}F.clearLayerUpdates()}else e.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,It.width,It.height,It.depth,Xt,ie,It.data)}else e.texImage3D(n.TEXTURE_2D_ARRAY,0,oe,It.width,It.height,It.depth,0,Xt,ie,It.data);else if(F.isData3DTexture)tt?(Gt&&e.texStorage3D(n.TEXTURE_3D,Yt,oe,It.width,It.height,It.depth),Pt&&e.texSubImage3D(n.TEXTURE_3D,0,0,0,0,It.width,It.height,It.depth,Xt,ie,It.data)):e.texImage3D(n.TEXTURE_3D,0,oe,It.width,It.height,It.depth,0,Xt,ie,It.data);else if(F.isFramebufferTexture){if(Gt)if(tt)e.texStorage2D(n.TEXTURE_2D,Yt,oe,It.width,It.height);else{let Ut=It.width,At=It.height;for(let Qt=0;Qt<Yt;Qt++)e.texImage2D(n.TEXTURE_2D,Qt,oe,Ut,At,0,Xt,ie,null),Ut>>=1,At>>=1}}else if(ve.length>0){if(tt&&Gt){const Ut=Rn(ve[0]);e.texStorage2D(n.TEXTURE_2D,Yt,oe,Ut.width,Ut.height)}for(let Ut=0,At=ve.length;Ut<At;Ut++)kt=ve[Ut],tt?Pt&&e.texSubImage2D(n.TEXTURE_2D,Ut,0,0,Xt,ie,kt):e.texImage2D(n.TEXTURE_2D,Ut,oe,Xt,ie,kt);F.generateMipmaps=!1}else if(tt){if(Gt){const Ut=Rn(It);e.texStorage2D(n.TEXTURE_2D,Yt,oe,Ut.width,Ut.height)}Pt&&e.texSubImage2D(n.TEXTURE_2D,0,0,0,Xt,ie,It)}else e.texImage2D(n.TEXTURE_2D,0,oe,Xt,ie,It);S(F)&&b(xt),qt.__version=_t.version,F.onUpdate&&F.onUpdate(F)}X.__version=F.version}function Vt(X,F,ut){if(F.image.length!==6)return;const xt=Et(X,F),bt=F.source;e.bindTexture(n.TEXTURE_CUBE_MAP,X.__webglTexture,n.TEXTURE0+ut);const _t=i.get(bt);if(bt.version!==_t.__version||xt===!0){e.activeTexture(n.TEXTURE0+ut);const qt=an.getPrimaries(an.workingColorSpace),zt=F.colorSpace===Ya?null:an.getPrimaries(F.colorSpace),te=F.colorSpace===Ya||qt===zt?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,F.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,F.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,F.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,te);const Zt=F.isCompressedTexture||F.image[0].isCompressedTexture,It=F.image[0]&&F.image[0].isDataTexture,Xt=[];for(let At=0;At<6;At++)!Zt&&!It?Xt[At]=C(F.image[At],!0,r.maxCubemapSize):Xt[At]=It?F.image[At].image:F.image[At],Xt[At]=_e(F,Xt[At]);const ie=Xt[0],oe=o.convert(F.format,F.colorSpace),kt=o.convert(F.type),ve=N(F.internalFormat,oe,kt,F.colorSpace),tt=F.isVideoTexture!==!0,Gt=_t.__version===void 0||xt===!0,Pt=bt.dataReady;let Yt=j(F,ie);wt(n.TEXTURE_CUBE_MAP,F);let Ut;if(Zt){tt&&Gt&&e.texStorage2D(n.TEXTURE_CUBE_MAP,Yt,ve,ie.width,ie.height);for(let At=0;At<6;At++){Ut=Xt[At].mipmaps;for(let Qt=0;Qt<Ut.length;Qt++){const fe=Ut[Qt];F.format!==Hs?oe!==null?tt?Pt&&e.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+At,Qt,0,0,fe.width,fe.height,oe,fe.data):e.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+At,Qt,ve,fe.width,fe.height,0,fe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):tt?Pt&&e.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+At,Qt,0,0,fe.width,fe.height,oe,kt,fe.data):e.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+At,Qt,ve,fe.width,fe.height,0,oe,kt,fe.data)}}}else{if(Ut=F.mipmaps,tt&&Gt){Ut.length>0&&Yt++;const At=Rn(Xt[0]);e.texStorage2D(n.TEXTURE_CUBE_MAP,Yt,ve,At.width,At.height)}for(let At=0;At<6;At++)if(It){tt?Pt&&e.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+At,0,0,0,Xt[At].width,Xt[At].height,oe,kt,Xt[At].data):e.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+At,0,ve,Xt[At].width,Xt[At].height,0,oe,kt,Xt[At].data);for(let Qt=0;Qt<Ut.length;Qt++){const nn=Ut[Qt].image[At].image;tt?Pt&&e.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+At,Qt+1,0,0,nn.width,nn.height,oe,kt,nn.data):e.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+At,Qt+1,ve,nn.width,nn.height,0,oe,kt,nn.data)}}else{tt?Pt&&e.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+At,0,0,0,oe,kt,Xt[At]):e.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+At,0,ve,oe,kt,Xt[At]);for(let Qt=0;Qt<Ut.length;Qt++){const fe=Ut[Qt];tt?Pt&&e.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+At,Qt+1,0,0,oe,kt,fe.image[At]):e.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+At,Qt+1,ve,oe,kt,fe.image[At])}}}S(F)&&b(n.TEXTURE_CUBE_MAP),_t.__version=bt.version,F.onUpdate&&F.onUpdate(F)}X.__version=F.version}function Ft(X,F,ut,xt,bt,_t){const qt=o.convert(ut.format,ut.colorSpace),zt=o.convert(ut.type),te=N(ut.internalFormat,qt,zt,ut.colorSpace),Zt=i.get(F),It=i.get(ut);if(It.__renderTarget=F,!Zt.__hasExternalTextures){const Xt=Math.max(1,F.width>>_t),ie=Math.max(1,F.height>>_t);bt===n.TEXTURE_3D||bt===n.TEXTURE_2D_ARRAY?e.texImage3D(bt,_t,te,Xt,ie,F.depth,0,qt,zt,null):e.texImage2D(bt,_t,te,Xt,ie,0,qt,zt,null)}e.bindFramebuffer(n.FRAMEBUFFER,X),Oe(F)?u.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,xt,bt,It.__webglTexture,0,ne(F)):(bt===n.TEXTURE_2D||bt>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&bt<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,xt,bt,It.__webglTexture,_t),e.bindFramebuffer(n.FRAMEBUFFER,null)}function de(X,F,ut){if(n.bindRenderbuffer(n.RENDERBUFFER,X),F.depthBuffer){const xt=F.depthTexture,bt=xt&&xt.isDepthTexture?xt.type:null,_t=U(F.stencilBuffer,bt),qt=F.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,zt=ne(F);Oe(F)?u.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,zt,_t,F.width,F.height):ut?n.renderbufferStorageMultisample(n.RENDERBUFFER,zt,_t,F.width,F.height):n.renderbufferStorage(n.RENDERBUFFER,_t,F.width,F.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,qt,n.RENDERBUFFER,X)}else{const xt=F.textures;for(let bt=0;bt<xt.length;bt++){const _t=xt[bt],qt=o.convert(_t.format,_t.colorSpace),zt=o.convert(_t.type),te=N(_t.internalFormat,qt,zt,_t.colorSpace),Zt=ne(F);ut&&Oe(F)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,Zt,te,F.width,F.height):Oe(F)?u.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Zt,te,F.width,F.height):n.renderbufferStorage(n.RENDERBUFFER,te,F.width,F.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function ee(X,F){if(F&&F.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(n.FRAMEBUFFER,X),!(F.depthTexture&&F.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const xt=i.get(F.depthTexture);xt.__renderTarget=F,(!xt.__webglTexture||F.depthTexture.image.width!==F.width||F.depthTexture.image.height!==F.height)&&(F.depthTexture.image.width=F.width,F.depthTexture.image.height=F.height,F.depthTexture.needsUpdate=!0),gt(F.depthTexture,0);const bt=xt.__webglTexture,_t=ne(F);if(F.depthTexture.format===qh)Oe(F)?u.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,bt,0,_t):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,bt,0);else if(F.depthTexture.format===Xh)Oe(F)?u.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,bt,0,_t):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,bt,0);else throw new Error("Unknown depthTexture format")}function Ie(X){const F=i.get(X),ut=X.isWebGLCubeRenderTarget===!0;if(F.__boundDepthTexture!==X.depthTexture){const xt=X.depthTexture;if(F.__depthDisposeCallback&&F.__depthDisposeCallback(),xt){const bt=()=>{delete F.__boundDepthTexture,delete F.__depthDisposeCallback,xt.removeEventListener("dispose",bt)};xt.addEventListener("dispose",bt),F.__depthDisposeCallback=bt}F.__boundDepthTexture=xt}if(X.depthTexture&&!F.__autoAllocateDepthBuffer){if(ut)throw new Error("target.depthTexture not supported in Cube render targets");const xt=X.texture.mipmaps;xt&&xt.length>0?ee(F.__webglFramebuffer[0],X):ee(F.__webglFramebuffer,X)}else if(ut){F.__webglDepthbuffer=[];for(let xt=0;xt<6;xt++)if(e.bindFramebuffer(n.FRAMEBUFFER,F.__webglFramebuffer[xt]),F.__webglDepthbuffer[xt]===void 0)F.__webglDepthbuffer[xt]=n.createRenderbuffer(),de(F.__webglDepthbuffer[xt],X,!1);else{const bt=X.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,_t=F.__webglDepthbuffer[xt];n.bindRenderbuffer(n.RENDERBUFFER,_t),n.framebufferRenderbuffer(n.FRAMEBUFFER,bt,n.RENDERBUFFER,_t)}}else{const xt=X.texture.mipmaps;if(xt&&xt.length>0?e.bindFramebuffer(n.FRAMEBUFFER,F.__webglFramebuffer[0]):e.bindFramebuffer(n.FRAMEBUFFER,F.__webglFramebuffer),F.__webglDepthbuffer===void 0)F.__webglDepthbuffer=n.createRenderbuffer(),de(F.__webglDepthbuffer,X,!1);else{const bt=X.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,_t=F.__webglDepthbuffer;n.bindRenderbuffer(n.RENDERBUFFER,_t),n.framebufferRenderbuffer(n.FRAMEBUFFER,bt,n.RENDERBUFFER,_t)}}e.bindFramebuffer(n.FRAMEBUFFER,null)}function We(X,F,ut){const xt=i.get(X);F!==void 0&&Ft(xt.__webglFramebuffer,X,X.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),ut!==void 0&&Ie(X)}function ge(X){const F=X.texture,ut=i.get(X),xt=i.get(F);X.addEventListener("dispose",D);const bt=X.textures,_t=X.isWebGLCubeRenderTarget===!0,qt=bt.length>1;if(qt||(xt.__webglTexture===void 0&&(xt.__webglTexture=n.createTexture()),xt.__version=F.version,l.memory.textures++),_t){ut.__webglFramebuffer=[];for(let zt=0;zt<6;zt++)if(F.mipmaps&&F.mipmaps.length>0){ut.__webglFramebuffer[zt]=[];for(let te=0;te<F.mipmaps.length;te++)ut.__webglFramebuffer[zt][te]=n.createFramebuffer()}else ut.__webglFramebuffer[zt]=n.createFramebuffer()}else{if(F.mipmaps&&F.mipmaps.length>0){ut.__webglFramebuffer=[];for(let zt=0;zt<F.mipmaps.length;zt++)ut.__webglFramebuffer[zt]=n.createFramebuffer()}else ut.__webglFramebuffer=n.createFramebuffer();if(qt)for(let zt=0,te=bt.length;zt<te;zt++){const Zt=i.get(bt[zt]);Zt.__webglTexture===void 0&&(Zt.__webglTexture=n.createTexture(),l.memory.textures++)}if(X.samples>0&&Oe(X)===!1){ut.__webglMultisampledFramebuffer=n.createFramebuffer(),ut.__webglColorRenderbuffer=[],e.bindFramebuffer(n.FRAMEBUFFER,ut.__webglMultisampledFramebuffer);for(let zt=0;zt<bt.length;zt++){const te=bt[zt];ut.__webglColorRenderbuffer[zt]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,ut.__webglColorRenderbuffer[zt]);const Zt=o.convert(te.format,te.colorSpace),It=o.convert(te.type),Xt=N(te.internalFormat,Zt,It,te.colorSpace,X.isXRRenderTarget===!0),ie=ne(X);n.renderbufferStorageMultisample(n.RENDERBUFFER,ie,Xt,X.width,X.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+zt,n.RENDERBUFFER,ut.__webglColorRenderbuffer[zt])}n.bindRenderbuffer(n.RENDERBUFFER,null),X.depthBuffer&&(ut.__webglDepthRenderbuffer=n.createRenderbuffer(),de(ut.__webglDepthRenderbuffer,X,!0)),e.bindFramebuffer(n.FRAMEBUFFER,null)}}if(_t){e.bindTexture(n.TEXTURE_CUBE_MAP,xt.__webglTexture),wt(n.TEXTURE_CUBE_MAP,F);for(let zt=0;zt<6;zt++)if(F.mipmaps&&F.mipmaps.length>0)for(let te=0;te<F.mipmaps.length;te++)Ft(ut.__webglFramebuffer[zt][te],X,F,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+zt,te);else Ft(ut.__webglFramebuffer[zt],X,F,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+zt,0);S(F)&&b(n.TEXTURE_CUBE_MAP),e.unbindTexture()}else if(qt){for(let zt=0,te=bt.length;zt<te;zt++){const Zt=bt[zt],It=i.get(Zt);e.bindTexture(n.TEXTURE_2D,It.__webglTexture),wt(n.TEXTURE_2D,Zt),Ft(ut.__webglFramebuffer,X,Zt,n.COLOR_ATTACHMENT0+zt,n.TEXTURE_2D,0),S(Zt)&&b(n.TEXTURE_2D)}e.unbindTexture()}else{let zt=n.TEXTURE_2D;if((X.isWebGL3DRenderTarget||X.isWebGLArrayRenderTarget)&&(zt=X.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),e.bindTexture(zt,xt.__webglTexture),wt(zt,F),F.mipmaps&&F.mipmaps.length>0)for(let te=0;te<F.mipmaps.length;te++)Ft(ut.__webglFramebuffer[te],X,F,n.COLOR_ATTACHMENT0,zt,te);else Ft(ut.__webglFramebuffer,X,F,n.COLOR_ATTACHMENT0,zt,0);S(F)&&b(zt),e.unbindTexture()}X.depthBuffer&&Ie(X)}function $(X){const F=X.textures;for(let ut=0,xt=F.length;ut<xt;ut++){const bt=F[ut];if(S(bt)){const _t=O(X),qt=i.get(bt).__webglTexture;e.bindTexture(_t,qt),b(_t),e.unbindTexture()}}}const bn=[],je=[];function Pe(X){if(X.samples>0){if(Oe(X)===!1){const F=X.textures,ut=X.width,xt=X.height;let bt=n.COLOR_BUFFER_BIT;const _t=X.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,qt=i.get(X),zt=F.length>1;if(zt)for(let Zt=0;Zt<F.length;Zt++)e.bindFramebuffer(n.FRAMEBUFFER,qt.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Zt,n.RENDERBUFFER,null),e.bindFramebuffer(n.FRAMEBUFFER,qt.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Zt,n.TEXTURE_2D,null,0);e.bindFramebuffer(n.READ_FRAMEBUFFER,qt.__webglMultisampledFramebuffer);const te=X.texture.mipmaps;te&&te.length>0?e.bindFramebuffer(n.DRAW_FRAMEBUFFER,qt.__webglFramebuffer[0]):e.bindFramebuffer(n.DRAW_FRAMEBUFFER,qt.__webglFramebuffer);for(let Zt=0;Zt<F.length;Zt++){if(X.resolveDepthBuffer&&(X.depthBuffer&&(bt|=n.DEPTH_BUFFER_BIT),X.stencilBuffer&&X.resolveStencilBuffer&&(bt|=n.STENCIL_BUFFER_BIT)),zt){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,qt.__webglColorRenderbuffer[Zt]);const It=i.get(F[Zt]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,It,0)}n.blitFramebuffer(0,0,ut,xt,0,0,ut,xt,bt,n.NEAREST),d===!0&&(bn.length=0,je.length=0,bn.push(n.COLOR_ATTACHMENT0+Zt),X.depthBuffer&&X.resolveDepthBuffer===!1&&(bn.push(_t),je.push(_t),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,je)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,bn))}if(e.bindFramebuffer(n.READ_FRAMEBUFFER,null),e.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),zt)for(let Zt=0;Zt<F.length;Zt++){e.bindFramebuffer(n.FRAMEBUFFER,qt.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Zt,n.RENDERBUFFER,qt.__webglColorRenderbuffer[Zt]);const It=i.get(F[Zt]).__webglTexture;e.bindFramebuffer(n.FRAMEBUFFER,qt.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Zt,n.TEXTURE_2D,It,0)}e.bindFramebuffer(n.DRAW_FRAMEBUFFER,qt.__webglMultisampledFramebuffer)}else if(X.depthBuffer&&X.resolveDepthBuffer===!1&&d){const F=X.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[F])}}}function ne(X){return Math.min(r.maxSamples,X.samples)}function Oe(X){const F=i.get(X);return X.samples>0&&t.has("WEBGL_multisampled_render_to_texture")===!0&&F.__useRenderToTexture!==!1}function ae(X){const F=l.render.frame;g.get(X)!==F&&(g.set(X,F),X.update())}function _e(X,F){const ut=X.colorSpace,xt=X.format,bt=X.type;return X.isCompressedTexture===!0||X.isVideoTexture===!0||ut!==jc&&ut!==Ya&&(an.getTransfer(ut)===yn?(xt!==Hs||bt!==fa)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",ut)),F}function Rn(X){return typeof HTMLImageElement<"u"&&X instanceof HTMLImageElement?(f.width=X.naturalWidth||X.width,f.height=X.naturalHeight||X.height):typeof VideoFrame<"u"&&X instanceof VideoFrame?(f.width=X.displayWidth,f.height=X.displayHeight):(f.width=X.width,f.height=X.height),f}this.allocateTextureUnit=V,this.resetTextureUnits=z,this.setTexture2D=gt,this.setTexture2DArray=Y,this.setTexture3D=Z,this.setTextureCube=Q,this.rebindTextures=We,this.setupRenderTarget=ge,this.updateRenderTargetMipmap=$,this.updateMultisampleRenderTarget=Pe,this.setupDepthRenderbuffer=Ie,this.setupFrameBufferTexture=Ft,this.useMultisampledRTT=Oe}function g8(n,t){function e(i,r=Ya){let o;const l=an.getTransfer(r);if(i===fa)return n.UNSIGNED_BYTE;if(i===D_)return n.UNSIGNED_SHORT_4_4_4_4;if(i===I_)return n.UNSIGNED_SHORT_5_5_5_1;if(i===KR)return n.UNSIGNED_INT_5_9_9_9_REV;if(i===XR)return n.BYTE;if(i===YR)return n.SHORT;if(i===Gh)return n.UNSIGNED_SHORT;if(i===N_)return n.INT;if(i===ll)return n.UNSIGNED_INT;if(i===ra)return n.FLOAT;if(i===fd)return n.HALF_FLOAT;if(i===$R)return n.ALPHA;if(i===QR)return n.RGB;if(i===Hs)return n.RGBA;if(i===qh)return n.DEPTH_COMPONENT;if(i===Xh)return n.DEPTH_STENCIL;if(i===ZR)return n.RED;if(i===P_)return n.RED_INTEGER;if(i===JR)return n.RG;if(i===L_)return n.RG_INTEGER;if(i===O_)return n.RGBA_INTEGER;if(i===Cm||i===Nm||i===Dm||i===Im)if(l===yn)if(o=t.get("WEBGL_compressed_texture_s3tc_srgb"),o!==null){if(i===Cm)return o.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===Nm)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===Dm)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===Im)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(o=t.get("WEBGL_compressed_texture_s3tc"),o!==null){if(i===Cm)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===Nm)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===Dm)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===Im)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(i===jy||i===zy||i===Hy||i===Gy)if(o=t.get("WEBGL_compressed_texture_pvrtc"),o!==null){if(i===jy)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===zy)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===Hy)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===Gy)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(i===Wy||i===qy||i===Xy)if(o=t.get("WEBGL_compressed_texture_etc"),o!==null){if(i===Wy||i===qy)return l===yn?o.COMPRESSED_SRGB8_ETC2:o.COMPRESSED_RGB8_ETC2;if(i===Xy)return l===yn?o.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:o.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(i===Yy||i===Ky||i===$y||i===Qy||i===Zy||i===Jy||i===tx||i===ex||i===nx||i===ix||i===sx||i===rx||i===ax||i===ox)if(o=t.get("WEBGL_compressed_texture_astc"),o!==null){if(i===Yy)return l===yn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:o.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===Ky)return l===yn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:o.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===$y)return l===yn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:o.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===Qy)return l===yn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:o.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===Zy)return l===yn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:o.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===Jy)return l===yn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:o.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===tx)return l===yn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:o.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===ex)return l===yn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:o.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===nx)return l===yn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:o.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===ix)return l===yn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:o.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===sx)return l===yn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:o.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===rx)return l===yn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:o.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===ax)return l===yn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:o.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===ox)return l===yn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:o.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(i===Pm||i===lx||i===cx)if(o=t.get("EXT_texture_compression_bptc"),o!==null){if(i===Pm)return l===yn?o.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:o.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(i===lx)return o.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(i===cx)return o.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(i===tC||i===ux||i===hx||i===dx)if(o=t.get("EXT_texture_compression_rgtc"),o!==null){if(i===Pm)return o.COMPRESSED_RED_RGTC1_EXT;if(i===ux)return o.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(i===hx)return o.COMPRESSED_RED_GREEN_RGTC2_EXT;if(i===dx)return o.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return i===Wh?n.UNSIGNED_INT_24_8:n[i]!==void 0?n[i]:null}return{convert:e}}const v8=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,y8=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class x8{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(t,e,i){if(this.texture===null){const r=new Zi,o=t.properties.get(r);o.__webglTexture=e.texture,(e.depthNear!==i.depthNear||e.depthFar!==i.depthFar)&&(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=r}}getMesh(t){if(this.texture!==null&&this.mesh===null){const e=t.cameras[0].viewport,i=new oo({vertexShader:v8,fragmentShader:y8,uniforms:{depthColor:{value:this.texture},depthWidth:{value:e.z},depthHeight:{value:e.w}}});this.mesh=new gr(new Ip(20,20),i)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class _8 extends eu{constructor(t,e){super();const i=this;let r=null,o=1,l=null,u="local-floor",d=1,f=null,g=null,y=null,x=null,E=null,T=null;const C=new x8,S=e.getContextAttributes();let b=null,O=null;const N=[],U=[],j=new xn;let G=null;const D=new Cs;D.viewport=new qn;const R=new Cs;R.viewport=new qn;const w=[D,R],M=new jF;let P=null,z=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(it){let St=N[it];return St===void 0&&(St=new Ov,N[it]=St),St.getTargetRaySpace()},this.getControllerGrip=function(it){let St=N[it];return St===void 0&&(St=new Ov,N[it]=St),St.getGripSpace()},this.getHand=function(it){let St=N[it];return St===void 0&&(St=new Ov,N[it]=St),St.getHandSpace()};function V(it){const St=U.indexOf(it.inputSource);if(St===-1)return;const Ct=N[St];Ct!==void 0&&(Ct.update(it.inputSource,it.frame,f||l),Ct.dispatchEvent({type:it.type,data:it.inputSource}))}function yt(){r.removeEventListener("select",V),r.removeEventListener("selectstart",V),r.removeEventListener("selectend",V),r.removeEventListener("squeeze",V),r.removeEventListener("squeezestart",V),r.removeEventListener("squeezeend",V),r.removeEventListener("end",yt),r.removeEventListener("inputsourceschange",gt);for(let it=0;it<N.length;it++){const St=U[it];St!==null&&(U[it]=null,N[it].disconnect(St))}P=null,z=null,C.reset(),t.setRenderTarget(b),E=null,x=null,y=null,r=null,O=null,Et.stop(),i.isPresenting=!1,t.setPixelRatio(G),t.setSize(j.width,j.height,!1),i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(it){o=it,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(it){u=it,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return f||l},this.setReferenceSpace=function(it){f=it},this.getBaseLayer=function(){return x!==null?x:E},this.getBinding=function(){return y},this.getFrame=function(){return T},this.getSession=function(){return r},this.setSession=async function(it){if(r=it,r!==null){if(b=t.getRenderTarget(),r.addEventListener("select",V),r.addEventListener("selectstart",V),r.addEventListener("selectend",V),r.addEventListener("squeeze",V),r.addEventListener("squeezestart",V),r.addEventListener("squeezeend",V),r.addEventListener("end",yt),r.addEventListener("inputsourceschange",gt),S.xrCompatible!==!0&&await e.makeXRCompatible(),G=t.getPixelRatio(),t.getSize(j),typeof XRWebGLBinding<"u"&&"createProjectionLayer"in XRWebGLBinding.prototype){let Ct=null,Vt=null,Ft=null;S.depth&&(Ft=S.stencil?e.DEPTH24_STENCIL8:e.DEPTH_COMPONENT24,Ct=S.stencil?Xh:qh,Vt=S.stencil?Wh:ll);const de={colorFormat:e.RGBA8,depthFormat:Ft,scaleFactor:o};y=new XRWebGLBinding(r,e),x=y.createProjectionLayer(de),r.updateRenderState({layers:[x]}),t.setPixelRatio(1),t.setSize(x.textureWidth,x.textureHeight,!1),O=new cl(x.textureWidth,x.textureHeight,{format:Hs,type:fa,depthTexture:new mC(x.textureWidth,x.textureHeight,Vt,void 0,void 0,void 0,void 0,void 0,void 0,Ct),stencilBuffer:S.stencil,colorSpace:t.outputColorSpace,samples:S.antialias?4:0,resolveDepthBuffer:x.ignoreDepthValues===!1,resolveStencilBuffer:x.ignoreDepthValues===!1})}else{const Ct={antialias:S.antialias,alpha:!0,depth:S.depth,stencil:S.stencil,framebufferScaleFactor:o};E=new XRWebGLLayer(r,e,Ct),r.updateRenderState({baseLayer:E}),t.setPixelRatio(1),t.setSize(E.framebufferWidth,E.framebufferHeight,!1),O=new cl(E.framebufferWidth,E.framebufferHeight,{format:Hs,type:fa,colorSpace:t.outputColorSpace,stencilBuffer:S.stencil,resolveDepthBuffer:E.ignoreDepthValues===!1,resolveStencilBuffer:E.ignoreDepthValues===!1})}O.isXRRenderTarget=!0,this.setFoveation(d),f=null,l=await r.requestReferenceSpace(u),Et.setContext(r),Et.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode},this.getDepthTexture=function(){return C.getDepthTexture()};function gt(it){for(let St=0;St<it.removed.length;St++){const Ct=it.removed[St],Vt=U.indexOf(Ct);Vt>=0&&(U[Vt]=null,N[Vt].disconnect(Ct))}for(let St=0;St<it.added.length;St++){const Ct=it.added[St];let Vt=U.indexOf(Ct);if(Vt===-1){for(let de=0;de<N.length;de++)if(de>=U.length){U.push(Ct),Vt=de;break}else if(U[de]===null){U[de]=Ct,Vt=de;break}if(Vt===-1)break}const Ft=N[Vt];Ft&&Ft.connect(Ct)}}const Y=new pt,Z=new pt;function Q(it,St,Ct){Y.setFromMatrixPosition(St.matrixWorld),Z.setFromMatrixPosition(Ct.matrixWorld);const Vt=Y.distanceTo(Z),Ft=St.projectionMatrix.elements,de=Ct.projectionMatrix.elements,ee=Ft[14]/(Ft[10]-1),Ie=Ft[14]/(Ft[10]+1),We=(Ft[9]+1)/Ft[5],ge=(Ft[9]-1)/Ft[5],$=(Ft[8]-1)/Ft[0],bn=(de[8]+1)/de[0],je=ee*$,Pe=ee*bn,ne=Vt/(-$+bn),Oe=ne*-$;if(St.matrixWorld.decompose(it.position,it.quaternion,it.scale),it.translateX(Oe),it.translateZ(ne),it.matrixWorld.compose(it.position,it.quaternion,it.scale),it.matrixWorldInverse.copy(it.matrixWorld).invert(),Ft[10]===-1)it.projectionMatrix.copy(St.projectionMatrix),it.projectionMatrixInverse.copy(St.projectionMatrixInverse);else{const ae=ee+ne,_e=Ie+ne,Rn=je-Oe,X=Pe+(Vt-Oe),F=We*Ie/_e*ae,ut=ge*Ie/_e*ae;it.projectionMatrix.makePerspective(Rn,X,F,ut,ae,_e),it.projectionMatrixInverse.copy(it.projectionMatrix).invert()}}function Rt(it,St){St===null?it.matrixWorld.copy(it.matrix):it.matrixWorld.multiplyMatrices(St.matrixWorld,it.matrix),it.matrixWorldInverse.copy(it.matrixWorld).invert()}this.updateCamera=function(it){if(r===null)return;let St=it.near,Ct=it.far;C.texture!==null&&(C.depthNear>0&&(St=C.depthNear),C.depthFar>0&&(Ct=C.depthFar)),M.near=R.near=D.near=St,M.far=R.far=D.far=Ct,(P!==M.near||z!==M.far)&&(r.updateRenderState({depthNear:M.near,depthFar:M.far}),P=M.near,z=M.far),D.layers.mask=it.layers.mask|2,R.layers.mask=it.layers.mask|4,M.layers.mask=D.layers.mask|R.layers.mask;const Vt=it.parent,Ft=M.cameras;Rt(M,Vt);for(let de=0;de<Ft.length;de++)Rt(Ft[de],Vt);Ft.length===2?Q(M,D,R):M.projectionMatrix.copy(D.projectionMatrix),W(it,M,Vt)};function W(it,St,Ct){Ct===null?it.matrix.copy(St.matrixWorld):(it.matrix.copy(Ct.matrixWorld),it.matrix.invert(),it.matrix.multiply(St.matrixWorld)),it.matrix.decompose(it.position,it.quaternion,it.scale),it.updateMatrixWorld(!0),it.projectionMatrix.copy(St.projectionMatrix),it.projectionMatrixInverse.copy(St.projectionMatrixInverse),it.isPerspectiveCamera&&(it.fov=fx*2*Math.atan(1/it.projectionMatrix.elements[5]),it.zoom=1)}this.getCamera=function(){return M},this.getFoveation=function(){if(!(x===null&&E===null))return d},this.setFoveation=function(it){d=it,x!==null&&(x.fixedFoveation=it),E!==null&&E.fixedFoveation!==void 0&&(E.fixedFoveation=it)},this.hasDepthSensing=function(){return C.texture!==null},this.getDepthSensingMesh=function(){return C.getMesh(M)};let at=null;function wt(it,St){if(g=St.getViewerPose(f||l),T=St,g!==null){const Ct=g.views;E!==null&&(t.setRenderTargetFramebuffer(O,E.framebuffer),t.setRenderTarget(O));let Vt=!1;Ct.length!==M.cameras.length&&(M.cameras.length=0,Vt=!0);for(let ee=0;ee<Ct.length;ee++){const Ie=Ct[ee];let We=null;if(E!==null)We=E.getViewport(Ie);else{const $=y.getViewSubImage(x,Ie);We=$.viewport,ee===0&&(t.setRenderTargetTextures(O,$.colorTexture,$.depthStencilTexture),t.setRenderTarget(O))}let ge=w[ee];ge===void 0&&(ge=new Cs,ge.layers.enable(ee),ge.viewport=new qn,w[ee]=ge),ge.matrix.fromArray(Ie.transform.matrix),ge.matrix.decompose(ge.position,ge.quaternion,ge.scale),ge.projectionMatrix.fromArray(Ie.projectionMatrix),ge.projectionMatrixInverse.copy(ge.projectionMatrix).invert(),ge.viewport.set(We.x,We.y,We.width,We.height),ee===0&&(M.matrix.copy(ge.matrix),M.matrix.decompose(M.position,M.quaternion,M.scale)),Vt===!0&&M.cameras.push(ge)}const Ft=r.enabledFeatures;if(Ft&&Ft.includes("depth-sensing")&&r.depthUsage=="gpu-optimized"&&y){const ee=y.getDepthInformation(Ct[0]);ee&&ee.isValid&&ee.texture&&C.init(t,ee,r.renderState)}}for(let Ct=0;Ct<N.length;Ct++){const Vt=U[Ct],Ft=N[Ct];Vt!==null&&Ft!==void 0&&Ft.update(Vt,St,f||l)}at&&at(it,St),St.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:St}),T=null}const Et=new pC;Et.setAnimationLoop(wt),this.setAnimationLoop=function(it){at=it},this.dispose=function(){}}}const Wo=new ma,b8=new Xn;function E8(n,t){function e(S,b){S.matrixAutoUpdate===!0&&S.updateMatrix(),b.value.copy(S.matrix)}function i(S,b){b.color.getRGB(S.fogColor.value,cC(n)),b.isFog?(S.fogNear.value=b.near,S.fogFar.value=b.far):b.isFogExp2&&(S.fogDensity.value=b.density)}function r(S,b,O,N,U){b.isMeshBasicMaterial||b.isMeshLambertMaterial?o(S,b):b.isMeshToonMaterial?(o(S,b),y(S,b)):b.isMeshPhongMaterial?(o(S,b),g(S,b)):b.isMeshStandardMaterial?(o(S,b),x(S,b),b.isMeshPhysicalMaterial&&E(S,b,U)):b.isMeshMatcapMaterial?(o(S,b),T(S,b)):b.isMeshDepthMaterial?o(S,b):b.isMeshDistanceMaterial?(o(S,b),C(S,b)):b.isMeshNormalMaterial?o(S,b):b.isLineBasicMaterial?(l(S,b),b.isLineDashedMaterial&&u(S,b)):b.isPointsMaterial?d(S,b,O,N):b.isSpriteMaterial?f(S,b):b.isShadowMaterial?(S.color.value.copy(b.color),S.opacity.value=b.opacity):b.isShaderMaterial&&(b.uniformsNeedUpdate=!1)}function o(S,b){S.opacity.value=b.opacity,b.color&&S.diffuse.value.copy(b.color),b.emissive&&S.emissive.value.copy(b.emissive).multiplyScalar(b.emissiveIntensity),b.map&&(S.map.value=b.map,e(b.map,S.mapTransform)),b.alphaMap&&(S.alphaMap.value=b.alphaMap,e(b.alphaMap,S.alphaMapTransform)),b.bumpMap&&(S.bumpMap.value=b.bumpMap,e(b.bumpMap,S.bumpMapTransform),S.bumpScale.value=b.bumpScale,b.side===Qi&&(S.bumpScale.value*=-1)),b.normalMap&&(S.normalMap.value=b.normalMap,e(b.normalMap,S.normalMapTransform),S.normalScale.value.copy(b.normalScale),b.side===Qi&&S.normalScale.value.negate()),b.displacementMap&&(S.displacementMap.value=b.displacementMap,e(b.displacementMap,S.displacementMapTransform),S.displacementScale.value=b.displacementScale,S.displacementBias.value=b.displacementBias),b.emissiveMap&&(S.emissiveMap.value=b.emissiveMap,e(b.emissiveMap,S.emissiveMapTransform)),b.specularMap&&(S.specularMap.value=b.specularMap,e(b.specularMap,S.specularMapTransform)),b.alphaTest>0&&(S.alphaTest.value=b.alphaTest);const O=t.get(b),N=O.envMap,U=O.envMapRotation;N&&(S.envMap.value=N,Wo.copy(U),Wo.x*=-1,Wo.y*=-1,Wo.z*=-1,N.isCubeTexture&&N.isRenderTargetTexture===!1&&(Wo.y*=-1,Wo.z*=-1),S.envMapRotation.value.setFromMatrix4(b8.makeRotationFromEuler(Wo)),S.flipEnvMap.value=N.isCubeTexture&&N.isRenderTargetTexture===!1?-1:1,S.reflectivity.value=b.reflectivity,S.ior.value=b.ior,S.refractionRatio.value=b.refractionRatio),b.lightMap&&(S.lightMap.value=b.lightMap,S.lightMapIntensity.value=b.lightMapIntensity,e(b.lightMap,S.lightMapTransform)),b.aoMap&&(S.aoMap.value=b.aoMap,S.aoMapIntensity.value=b.aoMapIntensity,e(b.aoMap,S.aoMapTransform))}function l(S,b){S.diffuse.value.copy(b.color),S.opacity.value=b.opacity,b.map&&(S.map.value=b.map,e(b.map,S.mapTransform))}function u(S,b){S.dashSize.value=b.dashSize,S.totalSize.value=b.dashSize+b.gapSize,S.scale.value=b.scale}function d(S,b,O,N){S.diffuse.value.copy(b.color),S.opacity.value=b.opacity,S.size.value=b.size*O,S.scale.value=N*.5,b.map&&(S.map.value=b.map,e(b.map,S.uvTransform)),b.alphaMap&&(S.alphaMap.value=b.alphaMap,e(b.alphaMap,S.alphaMapTransform)),b.alphaTest>0&&(S.alphaTest.value=b.alphaTest)}function f(S,b){S.diffuse.value.copy(b.color),S.opacity.value=b.opacity,S.rotation.value=b.rotation,b.map&&(S.map.value=b.map,e(b.map,S.mapTransform)),b.alphaMap&&(S.alphaMap.value=b.alphaMap,e(b.alphaMap,S.alphaMapTransform)),b.alphaTest>0&&(S.alphaTest.value=b.alphaTest)}function g(S,b){S.specular.value.copy(b.specular),S.shininess.value=Math.max(b.shininess,1e-4)}function y(S,b){b.gradientMap&&(S.gradientMap.value=b.gradientMap)}function x(S,b){S.metalness.value=b.metalness,b.metalnessMap&&(S.metalnessMap.value=b.metalnessMap,e(b.metalnessMap,S.metalnessMapTransform)),S.roughness.value=b.roughness,b.roughnessMap&&(S.roughnessMap.value=b.roughnessMap,e(b.roughnessMap,S.roughnessMapTransform)),b.envMap&&(S.envMapIntensity.value=b.envMapIntensity)}function E(S,b,O){S.ior.value=b.ior,b.sheen>0&&(S.sheenColor.value.copy(b.sheenColor).multiplyScalar(b.sheen),S.sheenRoughness.value=b.sheenRoughness,b.sheenColorMap&&(S.sheenColorMap.value=b.sheenColorMap,e(b.sheenColorMap,S.sheenColorMapTransform)),b.sheenRoughnessMap&&(S.sheenRoughnessMap.value=b.sheenRoughnessMap,e(b.sheenRoughnessMap,S.sheenRoughnessMapTransform))),b.clearcoat>0&&(S.clearcoat.value=b.clearcoat,S.clearcoatRoughness.value=b.clearcoatRoughness,b.clearcoatMap&&(S.clearcoatMap.value=b.clearcoatMap,e(b.clearcoatMap,S.clearcoatMapTransform)),b.clearcoatRoughnessMap&&(S.clearcoatRoughnessMap.value=b.clearcoatRoughnessMap,e(b.clearcoatRoughnessMap,S.clearcoatRoughnessMapTransform)),b.clearcoatNormalMap&&(S.clearcoatNormalMap.value=b.clearcoatNormalMap,e(b.clearcoatNormalMap,S.clearcoatNormalMapTransform),S.clearcoatNormalScale.value.copy(b.clearcoatNormalScale),b.side===Qi&&S.clearcoatNormalScale.value.negate())),b.dispersion>0&&(S.dispersion.value=b.dispersion),b.iridescence>0&&(S.iridescence.value=b.iridescence,S.iridescenceIOR.value=b.iridescenceIOR,S.iridescenceThicknessMinimum.value=b.iridescenceThicknessRange[0],S.iridescenceThicknessMaximum.value=b.iridescenceThicknessRange[1],b.iridescenceMap&&(S.iridescenceMap.value=b.iridescenceMap,e(b.iridescenceMap,S.iridescenceMapTransform)),b.iridescenceThicknessMap&&(S.iridescenceThicknessMap.value=b.iridescenceThicknessMap,e(b.iridescenceThicknessMap,S.iridescenceThicknessMapTransform))),b.transmission>0&&(S.transmission.value=b.transmission,S.transmissionSamplerMap.value=O.texture,S.transmissionSamplerSize.value.set(O.width,O.height),b.transmissionMap&&(S.transmissionMap.value=b.transmissionMap,e(b.transmissionMap,S.transmissionMapTransform)),S.thickness.value=b.thickness,b.thicknessMap&&(S.thicknessMap.value=b.thicknessMap,e(b.thicknessMap,S.thicknessMapTransform)),S.attenuationDistance.value=b.attenuationDistance,S.attenuationColor.value.copy(b.attenuationColor)),b.anisotropy>0&&(S.anisotropyVector.value.set(b.anisotropy*Math.cos(b.anisotropyRotation),b.anisotropy*Math.sin(b.anisotropyRotation)),b.anisotropyMap&&(S.anisotropyMap.value=b.anisotropyMap,e(b.anisotropyMap,S.anisotropyMapTransform))),S.specularIntensity.value=b.specularIntensity,S.specularColor.value.copy(b.specularColor),b.specularColorMap&&(S.specularColorMap.value=b.specularColorMap,e(b.specularColorMap,S.specularColorMapTransform)),b.specularIntensityMap&&(S.specularIntensityMap.value=b.specularIntensityMap,e(b.specularIntensityMap,S.specularIntensityMapTransform))}function T(S,b){b.matcap&&(S.matcap.value=b.matcap)}function C(S,b){const O=t.get(b).light;S.referencePosition.value.setFromMatrixPosition(O.matrixWorld),S.nearDistance.value=O.shadow.camera.near,S.farDistance.value=O.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:r}}function S8(n,t,e,i){let r={},o={},l=[];const u=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function d(O,N){const U=N.program;i.uniformBlockBinding(O,U)}function f(O,N){let U=r[O.id];U===void 0&&(T(O),U=g(O),r[O.id]=U,O.addEventListener("dispose",S));const j=N.program;i.updateUBOMapping(O,j);const G=t.render.frame;o[O.id]!==G&&(x(O),o[O.id]=G)}function g(O){const N=y();O.__bindingPointIndex=N;const U=n.createBuffer(),j=O.__size,G=O.usage;return n.bindBuffer(n.UNIFORM_BUFFER,U),n.bufferData(n.UNIFORM_BUFFER,j,G),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,N,U),U}function y(){for(let O=0;O<u;O++)if(l.indexOf(O)===-1)return l.push(O),O;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function x(O){const N=r[O.id],U=O.uniforms,j=O.__cache;n.bindBuffer(n.UNIFORM_BUFFER,N);for(let G=0,D=U.length;G<D;G++){const R=Array.isArray(U[G])?U[G]:[U[G]];for(let w=0,M=R.length;w<M;w++){const P=R[w];if(E(P,G,w,j)===!0){const z=P.__offset,V=Array.isArray(P.value)?P.value:[P.value];let yt=0;for(let gt=0;gt<V.length;gt++){const Y=V[gt],Z=C(Y);typeof Y=="number"||typeof Y=="boolean"?(P.__data[0]=Y,n.bufferSubData(n.UNIFORM_BUFFER,z+yt,P.__data)):Y.isMatrix3?(P.__data[0]=Y.elements[0],P.__data[1]=Y.elements[1],P.__data[2]=Y.elements[2],P.__data[3]=0,P.__data[4]=Y.elements[3],P.__data[5]=Y.elements[4],P.__data[6]=Y.elements[5],P.__data[7]=0,P.__data[8]=Y.elements[6],P.__data[9]=Y.elements[7],P.__data[10]=Y.elements[8],P.__data[11]=0):(Y.toArray(P.__data,yt),yt+=Z.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,z,P.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function E(O,N,U,j){const G=O.value,D=N+"_"+U;if(j[D]===void 0)return typeof G=="number"||typeof G=="boolean"?j[D]=G:j[D]=G.clone(),!0;{const R=j[D];if(typeof G=="number"||typeof G=="boolean"){if(R!==G)return j[D]=G,!0}else if(R.equals(G)===!1)return R.copy(G),!0}return!1}function T(O){const N=O.uniforms;let U=0;const j=16;for(let D=0,R=N.length;D<R;D++){const w=Array.isArray(N[D])?N[D]:[N[D]];for(let M=0,P=w.length;M<P;M++){const z=w[M],V=Array.isArray(z.value)?z.value:[z.value];for(let yt=0,gt=V.length;yt<gt;yt++){const Y=V[yt],Z=C(Y),Q=U%j,Rt=Q%Z.boundary,W=Q+Rt;U+=Rt,W!==0&&j-W<Z.storage&&(U+=j-W),z.__data=new Float32Array(Z.storage/Float32Array.BYTES_PER_ELEMENT),z.__offset=U,U+=Z.storage}}}const G=U%j;return G>0&&(U+=j-G),O.__size=U,O.__cache={},this}function C(O){const N={boundary:0,storage:0};return typeof O=="number"||typeof O=="boolean"?(N.boundary=4,N.storage=4):O.isVector2?(N.boundary=8,N.storage=8):O.isVector3||O.isColor?(N.boundary=16,N.storage=12):O.isVector4?(N.boundary=16,N.storage=16):O.isMatrix3?(N.boundary=48,N.storage=48):O.isMatrix4?(N.boundary=64,N.storage=64):O.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",O),N}function S(O){const N=O.target;N.removeEventListener("dispose",S);const U=l.indexOf(N.__bindingPointIndex);l.splice(U,1),n.deleteBuffer(r[N.id]),delete r[N.id],delete o[N.id]}function b(){for(const O in r)n.deleteBuffer(r[O]);l=[],r={},o={}}return{bind:d,update:f,dispose:b}}class T8{constructor(t={}){const{canvas:e=rF(),context:i=null,depth:r=!0,stencil:o=!1,alpha:l=!1,antialias:u=!1,premultipliedAlpha:d=!0,preserveDrawingBuffer:f=!1,powerPreference:g="default",failIfMajorPerformanceCaveat:y=!1,reverseDepthBuffer:x=!1}=t;this.isWebGLRenderer=!0;let E;if(i!==null){if(typeof WebGLRenderingContext<"u"&&i instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");E=i.getContextAttributes().alpha}else E=l;const T=new Uint32Array(4),C=new Int32Array(4);let S=null,b=null;const O=[],N=[];this.domElement=e,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=Za,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const U=this;let j=!1;this._outputColorSpace=Rs;let G=0,D=0,R=null,w=-1,M=null;const P=new qn,z=new qn;let V=null;const yt=new mn(0);let gt=0,Y=e.width,Z=e.height,Q=1,Rt=null,W=null;const at=new qn(0,0,Y,Z),wt=new qn(0,0,Y,Z);let Et=!1;const it=new dC;let St=!1,Ct=!1;const Vt=new Xn,Ft=new Xn,de=new pt,ee=new qn,Ie={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let We=!1;function ge(){return R===null?Q:1}let $=i;function bn(k,et){return e.getContext(k,et)}try{const k={alpha:!0,depth:r,stencil:o,antialias:u,premultipliedAlpha:d,preserveDrawingBuffer:f,powerPreference:g,failIfMajorPerformanceCaveat:y};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${C_}`),e.addEventListener("webglcontextlost",Yt,!1),e.addEventListener("webglcontextrestored",Ut,!1),e.addEventListener("webglcontextcreationerror",At,!1),$===null){const et="webgl2";if($=bn(et,k),$===null)throw bn(et)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(k){throw console.error("THREE.WebGLRenderer: "+k.message),k}let je,Pe,ne,Oe,ae,_e,Rn,X,F,ut,xt,bt,_t,qt,zt,te,Zt,It,Xt,ie,oe,kt,ve,tt;function Gt(){je=new Lj($),je.init(),kt=new g8($,je),Pe=new Mj($,je,t,kt),ne=new m8($,je),Pe.reverseDepthBuffer&&x&&ne.buffers.depth.setReversed(!0),Oe=new Vj($),ae=new e8,_e=new p8($,je,ne,ae,Pe,kt,Oe),Rn=new Cj(U),X=new Pj(U),F=new HF($),ve=new wj($,F),ut=new Oj($,F,Oe,ve),xt=new Bj($,ut,F,Oe),Xt=new Fj($,Pe,_e),te=new Rj(ae),bt=new t8(U,Rn,X,je,Pe,ve,te),_t=new E8(U,ae),qt=new i8,zt=new c8(je),It=new Tj(U,Rn,X,ne,xt,E,d),Zt=new d8(U,xt,Pe),tt=new S8($,Oe,Pe,ne),ie=new Aj($,je,Oe),oe=new Uj($,je,Oe),Oe.programs=bt.programs,U.capabilities=Pe,U.extensions=je,U.properties=ae,U.renderLists=qt,U.shadowMap=Zt,U.state=ne,U.info=Oe}Gt();const Pt=new _8(U,$);this.xr=Pt,this.getContext=function(){return $},this.getContextAttributes=function(){return $.getContextAttributes()},this.forceContextLoss=function(){const k=je.get("WEBGL_lose_context");k&&k.loseContext()},this.forceContextRestore=function(){const k=je.get("WEBGL_lose_context");k&&k.restoreContext()},this.getPixelRatio=function(){return Q},this.setPixelRatio=function(k){k!==void 0&&(Q=k,this.setSize(Y,Z,!1))},this.getSize=function(k){return k.set(Y,Z)},this.setSize=function(k,et,mt=!0){if(Pt.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}Y=k,Z=et,e.width=Math.floor(k*Q),e.height=Math.floor(et*Q),mt===!0&&(e.style.width=k+"px",e.style.height=et+"px"),this.setViewport(0,0,k,et)},this.getDrawingBufferSize=function(k){return k.set(Y*Q,Z*Q).floor()},this.setDrawingBufferSize=function(k,et,mt){Y=k,Z=et,Q=mt,e.width=Math.floor(k*mt),e.height=Math.floor(et*mt),this.setViewport(0,0,k,et)},this.getCurrentViewport=function(k){return k.copy(P)},this.getViewport=function(k){return k.copy(at)},this.setViewport=function(k,et,mt,dt){k.isVector4?at.set(k.x,k.y,k.z,k.w):at.set(k,et,mt,dt),ne.viewport(P.copy(at).multiplyScalar(Q).round())},this.getScissor=function(k){return k.copy(wt)},this.setScissor=function(k,et,mt,dt){k.isVector4?wt.set(k.x,k.y,k.z,k.w):wt.set(k,et,mt,dt),ne.scissor(z.copy(wt).multiplyScalar(Q).round())},this.getScissorTest=function(){return Et},this.setScissorTest=function(k){ne.setScissorTest(Et=k)},this.setOpaqueSort=function(k){Rt=k},this.setTransparentSort=function(k){W=k},this.getClearColor=function(k){return k.copy(It.getClearColor())},this.setClearColor=function(){It.setClearColor(...arguments)},this.getClearAlpha=function(){return It.getClearAlpha()},this.setClearAlpha=function(){It.setClearAlpha(...arguments)},this.clear=function(k=!0,et=!0,mt=!0){let dt=0;if(k){let st=!1;if(R!==null){const Ot=R.texture.format;st=Ot===O_||Ot===L_||Ot===P_}if(st){const Ot=R.texture.type,jt=Ot===fa||Ot===ll||Ot===Gh||Ot===Wh||Ot===D_||Ot===I_,Ht=It.getClearColor(),Kt=It.getClearAlpha(),me=Ht.r,ce=Ht.g,se=Ht.b;jt?(T[0]=me,T[1]=ce,T[2]=se,T[3]=Kt,$.clearBufferuiv($.COLOR,0,T)):(C[0]=me,C[1]=ce,C[2]=se,C[3]=Kt,$.clearBufferiv($.COLOR,0,C))}else dt|=$.COLOR_BUFFER_BIT}et&&(dt|=$.DEPTH_BUFFER_BIT),mt&&(dt|=$.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),$.clear(dt)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",Yt,!1),e.removeEventListener("webglcontextrestored",Ut,!1),e.removeEventListener("webglcontextcreationerror",At,!1),It.dispose(),qt.dispose(),zt.dispose(),ae.dispose(),Rn.dispose(),X.dispose(),xt.dispose(),ve.dispose(),tt.dispose(),bt.dispose(),Pt.dispose(),Pt.removeEventListener("sessionstart",Ln),Pt.removeEventListener("sessionend",Cn),Yn.stop()};function Yt(k){k.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),j=!0}function Ut(){console.log("THREE.WebGLRenderer: Context Restored."),j=!1;const k=Oe.autoReset,et=Zt.enabled,mt=Zt.autoUpdate,dt=Zt.needsUpdate,st=Zt.type;Gt(),Oe.autoReset=k,Zt.enabled=et,Zt.autoUpdate=mt,Zt.needsUpdate=dt,Zt.type=st}function At(k){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",k.statusMessage)}function Qt(k){const et=k.target;et.removeEventListener("dispose",Qt),fe(et)}function fe(k){nn(k),ae.remove(k)}function nn(k){const et=ae.get(k).programs;et!==void 0&&(et.forEach(function(mt){bt.releaseProgram(mt)}),k.isShaderMaterial&&bt.releaseShaderCache(k))}this.renderBufferDirect=function(k,et,mt,dt,st,Ot){et===null&&(et=Ie);const jt=st.isMesh&&st.matrixWorld.determinant()<0,Ht=fs(k,et,mt,dt,st);ne.setMaterial(dt,jt);let Kt=mt.index,me=1;if(dt.wireframe===!0){if(Kt=ut.getWireframeAttribute(mt),Kt===void 0)return;me=2}const ce=mt.drawRange,se=mt.attributes.position;let Ae=ce.start*me,Ye=(ce.start+ce.count)*me;Ot!==null&&(Ae=Math.max(Ae,Ot.start*me),Ye=Math.min(Ye,(Ot.start+Ot.count)*me)),Kt!==null?(Ae=Math.max(Ae,0),Ye=Math.min(Ye,Kt.count)):se!=null&&(Ae=Math.max(Ae,0),Ye=Math.min(Ye,se.count));const hn=Ye-Ae;if(hn<0||hn===1/0)return;ve.setup(st,dt,Ht,mt,Kt);let Me,en=ie;if(Kt!==null&&(Me=F.get(Kt),en=oe,en.setIndex(Me)),st.isMesh)dt.wireframe===!0?(ne.setLineWidth(dt.wireframeLinewidth*ge()),en.setMode($.LINES)):en.setMode($.TRIANGLES);else if(st.isLine){let ue=dt.linewidth;ue===void 0&&(ue=1),ne.setLineWidth(ue*ge()),st.isLineSegments?en.setMode($.LINES):st.isLineLoop?en.setMode($.LINE_LOOP):en.setMode($.LINE_STRIP)}else st.isPoints?en.setMode($.POINTS):st.isSprite&&en.setMode($.TRIANGLES);if(st.isBatchedMesh)if(st._multiDrawInstances!==null)Nc("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),en.renderMultiDrawInstances(st._multiDrawStarts,st._multiDrawCounts,st._multiDrawCount,st._multiDrawInstances);else if(je.get("WEBGL_multi_draw"))en.renderMultiDraw(st._multiDrawStarts,st._multiDrawCounts,st._multiDrawCount);else{const ue=st._multiDrawStarts,ln=st._multiDrawCounts,Ve=st._multiDrawCount,kn=Kt?F.get(Kt).bytesPerElement:1,Qs=ae.get(dt).currentProgram.getUniforms();for(let Ke=0;Ke<Ve;Ke++)Qs.setValue($,"_gl_DrawID",Ke),en.render(ue[Ke]/kn,ln[Ke])}else if(st.isInstancedMesh)en.renderInstances(Ae,hn,st.count);else if(mt.isInstancedBufferGeometry){const ue=mt._maxInstanceCount!==void 0?mt._maxInstanceCount:1/0,ln=Math.min(mt.instanceCount,ue);en.renderInstances(Ae,hn,ln)}else en.render(Ae,hn)};function Ue(k,et,mt){k.transparent===!0&&k.side===sa&&k.forceSinglePass===!1?(k.side=Qi,k.needsUpdate=!0,ts(k,et,mt),k.side=ao,k.needsUpdate=!0,ts(k,et,mt),k.side=sa):ts(k,et,mt)}this.compile=function(k,et,mt=null){mt===null&&(mt=k),b=zt.get(mt),b.init(et),N.push(b),mt.traverseVisible(function(st){st.isLight&&st.layers.test(et.layers)&&(b.pushLight(st),st.castShadow&&b.pushShadow(st))}),k!==mt&&k.traverseVisible(function(st){st.isLight&&st.layers.test(et.layers)&&(b.pushLight(st),st.castShadow&&b.pushShadow(st))}),b.setupLights();const dt=new Set;return k.traverse(function(st){if(!(st.isMesh||st.isPoints||st.isLine||st.isSprite))return;const Ot=st.material;if(Ot)if(Array.isArray(Ot))for(let jt=0;jt<Ot.length;jt++){const Ht=Ot[jt];Ue(Ht,mt,st),dt.add(Ht)}else Ue(Ot,mt,st),dt.add(Ot)}),b=N.pop(),dt},this.compileAsync=function(k,et,mt=null){const dt=this.compile(k,et,mt);return new Promise(st=>{function Ot(){if(dt.forEach(function(jt){ae.get(jt).currentProgram.isReady()&&dt.delete(jt)}),dt.size===0){st(k);return}setTimeout(Ot,10)}je.get("KHR_parallel_shader_compile")!==null?Ot():setTimeout(Ot,10)})};let Ci=null;function Xe(k){Ci&&Ci(k)}function Ln(){Yn.stop()}function Cn(){Yn.start()}const Yn=new pC;Yn.setAnimationLoop(Xe),typeof self<"u"&&Yn.setContext(self),this.setAnimationLoop=function(k){Ci=k,Pt.setAnimationLoop(k),k===null?Yn.stop():Yn.start()},Pt.addEventListener("sessionstart",Ln),Pt.addEventListener("sessionend",Cn),this.render=function(k,et){if(et!==void 0&&et.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(j===!0)return;if(k.matrixWorldAutoUpdate===!0&&k.updateMatrixWorld(),et.parent===null&&et.matrixWorldAutoUpdate===!0&&et.updateMatrixWorld(),Pt.enabled===!0&&Pt.isPresenting===!0&&(Pt.cameraAutoUpdate===!0&&Pt.updateCamera(et),et=Pt.getCamera()),k.isScene===!0&&k.onBeforeRender(U,k,et,R),b=zt.get(k,N.length),b.init(et),N.push(b),Ft.multiplyMatrices(et.projectionMatrix,et.matrixWorldInverse),it.setFromProjectionMatrix(Ft),Ct=this.localClippingEnabled,St=te.init(this.clippingPlanes,Ct),S=qt.get(k,O.length),S.init(),O.push(S),Pt.enabled===!0&&Pt.isPresenting===!0){const Ot=U.xr.getDepthSensingMesh();Ot!==null&&Dr(Ot,et,-1/0,U.sortObjects)}Dr(k,et,0,U.sortObjects),S.finish(),U.sortObjects===!0&&S.sort(Rt,W),We=Pt.enabled===!1||Pt.isPresenting===!1||Pt.hasDepthSensing()===!1,We&&It.addToRenderList(S,k),this.info.render.frame++,St===!0&&te.beginShadows();const mt=b.state.shadowsArray;Zt.render(mt,k,et),St===!0&&te.endShadows(),this.info.autoReset===!0&&this.info.reset();const dt=S.opaque,st=S.transmissive;if(b.setupLights(),et.isArrayCamera){const Ot=et.cameras;if(st.length>0)for(let jt=0,Ht=Ot.length;jt<Ht;jt++){const Kt=Ot[jt];Ps(dt,st,k,Kt)}We&&It.render(k);for(let jt=0,Ht=Ot.length;jt<Ht;jt++){const Kt=Ot[jt];yl(S,k,Kt,Kt.viewport)}}else st.length>0&&Ps(dt,st,k,et),We&&It.render(k),yl(S,k,et);R!==null&&D===0&&(_e.updateMultisampleRenderTarget(R),_e.updateRenderTargetMipmap(R)),k.isScene===!0&&k.onAfterRender(U,k,et),ve.resetDefaultState(),w=-1,M=null,N.pop(),N.length>0?(b=N[N.length-1],St===!0&&te.setGlobalState(U.clippingPlanes,b.state.camera)):b=null,O.pop(),O.length>0?S=O[O.length-1]:S=null};function Dr(k,et,mt,dt){if(k.visible===!1)return;if(k.layers.test(et.layers)){if(k.isGroup)mt=k.renderOrder;else if(k.isLOD)k.autoUpdate===!0&&k.update(et);else if(k.isLight)b.pushLight(k),k.castShadow&&b.pushShadow(k);else if(k.isSprite){if(!k.frustumCulled||it.intersectsSprite(k)){dt&&ee.setFromMatrixPosition(k.matrixWorld).applyMatrix4(Ft);const jt=xt.update(k),Ht=k.material;Ht.visible&&S.push(k,jt,Ht,mt,ee.z,null)}}else if((k.isMesh||k.isLine||k.isPoints)&&(!k.frustumCulled||it.intersectsObject(k))){const jt=xt.update(k),Ht=k.material;if(dt&&(k.boundingSphere!==void 0?(k.boundingSphere===null&&k.computeBoundingSphere(),ee.copy(k.boundingSphere.center)):(jt.boundingSphere===null&&jt.computeBoundingSphere(),ee.copy(jt.boundingSphere.center)),ee.applyMatrix4(k.matrixWorld).applyMatrix4(Ft)),Array.isArray(Ht)){const Kt=jt.groups;for(let me=0,ce=Kt.length;me<ce;me++){const se=Kt[me],Ae=Ht[se.materialIndex];Ae&&Ae.visible&&S.push(k,jt,Ae,mt,ee.z,se)}}else Ht.visible&&S.push(k,jt,Ht,mt,ee.z,null)}}const Ot=k.children;for(let jt=0,Ht=Ot.length;jt<Ht;jt++)Dr(Ot[jt],et,mt,dt)}function yl(k,et,mt,dt){const st=k.opaque,Ot=k.transmissive,jt=k.transparent;b.setupLightsView(mt),St===!0&&te.setGlobalState(U.clippingPlanes,mt),dt&&ne.viewport(P.copy(dt)),st.length>0&&Ir(st,et,mt),Ot.length>0&&Ir(Ot,et,mt),jt.length>0&&Ir(jt,et,mt),ne.buffers.depth.setTest(!0),ne.buffers.depth.setMask(!0),ne.buffers.color.setMask(!0),ne.setPolygonOffset(!1)}function Ps(k,et,mt,dt){if((mt.isScene===!0?mt.overrideMaterial:null)!==null)return;b.state.transmissionRenderTarget[dt.id]===void 0&&(b.state.transmissionRenderTarget[dt.id]=new cl(1,1,{generateMipmaps:!0,type:je.has("EXT_color_buffer_half_float")||je.has("EXT_color_buffer_float")?fd:fa,minFilter:nl,samples:4,stencilBuffer:o,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:an.workingColorSpace}));const Ot=b.state.transmissionRenderTarget[dt.id],jt=dt.viewport||P;Ot.setSize(jt.z*U.transmissionResolutionScale,jt.w*U.transmissionResolutionScale);const Ht=U.getRenderTarget(),Kt=U.getActiveCubeFace(),me=U.getActiveMipmapLevel();U.setRenderTarget(Ot),U.getClearColor(yt),gt=U.getClearAlpha(),gt<1&&U.setClearColor(16777215,.5),U.clear(),We&&It.render(mt);const ce=U.toneMapping;U.toneMapping=Za;const se=dt.viewport;if(dt.viewport!==void 0&&(dt.viewport=void 0),b.setupLightsView(dt),St===!0&&te.setGlobalState(U.clippingPlanes,dt),Ir(k,mt,dt),_e.updateMultisampleRenderTarget(Ot),_e.updateRenderTargetMipmap(Ot),je.has("WEBGL_multisampled_render_to_texture")===!1){let Ae=!1;for(let Ye=0,hn=et.length;Ye<hn;Ye++){const Me=et[Ye],en=Me.object,ue=Me.geometry,ln=Me.material,Ve=Me.group;if(ln.side===sa&&en.layers.test(dt.layers)){const kn=ln.side;ln.side=Qi,ln.needsUpdate=!0,$s(en,mt,dt,ue,ln,Ve),ln.side=kn,ln.needsUpdate=!0,Ae=!0}}Ae===!0&&(_e.updateMultisampleRenderTarget(Ot),_e.updateRenderTargetMipmap(Ot))}U.setRenderTarget(Ht,Kt,me),U.setClearColor(yt,gt),se!==void 0&&(dt.viewport=se),U.toneMapping=ce}function Ir(k,et,mt){const dt=et.isScene===!0?et.overrideMaterial:null;for(let st=0,Ot=k.length;st<Ot;st++){const jt=k[st],Ht=jt.object,Kt=jt.geometry,me=jt.group;let ce=jt.material;ce.allowOverride===!0&&dt!==null&&(ce=dt),Ht.layers.test(mt.layers)&&$s(Ht,et,mt,Kt,ce,me)}}function $s(k,et,mt,dt,st,Ot){k.onBeforeRender(U,et,mt,dt,st,Ot),k.modelViewMatrix.multiplyMatrices(mt.matrixWorldInverse,k.matrixWorld),k.normalMatrix.getNormalMatrix(k.modelViewMatrix),st.onBeforeRender(U,et,mt,dt,k,Ot),st.transparent===!0&&st.side===sa&&st.forceSinglePass===!1?(st.side=Qi,st.needsUpdate=!0,U.renderBufferDirect(mt,et,dt,st,k,Ot),st.side=ao,st.needsUpdate=!0,U.renderBufferDirect(mt,et,dt,st,k,Ot),st.side=sa):U.renderBufferDirect(mt,et,dt,st,k,Ot),k.onAfterRender(U,et,mt,dt,st,Ot)}function ts(k,et,mt){et.isScene!==!0&&(et=Ie);const dt=ae.get(k),st=b.state.lights,Ot=b.state.shadowsArray,jt=st.state.version,Ht=bt.getParameters(k,st.state,Ot,et,mt),Kt=bt.getProgramCacheKey(Ht);let me=dt.programs;dt.environment=k.isMeshStandardMaterial?et.environment:null,dt.fog=et.fog,dt.envMap=(k.isMeshStandardMaterial?X:Rn).get(k.envMap||dt.environment),dt.envMapRotation=dt.environment!==null&&k.envMap===null?et.environmentRotation:k.envMapRotation,me===void 0&&(k.addEventListener("dispose",Qt),me=new Map,dt.programs=me);let ce=me.get(Kt);if(ce!==void 0){if(dt.currentProgram===ce&&dt.lightsStateVersion===jt)return es(k,Ht),ce}else Ht.uniforms=bt.getUniforms(k),k.onBeforeCompile(Ht,U),ce=bt.acquireProgram(Ht,Kt),me.set(Kt,ce),dt.uniforms=Ht.uniforms;const se=dt.uniforms;return(!k.isShaderMaterial&&!k.isRawShaderMaterial||k.clipping===!0)&&(se.clippingPlanes=te.uniform),es(k,Ht),dt.needsLights=Nn(k),dt.lightsStateVersion=jt,dt.needsLights&&(se.ambientLightColor.value=st.state.ambient,se.lightProbe.value=st.state.probe,se.directionalLights.value=st.state.directional,se.directionalLightShadows.value=st.state.directionalShadow,se.spotLights.value=st.state.spot,se.spotLightShadows.value=st.state.spotShadow,se.rectAreaLights.value=st.state.rectArea,se.ltc_1.value=st.state.rectAreaLTC1,se.ltc_2.value=st.state.rectAreaLTC2,se.pointLights.value=st.state.point,se.pointLightShadows.value=st.state.pointShadow,se.hemisphereLights.value=st.state.hemi,se.directionalShadowMap.value=st.state.directionalShadowMap,se.directionalShadowMatrix.value=st.state.directionalShadowMatrix,se.spotShadowMap.value=st.state.spotShadowMap,se.spotLightMatrix.value=st.state.spotLightMatrix,se.spotLightMap.value=st.state.spotLightMap,se.pointShadowMap.value=st.state.pointShadowMap,se.pointShadowMatrix.value=st.state.pointShadowMatrix),dt.currentProgram=ce,dt.uniformsList=null,ce}function ds(k){if(k.uniformsList===null){const et=k.currentProgram.getUniforms();k.uniformsList=Lm.seqWithValue(et.seq,k.uniforms)}return k.uniformsList}function es(k,et){const mt=ae.get(k);mt.outputColorSpace=et.outputColorSpace,mt.batching=et.batching,mt.batchingColor=et.batchingColor,mt.instancing=et.instancing,mt.instancingColor=et.instancingColor,mt.instancingMorph=et.instancingMorph,mt.skinning=et.skinning,mt.morphTargets=et.morphTargets,mt.morphNormals=et.morphNormals,mt.morphColors=et.morphColors,mt.morphTargetsCount=et.morphTargetsCount,mt.numClippingPlanes=et.numClippingPlanes,mt.numIntersection=et.numClipIntersection,mt.vertexAlphas=et.vertexAlphas,mt.vertexTangents=et.vertexTangents,mt.toneMapping=et.toneMapping}function fs(k,et,mt,dt,st){et.isScene!==!0&&(et=Ie),_e.resetTextureUnits();const Ot=et.fog,jt=dt.isMeshStandardMaterial?et.environment:null,Ht=R===null?U.outputColorSpace:R.isXRRenderTarget===!0?R.texture.colorSpace:jc,Kt=(dt.isMeshStandardMaterial?X:Rn).get(dt.envMap||jt),me=dt.vertexColors===!0&&!!mt.attributes.color&&mt.attributes.color.itemSize===4,ce=!!mt.attributes.tangent&&(!!dt.normalMap||dt.anisotropy>0),se=!!mt.morphAttributes.position,Ae=!!mt.morphAttributes.normal,Ye=!!mt.morphAttributes.color;let hn=Za;dt.toneMapped&&(R===null||R.isXRRenderTarget===!0)&&(hn=U.toneMapping);const Me=mt.morphAttributes.position||mt.morphAttributes.normal||mt.morphAttributes.color,en=Me!==void 0?Me.length:0,ue=ae.get(dt),ln=b.state.lights;if(St===!0&&(Ct===!0||k!==M)){const Te=k===M&&dt.id===w;te.setState(dt,k,Te)}let Ve=!1;dt.version===ue.__version?(ue.needsLights&&ue.lightsStateVersion!==ln.state.version||ue.outputColorSpace!==Ht||st.isBatchedMesh&&ue.batching===!1||!st.isBatchedMesh&&ue.batching===!0||st.isBatchedMesh&&ue.batchingColor===!0&&st.colorTexture===null||st.isBatchedMesh&&ue.batchingColor===!1&&st.colorTexture!==null||st.isInstancedMesh&&ue.instancing===!1||!st.isInstancedMesh&&ue.instancing===!0||st.isSkinnedMesh&&ue.skinning===!1||!st.isSkinnedMesh&&ue.skinning===!0||st.isInstancedMesh&&ue.instancingColor===!0&&st.instanceColor===null||st.isInstancedMesh&&ue.instancingColor===!1&&st.instanceColor!==null||st.isInstancedMesh&&ue.instancingMorph===!0&&st.morphTexture===null||st.isInstancedMesh&&ue.instancingMorph===!1&&st.morphTexture!==null||ue.envMap!==Kt||dt.fog===!0&&ue.fog!==Ot||ue.numClippingPlanes!==void 0&&(ue.numClippingPlanes!==te.numPlanes||ue.numIntersection!==te.numIntersection)||ue.vertexAlphas!==me||ue.vertexTangents!==ce||ue.morphTargets!==se||ue.morphNormals!==Ae||ue.morphColors!==Ye||ue.toneMapping!==hn||ue.morphTargetsCount!==en)&&(Ve=!0):(Ve=!0,ue.__version=dt.version);let kn=ue.currentProgram;Ve===!0&&(kn=ts(dt,et,st));let Qs=!1,Ke=!1,ni=!1;const sn=kn.getUniforms(),jn=ue.uniforms;if(ne.useProgram(kn.program)&&(Qs=!0,Ke=!0,ni=!0),dt.id!==w&&(w=dt.id,Ke=!0),Qs||M!==k){ne.buffers.depth.getReversed()?(Vt.copy(k.projectionMatrix),oF(Vt),lF(Vt),sn.setValue($,"projectionMatrix",Vt)):sn.setValue($,"projectionMatrix",k.projectionMatrix),sn.setValue($,"viewMatrix",k.matrixWorldInverse);const Un=sn.map.cameraPosition;Un!==void 0&&Un.setValue($,de.setFromMatrixPosition(k.matrixWorld)),Pe.logarithmicDepthBuffer&&sn.setValue($,"logDepthBufFC",2/(Math.log(k.far+1)/Math.LN2)),(dt.isMeshPhongMaterial||dt.isMeshToonMaterial||dt.isMeshLambertMaterial||dt.isMeshBasicMaterial||dt.isMeshStandardMaterial||dt.isShaderMaterial)&&sn.setValue($,"isOrthographic",k.isOrthographicCamera===!0),M!==k&&(M=k,Ke=!0,ni=!0)}if(st.isSkinnedMesh){sn.setOptional($,st,"bindMatrix"),sn.setOptional($,st,"bindMatrixInverse");const Te=st.skeleton;Te&&(Te.boneTexture===null&&Te.computeBoneTexture(),sn.setValue($,"boneTexture",Te.boneTexture,_e))}st.isBatchedMesh&&(sn.setOptional($,st,"batchingTexture"),sn.setValue($,"batchingTexture",st._matricesTexture,_e),sn.setOptional($,st,"batchingIdTexture"),sn.setValue($,"batchingIdTexture",st._indirectTexture,_e),sn.setOptional($,st,"batchingColorTexture"),st._colorsTexture!==null&&sn.setValue($,"batchingColorTexture",st._colorsTexture,_e));const On=mt.morphAttributes;if((On.position!==void 0||On.normal!==void 0||On.color!==void 0)&&Xt.update(st,mt,kn),(Ke||ue.receiveShadow!==st.receiveShadow)&&(ue.receiveShadow=st.receiveShadow,sn.setValue($,"receiveShadow",st.receiveShadow)),dt.isMeshGouraudMaterial&&dt.envMap!==null&&(jn.envMap.value=Kt,jn.flipEnvMap.value=Kt.isCubeTexture&&Kt.isRenderTargetTexture===!1?-1:1),dt.isMeshStandardMaterial&&dt.envMap===null&&et.environment!==null&&(jn.envMapIntensity.value=et.environmentIntensity),Ke&&(sn.setValue($,"toneMappingExposure",U.toneMappingExposure),ue.needsLights&&yi(jn,ni),Ot&&dt.fog===!0&&_t.refreshFogUniforms(jn,Ot),_t.refreshMaterialUniforms(jn,dt,Q,Z,b.state.transmissionRenderTarget[k.id]),Lm.upload($,ds(ue),jn,_e)),dt.isShaderMaterial&&dt.uniformsNeedUpdate===!0&&(Lm.upload($,ds(ue),jn,_e),dt.uniformsNeedUpdate=!1),dt.isSpriteMaterial&&sn.setValue($,"center",st.center),sn.setValue($,"modelViewMatrix",st.modelViewMatrix),sn.setValue($,"normalMatrix",st.normalMatrix),sn.setValue($,"modelMatrix",st.matrixWorld),dt.isShaderMaterial||dt.isRawShaderMaterial){const Te=dt.uniformsGroups;for(let Un=0,Ni=Te.length;Un<Ni;Un++){const Bi=Te[Un];tt.update(Bi,kn),tt.bind(Bi,kn)}}return kn}function yi(k,et){k.ambientLightColor.needsUpdate=et,k.lightProbe.needsUpdate=et,k.directionalLights.needsUpdate=et,k.directionalLightShadows.needsUpdate=et,k.pointLights.needsUpdate=et,k.pointLightShadows.needsUpdate=et,k.spotLights.needsUpdate=et,k.spotLightShadows.needsUpdate=et,k.rectAreaLights.needsUpdate=et,k.hemisphereLights.needsUpdate=et}function Nn(k){return k.isMeshLambertMaterial||k.isMeshToonMaterial||k.isMeshPhongMaterial||k.isMeshStandardMaterial||k.isShadowMaterial||k.isShaderMaterial&&k.lights===!0}this.getActiveCubeFace=function(){return G},this.getActiveMipmapLevel=function(){return D},this.getRenderTarget=function(){return R},this.setRenderTargetTextures=function(k,et,mt){const dt=ae.get(k);dt.__autoAllocateDepthBuffer=k.resolveDepthBuffer===!1,dt.__autoAllocateDepthBuffer===!1&&(dt.__useRenderToTexture=!1),ae.get(k.texture).__webglTexture=et,ae.get(k.depthTexture).__webglTexture=dt.__autoAllocateDepthBuffer?void 0:mt,dt.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(k,et){const mt=ae.get(k);mt.__webglFramebuffer=et,mt.__useDefaultFramebuffer=et===void 0};const go=$.createFramebuffer();this.setRenderTarget=function(k,et=0,mt=0){R=k,G=et,D=mt;let dt=!0,st=null,Ot=!1,jt=!1;if(k){const Kt=ae.get(k);if(Kt.__useDefaultFramebuffer!==void 0)ne.bindFramebuffer($.FRAMEBUFFER,null),dt=!1;else if(Kt.__webglFramebuffer===void 0)_e.setupRenderTarget(k);else if(Kt.__hasExternalTextures)_e.rebindTextures(k,ae.get(k.texture).__webglTexture,ae.get(k.depthTexture).__webglTexture);else if(k.depthBuffer){const se=k.depthTexture;if(Kt.__boundDepthTexture!==se){if(se!==null&&ae.has(se)&&(k.width!==se.image.width||k.height!==se.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");_e.setupDepthRenderbuffer(k)}}const me=k.texture;(me.isData3DTexture||me.isDataArrayTexture||me.isCompressedArrayTexture)&&(jt=!0);const ce=ae.get(k).__webglFramebuffer;k.isWebGLCubeRenderTarget?(Array.isArray(ce[et])?st=ce[et][mt]:st=ce[et],Ot=!0):k.samples>0&&_e.useMultisampledRTT(k)===!1?st=ae.get(k).__webglMultisampledFramebuffer:Array.isArray(ce)?st=ce[mt]:st=ce,P.copy(k.viewport),z.copy(k.scissor),V=k.scissorTest}else P.copy(at).multiplyScalar(Q).floor(),z.copy(wt).multiplyScalar(Q).floor(),V=Et;if(mt!==0&&(st=go),ne.bindFramebuffer($.FRAMEBUFFER,st)&&dt&&ne.drawBuffers(k,st),ne.viewport(P),ne.scissor(z),ne.setScissorTest(V),Ot){const Kt=ae.get(k.texture);$.framebufferTexture2D($.FRAMEBUFFER,$.COLOR_ATTACHMENT0,$.TEXTURE_CUBE_MAP_POSITIVE_X+et,Kt.__webglTexture,mt)}else if(jt){const Kt=ae.get(k.texture),me=et;$.framebufferTextureLayer($.FRAMEBUFFER,$.COLOR_ATTACHMENT0,Kt.__webglTexture,mt,me)}else if(k!==null&&mt!==0){const Kt=ae.get(k.texture);$.framebufferTexture2D($.FRAMEBUFFER,$.COLOR_ATTACHMENT0,$.TEXTURE_2D,Kt.__webglTexture,mt)}w=-1},this.readRenderTargetPixels=function(k,et,mt,dt,st,Ot,jt,Ht=0){if(!(k&&k.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Kt=ae.get(k).__webglFramebuffer;if(k.isWebGLCubeRenderTarget&&jt!==void 0&&(Kt=Kt[jt]),Kt){ne.bindFramebuffer($.FRAMEBUFFER,Kt);try{const me=k.textures[Ht],ce=me.format,se=me.type;if(!Pe.textureFormatReadable(ce)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Pe.textureTypeReadable(se)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}et>=0&&et<=k.width-dt&&mt>=0&&mt<=k.height-st&&(k.textures.length>1&&$.readBuffer($.COLOR_ATTACHMENT0+Ht),$.readPixels(et,mt,dt,st,kt.convert(ce),kt.convert(se),Ot))}finally{const me=R!==null?ae.get(R).__webglFramebuffer:null;ne.bindFramebuffer($.FRAMEBUFFER,me)}}},this.readRenderTargetPixelsAsync=async function(k,et,mt,dt,st,Ot,jt,Ht=0){if(!(k&&k.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Kt=ae.get(k).__webglFramebuffer;if(k.isWebGLCubeRenderTarget&&jt!==void 0&&(Kt=Kt[jt]),Kt)if(et>=0&&et<=k.width-dt&&mt>=0&&mt<=k.height-st){ne.bindFramebuffer($.FRAMEBUFFER,Kt);const me=k.textures[Ht],ce=me.format,se=me.type;if(!Pe.textureFormatReadable(ce))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Pe.textureTypeReadable(se))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const Ae=$.createBuffer();$.bindBuffer($.PIXEL_PACK_BUFFER,Ae),$.bufferData($.PIXEL_PACK_BUFFER,Ot.byteLength,$.STREAM_READ),k.textures.length>1&&$.readBuffer($.COLOR_ATTACHMENT0+Ht),$.readPixels(et,mt,dt,st,kt.convert(ce),kt.convert(se),0);const Ye=R!==null?ae.get(R).__webglFramebuffer:null;ne.bindFramebuffer($.FRAMEBUFFER,Ye);const hn=$.fenceSync($.SYNC_GPU_COMMANDS_COMPLETE,0);return $.flush(),await aF($,hn,4),$.bindBuffer($.PIXEL_PACK_BUFFER,Ae),$.getBufferSubData($.PIXEL_PACK_BUFFER,0,Ot),$.deleteBuffer(Ae),$.deleteSync(hn),Ot}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(k,et=null,mt=0){const dt=Math.pow(2,-mt),st=Math.floor(k.image.width*dt),Ot=Math.floor(k.image.height*dt),jt=et!==null?et.x:0,Ht=et!==null?et.y:0;_e.setTexture2D(k,0),$.copyTexSubImage2D($.TEXTURE_2D,mt,0,0,jt,Ht,st,Ot),ne.unbindTexture()};const ya=$.createFramebuffer(),ns=$.createFramebuffer();this.copyTextureToTexture=function(k,et,mt=null,dt=null,st=0,Ot=null){Ot===null&&(st!==0?(Nc("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),Ot=st,st=0):Ot=0);let jt,Ht,Kt,me,ce,se,Ae,Ye,hn;const Me=k.isCompressedTexture?k.mipmaps[Ot]:k.image;if(mt!==null)jt=mt.max.x-mt.min.x,Ht=mt.max.y-mt.min.y,Kt=mt.isBox3?mt.max.z-mt.min.z:1,me=mt.min.x,ce=mt.min.y,se=mt.isBox3?mt.min.z:0;else{const On=Math.pow(2,-st);jt=Math.floor(Me.width*On),Ht=Math.floor(Me.height*On),k.isDataArrayTexture?Kt=Me.depth:k.isData3DTexture?Kt=Math.floor(Me.depth*On):Kt=1,me=0,ce=0,se=0}dt!==null?(Ae=dt.x,Ye=dt.y,hn=dt.z):(Ae=0,Ye=0,hn=0);const en=kt.convert(et.format),ue=kt.convert(et.type);let ln;et.isData3DTexture?(_e.setTexture3D(et,0),ln=$.TEXTURE_3D):et.isDataArrayTexture||et.isCompressedArrayTexture?(_e.setTexture2DArray(et,0),ln=$.TEXTURE_2D_ARRAY):(_e.setTexture2D(et,0),ln=$.TEXTURE_2D),$.pixelStorei($.UNPACK_FLIP_Y_WEBGL,et.flipY),$.pixelStorei($.UNPACK_PREMULTIPLY_ALPHA_WEBGL,et.premultiplyAlpha),$.pixelStorei($.UNPACK_ALIGNMENT,et.unpackAlignment);const Ve=$.getParameter($.UNPACK_ROW_LENGTH),kn=$.getParameter($.UNPACK_IMAGE_HEIGHT),Qs=$.getParameter($.UNPACK_SKIP_PIXELS),Ke=$.getParameter($.UNPACK_SKIP_ROWS),ni=$.getParameter($.UNPACK_SKIP_IMAGES);$.pixelStorei($.UNPACK_ROW_LENGTH,Me.width),$.pixelStorei($.UNPACK_IMAGE_HEIGHT,Me.height),$.pixelStorei($.UNPACK_SKIP_PIXELS,me),$.pixelStorei($.UNPACK_SKIP_ROWS,ce),$.pixelStorei($.UNPACK_SKIP_IMAGES,se);const sn=k.isDataArrayTexture||k.isData3DTexture,jn=et.isDataArrayTexture||et.isData3DTexture;if(k.isDepthTexture){const On=ae.get(k),Te=ae.get(et),Un=ae.get(On.__renderTarget),Ni=ae.get(Te.__renderTarget);ne.bindFramebuffer($.READ_FRAMEBUFFER,Un.__webglFramebuffer),ne.bindFramebuffer($.DRAW_FRAMEBUFFER,Ni.__webglFramebuffer);for(let Bi=0;Bi<Kt;Bi++)sn&&($.framebufferTextureLayer($.READ_FRAMEBUFFER,$.COLOR_ATTACHMENT0,ae.get(k).__webglTexture,st,se+Bi),$.framebufferTextureLayer($.DRAW_FRAMEBUFFER,$.COLOR_ATTACHMENT0,ae.get(et).__webglTexture,Ot,hn+Bi)),$.blitFramebuffer(me,ce,jt,Ht,Ae,Ye,jt,Ht,$.DEPTH_BUFFER_BIT,$.NEAREST);ne.bindFramebuffer($.READ_FRAMEBUFFER,null),ne.bindFramebuffer($.DRAW_FRAMEBUFFER,null)}else if(st!==0||k.isRenderTargetTexture||ae.has(k)){const On=ae.get(k),Te=ae.get(et);ne.bindFramebuffer($.READ_FRAMEBUFFER,ya),ne.bindFramebuffer($.DRAW_FRAMEBUFFER,ns);for(let Un=0;Un<Kt;Un++)sn?$.framebufferTextureLayer($.READ_FRAMEBUFFER,$.COLOR_ATTACHMENT0,On.__webglTexture,st,se+Un):$.framebufferTexture2D($.READ_FRAMEBUFFER,$.COLOR_ATTACHMENT0,$.TEXTURE_2D,On.__webglTexture,st),jn?$.framebufferTextureLayer($.DRAW_FRAMEBUFFER,$.COLOR_ATTACHMENT0,Te.__webglTexture,Ot,hn+Un):$.framebufferTexture2D($.DRAW_FRAMEBUFFER,$.COLOR_ATTACHMENT0,$.TEXTURE_2D,Te.__webglTexture,Ot),st!==0?$.blitFramebuffer(me,ce,jt,Ht,Ae,Ye,jt,Ht,$.COLOR_BUFFER_BIT,$.NEAREST):jn?$.copyTexSubImage3D(ln,Ot,Ae,Ye,hn+Un,me,ce,jt,Ht):$.copyTexSubImage2D(ln,Ot,Ae,Ye,me,ce,jt,Ht);ne.bindFramebuffer($.READ_FRAMEBUFFER,null),ne.bindFramebuffer($.DRAW_FRAMEBUFFER,null)}else jn?k.isDataTexture||k.isData3DTexture?$.texSubImage3D(ln,Ot,Ae,Ye,hn,jt,Ht,Kt,en,ue,Me.data):et.isCompressedArrayTexture?$.compressedTexSubImage3D(ln,Ot,Ae,Ye,hn,jt,Ht,Kt,en,Me.data):$.texSubImage3D(ln,Ot,Ae,Ye,hn,jt,Ht,Kt,en,ue,Me):k.isDataTexture?$.texSubImage2D($.TEXTURE_2D,Ot,Ae,Ye,jt,Ht,en,ue,Me.data):k.isCompressedTexture?$.compressedTexSubImage2D($.TEXTURE_2D,Ot,Ae,Ye,Me.width,Me.height,en,Me.data):$.texSubImage2D($.TEXTURE_2D,Ot,Ae,Ye,jt,Ht,en,ue,Me);$.pixelStorei($.UNPACK_ROW_LENGTH,Ve),$.pixelStorei($.UNPACK_IMAGE_HEIGHT,kn),$.pixelStorei($.UNPACK_SKIP_PIXELS,Qs),$.pixelStorei($.UNPACK_SKIP_ROWS,Ke),$.pixelStorei($.UNPACK_SKIP_IMAGES,ni),Ot===0&&et.generateMipmaps&&$.generateMipmap(ln),ne.unbindTexture()},this.copyTextureToTexture3D=function(k,et,mt=null,dt=null,st=0){return Nc('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(k,et,mt,dt,st)},this.initRenderTarget=function(k){ae.get(k).__webglFramebuffer===void 0&&_e.setupRenderTarget(k)},this.initTexture=function(k){k.isCubeTexture?_e.setTextureCube(k,0):k.isData3DTexture?_e.setTexture3D(k,0):k.isDataArrayTexture||k.isCompressedArrayTexture?_e.setTexture2DArray(k,0):_e.setTexture2D(k,0),ne.unbindTexture()},this.resetState=function(){G=0,D=0,R=null,ne.reset(),ve.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return aa}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(t){this._outputColorSpace=t;const e=this.getContext();e.drawingBufferColorSpace=an._getDrawingBufferColorSpace(t),e.unpackColorSpace=an._getUnpackColorSpace()}}const w8=()=>{const n=q.useRef(null),t=q.useRef(null),e=q.useRef(null),i=q.useRef(null);q.useEffect(()=>{if(!n.current)return;const o=new PF,l=new Cs(75,1,.1,1e3),u=new T8({antialias:!0,alpha:!0}),d=n.current,f=Math.min(d.clientWidth,d.clientHeight);u.setSize(f,f),u.setClearColor(0,0),d.appendChild(u.domElement);const g=()=>{const S=new vh,b=new F_(.05,8,8),O=new V_({color:9647082,transparent:!0,opacity:.8}),N=[],U=50;for(let D=0;D<U;D++){const R=new gr(b,O.clone()),w=Math.acos(-1+2*D/U),M=Math.sqrt(U*Math.PI)*w;R.position.setFromSphericalCoords(3,w,M),N.push(R),S.add(R)}const j=[],G=new fC({color:9647082,transparent:!0,opacity:1});for(let D=0;D<N.length;D++)for(let R=D+1;R<N.length;R++)if(N[D].position.distanceTo(N[R].position)<3){const M=new Nr().setFromPoints([N[D].position,N[R].position]),P=new VF(M,G.clone());j.push(P),S.add(P)}return{group:S,nodes:N,connections:j}},{group:y,nodes:x,connections:E}=g();o.add(y),l.position.z=5;const T=()=>{i.current=requestAnimationFrame(T),y.rotation.x+=.002,y.rotation.y+=.001;const S=Date.now()*.001;x.forEach((b,O)=>{const N=b.material;N.opacity=.5+.3*Math.sin(S+O*.5)}),E.forEach((b,O)=>{const N=b.material;N.opacity=.2+.2*Math.sin(S*.5+O*.3)}),u.render(o,l)};T(),t.current=o,e.current=u;const C=()=>{if(!d||!u)return;const S=Math.min(d.clientWidth,d.clientHeight);u.setSize(S,S),l.aspect=1,l.updateProjectionMatrix()};return window.addEventListener("resize",C),()=>{i.current&&cancelAnimationFrame(i.current),d&&u.domElement&&d.removeChild(u.domElement),u&&u.dispose(),window.removeEventListener("resize",C)}},[]);const r=[{icon:m.jsx(r6,{className:"w-8 h-8"}),title:"Information Systems Strategy",description:"Strategic planning for your IT infrastructure"},{icon:m.jsx(XV,{className:"w-8 h-8"}),title:"Custom Software",description:"Tailored software solutions for your business"},{icon:m.jsx(QV,{className:"w-8 h-8"}),title:"Integration Services",description:"Seamless system integration and connectivity"},{icon:m.jsx(i6,{className:"w-8 h-8"}),title:"Web, Ecommerce & Mobile Apps",description:"Complete digital solutions and applications"},{icon:m.jsx(IR,{className:"w-8 h-8"}),title:"Business Automation",description:"Streamline your business processes"},{icon:m.jsx(RR,{className:"w-8 h-8"}),title:"Creativity",description:"Innovative creative solutions and design"}];return m.jsxs("section",{className:"relative bg-white py-16 lg:py-24 overflow-hidden",children:[m.jsx("div",{className:"absolute bottom-30 -right-20 w-80 h-80 bg-gradient-to-tr from-purple-700/40 via-purple-600/30 to-purple-500/40 rounded-full blur-3xl opacity-80 pointer-events-none z-0"}),m.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 lg:gap-16 items-center",children:[m.jsxs(lt.div,{className:"order-2 lg:order-1",initial:{x:-100,opacity:0},whileInView:{x:0,opacity:1},viewport:{once:!0},transition:{duration:.8,ease:"easeOut"},children:[m.jsxs("div",{className:"mb-12",children:[m.jsx("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold text-gray-900 mb-6",children:"Our services"}),m.jsx("p",{className:"text-lg text-gray-600 leading-relaxed max-w-lg",children:"We don't just help with your IT needs. We focus on the entire ecosystem surrounding it. Bringing together people, process, and technology, we pride ourselves on delivering solutions that work in reality. Not theory."})]}),m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8",children:r.map((o,l)=>m.jsx("div",{className:"group cursor-pointer transition-all duration-300 hover:-translate-y-1",children:m.jsxs("div",{className:"flex flex-col items-center sm:items-start text-center sm:text-left space-y-3",children:[m.jsx("div",{className:"text-gray-900 group-hover:text-purple-600 transition-colors duration-300",children:o.icon}),m.jsx("h3",{className:"text-sm lg:text-base font-semibold text-gray-900 group-hover:text-purple-600 transition-colors duration-300 leading-tight",children:o.title})]})},l))})]}),m.jsx(lt.div,{className:"order-1 lg:order-2",initial:{x:100,opacity:0},whileInView:{x:0,opacity:1},viewport:{once:!0},transition:{duration:.8,ease:"easeOut"},children:m.jsxs("div",{className:"relative w-full h-96 lg:h-[500px] flex items-center justify-center",children:[m.jsx("div",{ref:n,className:"w-full h-full max-w-md max-h-md"}),m.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-500/20 via-transparent to-purple-500/20 rounded-full blur-3xl opacity-50"})]})})]})})]})};function A8(n){return Ri({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z"},child:[]}]})(n)}function M8(n){return Ri({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"16 18 22 12 16 6"},child:[]},{tag:"polyline",attr:{points:"8 6 2 12 8 18"},child:[]}]})(n)}function R8(n){return Ri({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"4",y:"4",width:"16",height:"16",rx:"2",ry:"2"},child:[]},{tag:"rect",attr:{x:"9",y:"9",width:"6",height:"6"},child:[]},{tag:"line",attr:{x1:"9",y1:"1",x2:"9",y2:"4"},child:[]},{tag:"line",attr:{x1:"15",y1:"1",x2:"15",y2:"4"},child:[]},{tag:"line",attr:{x1:"9",y1:"20",x2:"9",y2:"23"},child:[]},{tag:"line",attr:{x1:"15",y1:"20",x2:"15",y2:"23"},child:[]},{tag:"line",attr:{x1:"20",y1:"9",x2:"23",y2:"9"},child:[]},{tag:"line",attr:{x1:"20",y1:"14",x2:"23",y2:"14"},child:[]},{tag:"line",attr:{x1:"1",y1:"9",x2:"4",y2:"9"},child:[]},{tag:"line",attr:{x1:"1",y1:"14",x2:"4",y2:"14"},child:[]}]})(n)}function C8(n){return Ri({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"ellipse",attr:{cx:"12",cy:"5",rx:"9",ry:"3"},child:[]},{tag:"path",attr:{d:"M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"},child:[]},{tag:"path",attr:{d:"M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"},child:[]}]})(n)}function N8(n){return Ri({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(n)}function D8(n){return Ri({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"3",y1:"9",x2:"21",y2:"9"},child:[]},{tag:"line",attr:{x1:"9",y1:"21",x2:"9",y2:"9"},child:[]}]})(n)}function I8(n){return Ri({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(n)}function P8(n){return Ri({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"18"},child:[]},{tag:"line",attr:{x1:"16",y1:"6",x2:"16",y2:"22"},child:[]}]})(n)}function L8(n){return Ri({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(n)}function O8(n){return Ri({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"18",cy:"5",r:"3"},child:[]},{tag:"circle",attr:{cx:"6",cy:"12",r:"3"},child:[]},{tag:"circle",attr:{cx:"18",cy:"19",r:"3"},child:[]},{tag:"line",attr:{x1:"8.59",y1:"13.51",x2:"15.42",y2:"17.49"},child:[]},{tag:"line",attr:{x1:"15.41",y1:"6.51",x2:"8.59",y2:"10.49"},child:[]}]})(n)}function U8(n){return Ri({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"},child:[]}]})(n)}function V8(n){return Ri({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"},child:[]},{tag:"polyline",attr:{points:"17 6 23 6 23 12"},child:[]}]})(n)}const Gv=({icon:n,title:t,subtitle:e,hoverText:i,isHighlighted:r=!1,index:o})=>{const[l,u]=q.useState(!1);return m.jsx(lt.div,{className:`
        relative p-4 sm:p-6 rounded-2xl border-2 transition-all duration-300 hover:scale-105 cursor-pointer max-w-xs mx-auto w-full h-48
        ${r?"border-black bg-blue-50/50":"border-black bg-white hover:border-gray-800"}
      `,initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:o*.1,ease:"easeOut"},whileHover:{scale:1.05,boxShadow:"0 10px 25px rgba(0,0,0,0.1)"},onHoverStart:()=>u(!0),onHoverEnd:()=>u(!1),children:m.jsx("div",{className:"flex flex-col items-center text-center space-y-3 h-full justify-center",children:l?m.jsx(lt.div,{initial:{opacity:0},animate:{opacity:1},className:"text-gray-700 text-sm p-2",children:i}):m.jsxs(m.Fragment,{children:[m.jsx(lt.div,{className:"p-3 rounded-full bg-black",whileHover:{rotate:360},transition:{duration:.3},children:m.jsx(n,{className:"w-6 h-6 text-white"})}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-semibold text-gray-900 text-sm sm:text-base leading-tight",children:t}),e&&m.jsx("p",{className:"text-gray-600 text-xs sm:text-sm mt-1 leading-tight",children:e})]})]})})})},F8=()=>{const n=[{icon:P8,title:"Product Road Maps &",subtitle:"Scoping",hoverText:"Strategic planning and defining product vision, features, and timeline for successful development."},{icon:M8,title:"Web & Mobile App",subtitle:"Development",hoverText:"Full-stack development of responsive web applications and native/cross-platform mobile apps."},{icon:A8,title:"Cloud Deployment",subtitle:"& DevOps",hoverText:"Seamless deployment to cloud platforms with CI/CD pipelines and infrastructure automation."},{icon:R8,title:"Application Optimization",subtitle:"& AI Integration",hoverText:"Performance enhancement and integration of AI/ML capabilities into existing applications."}],t=[{icon:L8,title:"SEO for SaaS",subtitle:"& Digital Product",hoverText:"Comprehensive SEO strategies tailored specifically for SaaS products and digital offerings."},{icon:V8,title:"Performance Marketing",subtitle:"(PPC & Ads)",hoverText:"Data-driven paid advertising campaigns across search, social media, and display networks."},{icon:I8,title:"Email & Marketing",subtitle:"Automation",hoverText:"End-to-end email marketing solutions with automated workflows and personalized content."},{icon:O8,title:"Social media",subtitle:"Optimization",hoverText:"Strategic social media management, content planning, and community engagement."}],e=[{icon:N8,title:"Legal Documentation",subtitle:"& Briefs",hoverText:"Preparation of comprehensive legal documents, contracts, and project briefs."},{icon:C8,title:"Content Engineering",subtitle:"& Knowledge Base",hoverText:"Structured content development and knowledge management systems for better information architecture."},{icon:D8,title:"User Experience Design",subtitle:"(UI/UX) Designs",hoverText:"User-centered design approach creating intuitive interfaces and seamless user experiences."},{icon:U8,title:"Ongoing Product",subtitle:"Support",hoverText:"Continuous maintenance, updates, and technical support for your digital products."}],i={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:.6,ease:"easeOut"}}};return m.jsxs("div",{className:"relative min-h-screen py-12 px-4 sm:px-6 lg:px-8",children:[m.jsx("div",{className:"absolute bottom-20 left-0 w-80 h-80 bg-gradient-to-tr from-orange-400/30 via-orange-500/20 to-yellow-400/30 rounded-full blur-3xl opacity-60 pointer-events-none z-0"}),m.jsxs("div",{className:"max-w-7xl mx-auto relative z-10",children:[m.jsx(lt.div,{className:"text-center mb-16",initial:{opacity:0,y:-30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8,ease:"easeOut"},children:m.jsx("h1",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold text-gray-900 mb-4",children:"Let's get started on something great"})}),m.jsxs(lt.div,{className:"mb-16",variants:i,initial:"hidden",whileInView:"visible",viewport:{once:!0},children:[m.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 text-center mb-8",children:"Production Services"}),m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 max-w-5xl mx-auto",children:n.map((r,o)=>m.jsx(Gv,{icon:r.icon,title:r.title,subtitle:r.subtitle,hoverText:r.hoverText,index:o},o))})]}),m.jsxs(lt.div,{className:"mb-16",variants:i,initial:"hidden",whileInView:"visible",viewport:{once:!0},children:[m.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 text-center mb-8",children:"Growth & Marketing Services"}),m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 max-w-5xl mx-auto",children:t.map((r,o)=>m.jsx(Gv,{icon:r.icon,title:r.title,subtitle:r.subtitle,hoverText:r.hoverText,isHighlighted:r.isHighlighted,index:o},o))})]}),m.jsxs(lt.div,{variants:i,initial:"hidden",whileInView:"visible",viewport:{once:!0},children:[m.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 text-center mb-8",children:"Operations & Compliance"}),m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 max-w-5xl mx-auto",children:e.map((r,o)=>m.jsx(Gv,{icon:r.icon,title:r.title,subtitle:r.subtitle,hoverText:r.hoverText,index:o},o))})]})]})]})},B8=()=>m.jsxs("div",{className:"relative min-h-screen py-16 px-4 sm:px-6 lg:px-8 overflow-hidden",children:[m.jsx("div",{className:"absolute top-1/2 right-0 transform -translate-y-1/2 w-60 h-60 sm:w-80 sm:h-80 bg-gradient-to-bl from-orange-400/30 via-orange-500/20 to-yellow-400/30 rounded-full blur-3xl opacity-50 pointer-events-none z-0"}),m.jsx("div",{className:"absolute left-0 transform -translate-y-1/2 w-60 h-60 sm:w-80 sm:h-80 bg-gradient-to-bl from-orange-400/30 via-orange-500/20 to-yellow-400/30 rounded-full blur-3xl opacity-70 pointer-events-none z-0",style:{top:"90rem"}}),m.jsxs("div",{className:"max-w-7xl mx-auto relative z-10",children:[m.jsx(lt.div,{className:"text-center mb-8",initial:{opacity:0,y:-30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8,ease:"easeOut"},children:m.jsx("h1",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold text-gray-800 mb-4",children:"We Believe Progress depends on Process"})}),m.jsxs("div",{className:"relative px-2 sm:px-6 lg:px-16 xl:px-24",children:[m.jsxs("div",{className:"flex flex-col lg:flex-row items-center lg:items-start justify-between mb-16",children:[m.jsx("div",{className:"lg:w-1/2 mb-8 lg:mb-0"}),m.jsxs(lt.div,{className:"lg:w-1/2 lg:pl-8 xl:pl-16",initial:{x:100,opacity:0},whileInView:{x:0,opacity:1},viewport:{once:!0},transition:{duration:.8,ease:"easeOut"},children:[m.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center mb-6 gap-4",children:[m.jsx("h2",{className:"text-xl sm:text-2xl md:text-3xl lg:text-4xl font-bold text-gray-900",children:"Experience the Power of Process."}),m.jsx(lt.div,{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-gray-600 flex items-center justify-center flex-shrink-0",whileHover:{rotate:360},transition:{duration:.3},children:m.jsx(IR,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})})]}),m.jsx("p",{className:"text-sm sm:text-base lg:text-lg text-gray-600 leading-relaxed",children:"Instead of focusing just on the problem, we take the holistic approach so we can build a solution that works end to end."})]})]}),m.jsxs("div",{className:"relative",children:[m.jsxs("div",{className:"flex flex-col lg:flex-row items-center mb-16",children:[m.jsxs(lt.div,{className:"lg:w-1/3 relative",initial:{x:-100,opacity:0},whileInView:{x:0,opacity:1},viewport:{once:!0},transition:{duration:.8,ease:"easeOut"},children:[m.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-black rounded-full flex items-center justify-center z-10",children:m.jsx("span",{className:"text-white font-bold text-sm",children:"1"})}),m.jsx("div",{className:"bg-gray-800 rounded-2xl p-6 shadow-lg",children:m.jsx("div",{className:"flex items-center justify-center h-40",children:m.jsx("img",{src:"/flow.png",alt:"Discovery Flow",className:"w-full h-full object-contain"})})})]}),m.jsx(lt.div,{className:"lg:w-2/3 lg:pl-8 xl:pl-16 mb-8 lg:mb-0",initial:{x:100,opacity:0},whileInView:{x:0,opacity:1},viewport:{once:!0},transition:{duration:.8,ease:"easeOut",delay:.2},children:m.jsxs("div",{className:"text-left",children:[m.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-4",children:"Discover"}),m.jsx("p",{className:"text-sm sm:text-base text-gray-600 leading-relaxed max-w-md",children:"Every project starts with understanding the challenge and the landscape"})]})})]}),m.jsxs("div",{className:"flex flex-col lg:flex-row-reverse items-center mb-16",children:[m.jsxs(lt.div,{className:"lg:w-1/3 relative",initial:{x:100,opacity:0},whileInView:{x:0,opacity:1},viewport:{once:!0},transition:{duration:.8,ease:"easeOut"},children:[m.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-black rounded-full flex items-center justify-center z-10",children:m.jsx("span",{className:"text-white font-bold text-sm",children:"2"})}),m.jsx("div",{className:"bg-gray-800 rounded-2xl p-6 shadow-lg",children:m.jsx("div",{className:"flex items-center justify-center h-40 rounded-2xl overflow-hidden",children:m.jsx("img",{src:"/design.png",alt:"Design Process",className:"w-full h-full object-contain"})})})]}),m.jsx(lt.div,{className:"lg:w-2/3 lg:pr-8 xl:pr-16 mb-8 lg:mb-0",initial:{x:-100,opacity:0},whileInView:{x:0,opacity:1},viewport:{once:!0},transition:{duration:.8,ease:"easeOut",delay:.2},children:m.jsxs("div",{className:"text-left lg:text-right",children:[m.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-4",children:"Design"}),m.jsx("p",{className:"text-sm sm:text-base text-gray-600 leading-relaxed max-w-md lg:ml-auto",children:"allowing us to design a solution that meets your needs"})]})})]}),m.jsxs("div",{className:"flex flex-col lg:flex-row items-center mb-16",children:[m.jsxs(lt.div,{className:"lg:w-1/3 relative",initial:{x:-100,opacity:0},whileInView:{x:0,opacity:1},viewport:{once:!0},transition:{duration:.8,ease:"easeOut"},children:[m.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-black rounded-full flex items-center justify-center z-10",children:m.jsx("span",{className:"text-white font-bold text-sm",children:"3"})}),m.jsxs("div",{className:"bg-gray-800 rounded-2xl p-6 shadow-lg",children:[m.jsx("div",{className:"flex items-center mb-4",children:m.jsxs("div",{className:"flex space-x-2",children:[m.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),m.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),m.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"})]})}),m.jsxs("div",{className:"bg-gray-900 rounded-lg p-4 font-mono text-sm",children:[m.jsxs("div",{className:"text-blue-400 mb-2",children:["declare Object ","{"]}),m.jsx("div",{className:"text-green-400 pl-4 mb-1",children:'provider = "mutable"'}),m.jsx("div",{className:"text-yellow-400 pl-4 mb-1",children:'url = "postgresql://DATABASE_URL"'}),m.jsx("div",{className:"text-blue-400 mb-2",children:"}"}),m.jsxs("div",{className:"text-blue-400 mb-2",children:["generator Client ","{"]}),m.jsx("div",{className:"text-green-400 pl-4 mb-1",children:'provider = "prisma-client-js"'}),m.jsx("div",{className:"text-blue-400",children:"}"})]})]})]}),m.jsx(lt.div,{className:"lg:w-2/3 lg:pl-8 xl:pl-16 mb-8 lg:mb-0",initial:{x:100,opacity:0},whileInView:{x:0,opacity:1},viewport:{once:!0},transition:{duration:.8,ease:"easeOut",delay:.2},children:m.jsxs("div",{className:"text-left",children:[m.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-4",children:"Develop"}),m.jsx("p",{className:"text-sm sm:text-base text-gray-600 leading-relaxed max-w-md",children:"keeping development quality high and costs low"})]})})]}),m.jsxs("div",{className:"flex flex-col lg:flex-row-reverse items-center mb-16",children:[m.jsx(lt.div,{className:"lg:w-1/3",initial:{x:100,opacity:0},whileInView:{x:0,opacity:1},viewport:{once:!0},transition:{duration:.8,ease:"easeOut"},children:m.jsxs("div",{className:"bg-gray-800 rounded-2xl p-4 shadow-lg w-48 sm:w-56 md:w-64 mx-auto relative",children:[m.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-black rounded-full flex items-center justify-center z-10",children:m.jsx("span",{className:"text-white font-bold text-sm",children:"4"})}),m.jsx("div",{className:"flex items-center justify-center h-32 sm:h-40",children:m.jsx(o6,{className:"w-32 h-32 sm:w-40 sm:h-40 text-gray-400 stroke-1"})})]})}),m.jsx(lt.div,{className:"lg:w-2/3 lg:pr-8 xl:pr-16 mb-8 lg:mb-0",initial:{x:-100,opacity:0},whileInView:{x:0,opacity:1},viewport:{once:!0},transition:{duration:.8,ease:"easeOut",delay:.2},children:m.jsxs("div",{className:"text-left lg:text-right",children:[m.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-4",children:"Deliver"}),m.jsx("p",{className:"text-sm sm:text-base text-gray-600 leading-relaxed max-w-md lg:ml-auto",children:"resulting in a tailored solution that provides you value."})]})})]})]})]})]})]}),k8=()=>{const n=[{id:1,title:"Smart Scout",subtitle:"Mobile App",type:"mobile",description:"Smart Scout Mobile is a cross-platform Flutter application that empowers young athletes to build their sports portfolio on-the-go. Players can upload training videos, match highlights, and performance statistics directly from their mobile devices. The app provides seamless connectivity with the web platform, instant notifications for scout interest, and tools to track skill development over time. With its intuitive interface, athletes can maintain their sporting profile anytime, anywhere.",image:_R},{id:2,title:"Smart Scout",subtitle:"Web Application",type:"web",description:"Smart Scout Web is a comprehensive talent showcase platform built with React.js that provides young athletes with a professional space to display their skills, achievements, and sports portfolios. The platform enables scouts and coaches to discover emerging talent through advanced filtering, video highlights, performance metrics, and detailed player profiles. Our full-stack solution features secure authentication, real-time messaging, and a robust admin dashboard for managing recruitment processes.",image:bR},{id:3,title:"E-commerce",subtitle:"Web Application",type:"web",description:"Makhbu is a modern e-commerce website designed to provide a seamless online shopping experience. The platform features a clean and intuitive interface where users can browse products, add items to their cart, and securely complete purchases. It includes essential functionalities such as product search and filtering, category-based browsing, user authentication, and responsive design for both desktop and mobile devices. Makhbu was built with a focus on performance, scalability, and user-friendly navigation, making it a complete solution for online retail.",image:ER},{id:4,title:"E-commerce",subtitle:"Mobile App",type:"mobile",description:"This project is a fully functional mobile application developed in Kotlin, designed with a focus on performance, reliability, and a smooth user experience. The app features a modern UI built with Jetpack Compose, providing intuitive navigation and responsiveness across devices. It integrates essential mobile functionalities such as authentication, API connectivity, and real-time data handling, making it scalable and adaptable for different use cases. The project demonstrates strong expertise in Android development, clean architecture, and Kotlin best practices.",image:SR}],t={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2,delayChildren:.1}}},e={hidden:{opacity:0,y:50,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{duration:.6,ease:[.25,.46,.45,.94]}}},i={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:.8,ease:[.25,.46,.45,.94]}}},r={animate:{scale:[1,1.1,1],opacity:[.6,.8,.6],transition:{duration:4,repeat:1/0,ease:"easeInOut"}}};return m.jsxs("section",{id:"portfolio",className:"relative px-4 sm:px-6 md:px-12 lg:px-24 xl:px-32 overflow-hidden",children:[m.jsx(lt.div,{className:"absolute bottom-10 right-10 w-60 h-60 sm:w-80 sm:h-80 bg-gradient-to-tr from-orange-400/30 via-orange-500/20 to-yellow-400/30 rounded-full blur-3xl opacity-60 pointer-events-none z-0",variants:r,animate:"animate"}),m.jsx(lt.div,{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-72 h-72 sm:w-96 sm:h-96 bg-gradient-to-br from-orange-400/30 via-orange-500/20 to-yellow-400/30 rounded-full blur-[120px] opacity-60 pointer-events-none z-0",variants:r,animate:"animate",style:{animationDelay:"2s"}}),m.jsxs("div",{className:"max-w-7xl mx-auto relative z-10",children:[m.jsx(lt.div,{className:"flex flex-col lg:flex-row lg:justify-between lg:items-start mb-16",initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.3},variants:i,children:m.jsxs("div",{className:"lg:max-w-xl",children:[m.jsx(lt.p,{className:"text-sm font-medium text-orange-600 uppercase tracking-wider mb-2",initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.5},children:"OUR WORK"}),m.jsxs(lt.h2,{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl xl:text-6xl font-bold text-gray-900 mb-6",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.2},children:["Portfo",m.jsx(lt.span,{className:"inline-block bg-orange-700 text-white px-1 py-1 sm:px-2 sm:py-1 rounded-md transform -rotate-2",initial:{rotate:-2,scale:.8},whileInView:{rotate:-2,scale:1},viewport:{once:!0},transition:{duration:.5,delay:.4,type:"spring"},whileHover:{rotate:2,scale:1.05,transition:{duration:.2}},children:"lio"})]}),m.jsx(lt.p,{className:"text-sm sm:text-base italic lg:text-lg text-gray-600 leading-relaxed",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.4},children:'"At Falco Solutions LTD, we turn ideas into powerful digital products. Our portfolio reflects a diverse range of projects — from mobile apps to AI-powered platforms, blockchain solutions, and scalable SaaS applications. Each project is built with innovation, performance, and growth in mind, helping businesses launch, scale, and thrive in the digital era."'})]})}),m.jsx(lt.div,{className:"grid grid-cols-1 md:grid-cols-2 gap-6 sm:gap-8 lg:gap-12",initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.1},variants:t,children:n.map((o,l)=>m.jsxs(lt.div,{className:`group cursor-pointer ${l===0||l===3?"md:mt-0":"md:mt-16"}`,variants:e,whileHover:{scale:1.02,transition:{duration:.3}},whileTap:{scale:.98},children:[m.jsx(lt.div,{className:"mb-4",initial:{opacity:0,rotate:-45},whileInView:{opacity:1,rotate:0},viewport:{once:!0},transition:{duration:.5,delay:l*.1},children:m.jsx("img",{src:"/orange_curl.svg",alt:"Curl Icon",className:"w-6 h-6 sm:w-8 sm:h-8 text-gray-400"})}),m.jsxs(lt.div,{className:"mb-6",initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.5,delay:l*.1+.2},children:[m.jsx(lt.h3,{className:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900 mb-2 group-hover:text-gray-700 transition-colors duration-200",whileHover:{x:5},transition:{duration:.2},children:o.title}),m.jsx(lt.p,{className:"text-lg sm:text-xl text-gray-600",whileHover:{x:5},transition:{duration:.2,delay:.1},children:o.subtitle})]}),m.jsxs(lt.div,{className:`
                  relative aspect-[4/3] rounded-lg overflow-hidden group-hover:shadow-2xl transition-all duration-300 transform group-hover:-translate-y-2
                  ${o.type==="mobile"?"bg-black":"bg-gray-100"}
                `,initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:l*.1+.4},whileHover:{y:-8,boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",transition:{duration:.3}},children:[m.jsx("img",{src:o.image,alt:`${o.title} screenshot`,className:"w-full h-full object-center"}),o.type==="mobile"&&m.jsx("div",{className:"absolute inset-0 pointer-events-none",children:m.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-4/5 h-5/6 border-8 border-black rounded-3xl"})}),m.jsx(lt.div,{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-70 flex items-center justify-center p-6 transition-all duration-300",initial:{opacity:0},whileHover:{opacity:1},transition:{duration:.3},children:m.jsxs(lt.p,{className:"text-white italic text-center text-sm sm:text-base opacity-0 group-hover:opacity-100 transform translate-y-4 group-hover:translate-y-0 transition-all duration-300",children:['"',o.description,'"']})})]})]},o.id))})]})]})},j8=()=>{const[n,t]=q.useState(0),e=[{id:1,quote:"Minimal Disruptions and Smooth Transitioning",content:"Falco Solutions made our migration process seamless. Their team ensured minimal downtime and guided us through every step with clear communication.",author:"Saad Ali Ibtisam",position:"Project Manager ",avatar:"https://i.pravatar.cc/150?img=1",theme:"dark"},{id:2,quote:"Reliable and Professional",content:"Working with Falco Solutions has been a game-changer for our business. Their e-commerce platform improved our workflow and enhanced customer experience.",author:"Umer",position:"Small Business Owner",avatar:"https://i.pravatar.cc/150?img=2",theme:"dark"},{id:3,quote:"Outstanding Results and Professional Service",content:"The team delivered exceptional results that exceeded expectations. From design to deployment, everything was handled with professionalism.",author:"Abdul Rehman",position:"Freelance Entrepreneur",avatar:"https://i.pravatar.cc/150?img=3",theme:"dark"}],i=()=>{t(l=>(l+1)%e.length)},r=()=>{t(l=>(l-1+e.length)%e.length)},o=l=>{t(l)};return m.jsx("div",{className:"py-16 px-4 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"max-w-6xl mx-auto",children:[m.jsxs("div",{className:"text-center mb-16",children:[m.jsx("h1",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold text-gray-700 mb-6",children:"Don't Take Our Word For It"}),m.jsxs("div",{className:"flex items-center justify-center",children:[m.jsx("div",{className:"h-px bg-gray-400 w-24"}),m.jsx("h2",{className:"text-lg sm:text-xl text-gray-600 mx-6",children:"Here's What Our Clients Says"}),m.jsx("div",{className:"h-px bg-gray-400 w-24"})]})]}),m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"overflow-hidden",children:m.jsx("div",{className:"flex transition-transform duration-500 ease-in-out",style:{transform:`translateX(-${n*100}%)`},children:e.map(l=>m.jsx("div",{className:"w-full flex-shrink-0 px-4",children:m.jsx("div",{className:"flex justify-center",children:m.jsx("div",{className:"max-w-2xl",children:m.jsxs("div",{className:`
                            relative p-8 shadow-lg
                            rounded-tl-3xl
                            ${l.theme==="dark"?"bg-gray-900 text-white":"bg-gray-400 text-white"}
                        `,children:[m.jsx("div",{className:"absolute top-4 left-4 text-6xl font-serif opacity-20",children:'"'}),m.jsxs("div",{className:"relative z-10",children:[m.jsxs("h3",{className:"text-xl sm:text-2xl font-bold mb-6 mt-8",children:['"',l.quote,'"']}),m.jsx("p",{className:"text-sm sm:text-base leading-relaxed mb-8 opacity-90",children:l.content}),m.jsx("div",{className:"h-px bg-gray-500 mb-6"}),m.jsxs("div",{className:"flex items-center",children:[m.jsx("img",{src:l.avatar,alt:l.author,className:"w-16 h-16 rounded-full object-cover mr-4"}),m.jsxs("div",{children:[m.jsx("h4",{className:"font-bold text-lg",children:l.author}),m.jsx("p",{className:"text-sm opacity-80",children:l.position})]})]})]})]})})})},l.id))})}),m.jsx("button",{onClick:r,className:"absolute left-0 top-1/2 transform -translate-y-1/2 -translate-x-4 bg-white rounded-full p-3 shadow-lg hover:shadow-xl transition-shadow duration-300",children:m.jsx(wR,{className:"w-6 h-6 text-gray-600"})}),m.jsx("button",{onClick:i,className:"absolute right-0 top-1/2 transform -translate-y-1/2 translate-x-4 bg-white rounded-full p-3 shadow-lg hover:shadow-xl transition-shadow duration-300",children:m.jsx(AR,{className:"w-6 h-6 text-gray-600"})})]}),m.jsx("div",{className:"flex justify-center mt-12 space-x-2",children:e.map((l,u)=>m.jsx("button",{onClick:()=>o(u),className:`
                w-3 h-3 rounded-full transition-colors duration-300
                ${u===n?"bg-gray-600":"bg-gray-300 hover:bg-gray-400"}
              `},u))})]})})};function z8(){const[n,t]=q.useState({name:"",email:"",contact:"",query:""}),[e,i]=q.useState(!1),r=E=>{const{name:T,value:C}=E.target;t(S=>({...S,[T]:C}))},o=E=>{if(E.preventDefault(),i(!0),!n.name||!n.email||!n.query){Ge.error("Please fill in all required fields (Name, Email, and Query)"),i(!1);return}$m.send("service_4swfz4p","template_qdfkjit",{from_name:n.name,from_email:n.email,contact_number:n.contact,message:n.query,to_email:"talhaazfar4722@gmail.com"},"M_CTarJqjrkNvsez5").then(T=>{console.log("SUCCESS!",T.status,T.text),Ge.success("Message sent successfully! We will get back to you soon."),t({name:"",email:"",contact:"",query:""})}).catch(T=>{console.error("FAILED...",T),Ge.error("Failed to send message. Please try again later.")}).finally(()=>{i(!1)})},l={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},u={hidden:{opacity:0,y:30,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{duration:.6,ease:[.25,.46,.45,.94]}}},d={hidden:{opacity:0,y:50},visible:{opacity:1,y:0,transition:{duration:.8,ease:[.25,.46,.45,.94]}}},f={hidden:{opacity:0,x:-50},visible:{opacity:1,x:0,transition:{duration:.7,ease:[.25,.46,.45,.94]}}},g={hidden:{opacity:0,x:50,scale:.8},visible:{opacity:1,x:0,scale:1,transition:{duration:.8,ease:[.25,.46,.45,.94]}}},y={y:[-10,10,-10],transition:{duration:3,repeat:1/0,ease:"easeInOut"}},x={scale:[1,1.05,1],opacity:[.6,.8,.6],transition:{duration:2,repeat:1/0,ease:"easeInOut"}};return m.jsxs("div",{className:"relative min-h-screen py-12 px-4 sm:px-6 lg:px-8 overflow-hidden",children:[m.jsx(R_,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),m.jsx(lt.div,{className:"absolute left-0 transform -translate-y-1/2 w-80 h-80 bg-gradient-to-bl from-orange-400/30 via-orange-500/20 to-yellow-400/30 rounded-full blur-3xl opacity-70 pointer-events-none z-0",style:{top:"20rem"},animate:x}),m.jsxs("div",{className:"max-w-7xl mx-auto",children:[m.jsxs(lt.div,{className:"text-center mb-16",initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.3},variants:d,children:[m.jsx(lt.h1,{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-gray-900 mb-6",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},children:"If you've made it this far down the page,"}),m.jsx(lt.p,{className:"text-lg md:text-xl text-gray-600 max-w-3xl mx-auto",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8,delay:.2},children:"We'd love to hear about your project, reach out to us for a no-obligation call."})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 lg:gap-20 items-center mb-20",children:[m.jsx(lt.div,{className:"order-2 lg:order-1",initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.3},variants:f,children:m.jsxs(lt.div,{className:"space-y-6",variants:l,children:[m.jsxs(lt.div,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",variants:u,children:[m.jsx(lt.input,{type:"text",name:"name",placeholder:"Name*",value:n.name,onChange:r,className:"w-full px-6 py-4 bg-white border border-gray-200 rounded-lg text-gray-700 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-gray-300 focus:border-transparent transition-all duration-300",whileFocus:{scale:1.02,boxShadow:"0 8px 25px -8px rgba(0, 0, 0, 0.1)"},transition:{duration:.2}}),m.jsx(lt.input,{type:"email",name:"email",placeholder:"Email*",value:n.email,onChange:r,className:"w-full px-6 py-4 bg-white border border-gray-200 rounded-lg text-gray-700 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-gray-300 focus:border-transparent transition-all duration-300",whileFocus:{scale:1.02,boxShadow:"0 8px 25px -8px rgba(0, 0, 0, 0.1)"},transition:{duration:.2}})]}),m.jsx(lt.input,{type:"tel",name:"contact",placeholder:"Contact Number",value:n.contact,onChange:r,className:"w-full px-6 py-4 bg-white border border-gray-200 rounded-lg text-gray-700 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-gray-300 focus:border-transparent transition-all duration-300",variants:u,whileFocus:{scale:1.02,boxShadow:"0 8px 25px -8px rgba(0, 0, 0, 0.1)"},transition:{duration:.2}}),m.jsx(lt.textarea,{name:"query",placeholder:"Query*",value:n.query,onChange:r,rows:6,className:"w-full px-6 py-4 bg-white border border-gray-200 rounded-lg text-gray-700 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-gray-300 focus:border-transparent transition-all duration-300 resize-none",variants:u,whileFocus:{scale:1.02,boxShadow:"0 8px 25px -8px rgba(0, 0, 0, 0.1)"},transition:{duration:.2}}),m.jsx(lt.button,{onClick:o,disabled:e,className:"w-full md:w-auto px-8 py-4 bg-gray-900 text-white rounded-lg font-semibold hover:bg-gray-800 transition-all duration-300 shadow-lg hover:shadow-xl disabled:opacity-70 disabled:cursor-not-allowed",variants:u,whileHover:{scale:e?1:1.05,boxShadow:e?"0 8px 25px -8px rgba(0, 0, 0, 0.1)":"0 10px 30px -10px rgba(0, 0, 0, 0.3)"},whileTap:{scale:.95},transition:{duration:.2},children:e?"Sending...":"Send Us"})]})}),m.jsx(lt.div,{className:"order-1 lg:order-2 flex justify-center lg:justify-end overflow-hidden",initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.3},variants:g,children:m.jsxs(lt.div,{className:"relative mx-8",animate:y,children:[m.jsx(lt.div,{className:"w-80 h-80 md:w-96 md:h-96 lg:w-[450px] lg:h-[450px] bg-gradient-to-br from-gray-200 to-gray-300 rounded-full opacity-60 flex items-center justify-center",initial:{scale:.8,opacity:0},whileInView:{scale:1,opacity:.6},viewport:{once:!0},transition:{duration:.8,delay:.2},whileHover:{scale:1.05},children:m.jsx(lt.div,{className:"w-48 h-48 md:w-60 md:h-60 lg:w-72 lg:h-72 bg-gradient-to-br from-gray-300 to-gray-400 rounded-full opacity-80 flex items-center justify-center",initial:{scale:.8,opacity:0},whileInView:{scale:1,opacity:.8},viewport:{once:!0},transition:{duration:.8,delay:.4},whileHover:{scale:1.1},children:m.jsx(lt.div,{className:"w-16 h-16 md:w-20 md:h-20 lg:w-24 lg:h-24 bg-gray-500 rounded-full opacity-60",initial:{scale:.8,opacity:0},whileInView:{scale:1,opacity:.6},viewport:{once:!0},transition:{duration:.8,delay:.6},animate:{scale:[1,1.1,1],transition:{duration:2,repeat:1/0,ease:"easeInOut"}}})})}),m.jsx(lt.div,{className:"absolute -top-8 -right-8 w-16 h-16 bg-gradient-to-br from-gray-300 to-gray-400 rounded-full opacity-40",initial:{scale:0,opacity:0},whileInView:{scale:1,opacity:.4},viewport:{once:!0},transition:{duration:.6,delay:.8},animate:{y:[-5,5,-5],transition:{duration:2.5,repeat:1/0,ease:"easeInOut"}}}),m.jsx(lt.div,{className:"absolute -bottom-6 -left-6 w-12 h-12 bg-gradient-to-br from-gray-300 to-gray-400 rounded-full opacity-40",initial:{scale:0,opacity:0},whileInView:{scale:1,opacity:.4},viewport:{once:!0},transition:{duration:.6,delay:1},animate:{y:[5,-5,5],transition:{duration:2,repeat:1/0,ease:"easeInOut"}}})]})})]})]})]})}function H8(){return m.jsxs("div",{children:[m.jsx(fl,{}),m.jsx(m5,{}),m.jsx(p5,{}),m.jsx(w8,{}),m.jsx(F8,{}),m.jsx(B8,{}),m.jsx(k8,{}),m.jsx(j8,{}),m.jsx(z8,{}),m.jsx(dl,{})]})}const G8=()=>{const n={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2,delayChildren:.1}}},t={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:.6,ease:"easeOut"}}},e={hidden:{opacity:0,scale:.8},visible:{opacity:1,scale:1,transition:{duration:.8,ease:"easeOut"}}},i={hidden:{opacity:0,scale:.9},visible:{opacity:1,scale:1,transition:{duration:.5,ease:"easeOut"}},hover:{scale:1.05,transition:{duration:.2}},tap:{scale:.95}},r={hidden:{opacity:0,scale:.8},visible:{opacity:.6,scale:1,transition:{duration:1.5,ease:"easeOut"}}},o=_p(),l=()=>{o("/#work")};return m.jsxs("div",{children:[m.jsxs("div",{className:"relative bg-white px-4 py-64 sm:py-30 md:py-20 overflow-hidden",children:[m.jsx(lt.div,{className:"absolute left-0 w-80 h-80 bg-gradient-to-tr from-violet-400/30 via-purple-500/20 to-purple-400/30 rounded-full blur-3xl pointer-events-none z-0",variants:r,initial:"hidden",animate:"visible"}),m.jsx("div",{className:"max-w-7xl mx-auto",children:m.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 lg:gap-12 items-center",children:[m.jsxs(lt.div,{className:"space-y-6 lg:space-y-8",variants:n,initial:"hidden",animate:"visible",children:[m.jsxs(lt.h1,{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-gray-900 leading-tight",variants:t,children:["Build, Launch & Grow with "," ",m.jsx("span",{className:"text-purple-600",children:"Falco Solutions"})]}),m.jsx(lt.p,{className:"text-lg md:text-xl text-gray-600 leading-relaxed max-w-xl",variants:t,children:"UK-based team building websites, mobile apps & SaaS with AI, data analytics, blockchain and SEO - from research to launch and growth."}),m.jsxs(lt.div,{className:"flex flex-col sm:flex-row justify-center gap-5 md:justify-start",variants:t,children:[m.jsx(lt.a,{href:"/contact",target:"_blank",rel:"noopener noreferrer",className:"bg-gray-800 hover:bg-gray-900 text-white px-8 py-4 rounded-lg font-semibold text-lg transition-colors duration-200 shadow-lg hover:shadow-xl",variants:i,whileHover:"hover",whileTap:"tap",children:"Get a free strategy call"}),m.jsx(lt.button,{onClick:l,className:"border-2 border-purple-600 hover:bg-gray-900 hover:text-white text-gray-800 px-8 py-4 rounded-lg font-semibold text-lg transition-colors duration-200 shadow-lg hover:shadow-xl",variants:i,whileHover:"hover",whileTap:"tap",children:"See our work"})]})]}),m.jsx(lt.div,{className:"flex justify-center lg:justify-end",variants:e,initial:"hidden",animate:"visible",children:m.jsx("div",{className:"relative",children:m.jsx(lt.img,{src:"man_working.png",alt:"Man working at desk with laptop",className:"w-full max-w-md lg:max-w-lg xl:max-w-xl h-auto object-contain",whileHover:{scale:1.02,transition:{duration:.3}}})})})]})})]}),m.jsx("div",{className:"bg-white py-8 md:py-12 bg-gray-200",children:m.jsx("div",{className:"max-w-7xl mx-auto px-4",children:m.jsxs("div",{className:"grid md:grid-cols-3 gap-8 md:gap-12",children:[m.jsxs("div",{className:"text-center md:text-left space-y-4",children:[m.jsx("div",{className:"flex justify-center md:justify-start",children:m.jsx("div",{className:"w-12 h-12 bg-white rounded-full flex items-center justify-center shadow-md",children:m.jsx(BV,{className:"w-6 h-6 text-gray-700"})})}),m.jsx("h3",{className:"text-xl md:text-2xl font-bold text-gray-900",children:"Boost Conversions"}),m.jsx("p",{className:"text-gray-600 leading-relaxed",children:"High-performing funnels, SEO and speed optimisations that turn visitors into customers."})]}),m.jsxs("div",{className:"text-center md:text-left space-y-4",children:[m.jsx("div",{className:"flex justify-center md:justify-start",children:m.jsx("div",{className:"w-12 h-12 bg-white rounded-full flex items-center justify-center shadow-md",children:m.jsx(f6,{className:"w-6 h-6 text-gray-700"})})}),m.jsx("h3",{className:"text-xl md:text-2xl font-bold text-gray-900",children:"Engage Your Audience"}),m.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Clean UI, intuitive flows and fast load times—built with React, Next.js and Flutter."})]}),m.jsxs("div",{className:"text-center md:text-left space-y-4",children:[m.jsx("div",{className:"flex justify-center md:justify-start",children:m.jsx("div",{className:"w-12 h-12 bg-white rounded-full flex items-center justify-center shadow-md",children:m.jsx(RR,{className:"w-6 h-6 text-gray-700"})})}),m.jsx("h3",{className:"text-xl md:text-2xl font-bold text-gray-900",children:"Stay Ahead"}),m.jsx("p",{className:"text-gray-600 leading-relaxed",children:"AI features, analytics and A/B testing that reveal opportunities and keep you ahead of competitors."})]})]})})})]})},W8=()=>m.jsxs("div",{className:"relative bg-white py-12 md:py-16 lg:py-20",children:[m.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:m.jsx("div",{className:"w-24 h-24 sm:w-[10rem] sm:h-[10rem] md:w-[15rem] md:h-[15rem] lg:w-[20rem] lg:h-[20rem] rounded-full bg-gradient-to-br from-orange-400/15 via-orange-500/20 to-yellow-600/10 blur-3xl"})}),m.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[m.jsxs("div",{className:"mb-8 md:mb-12",children:[m.jsx("p",{className:"text-orange-500 text-sm md:text-base font-semibold tracking-wider uppercase mb-2",children:"OUR STORY"}),m.jsxs("h2",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-gray-900",children:["About ",m.jsx("span",{className:"bg-orange-300 px-3 py-1 rounded-2xl",children:"us"})]})]}),m.jsxs("div",{className:"space-y-12 md:space-y-16",children:[m.jsxs("div",{className:"grid lg:grid-cols-2 gap-6 lg:gap-8 items-start",children:[m.jsx("div",{children:m.jsx("h3",{className:"text-xl md:text-2xl lg:text-3xl font-bold text-orange-500",children:"Who Are We?"})}),m.jsx("div",{children:m.jsxs("div",{className:"flex items-start space-x-3",children:[m.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full mt-3 flex-shrink-0"}),m.jsx("p",{className:"text-gray-700 text-base md:text-lg leading-relaxed",children:"Falco Solutions LTD is a UK-based team of designers, engineers and data specialists. We ship reliable, secure software with clear communication and fast iteration."})]})})]}),m.jsxs("div",{className:"grid lg:grid-cols-2 gap-6 lg:gap-8 items-start",children:[m.jsx("div",{children:m.jsx("h3",{className:"text-xl md:text-2xl lg:text-3xl font-bold text-gray-400",children:"What We Do?"})}),m.jsx("div",{children:m.jsxs("div",{className:"flex items-start space-x-3",children:[m.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full mt-3 flex-shrink-0"}),m.jsx("p",{className:"text-gray-700 text-base md:text-lg leading-relaxed",children:"Discovery → Strategy → Design → Development → Launch → Optimise. We learn your market and users, then deliver scalable solutions with transparent timelines and costs."})]})})]})]})]})]}),q8=()=>{const n={hidden:{opacity:0,x:-100},visible:{opacity:1,x:0,transition:{duration:.8,ease:"easeOut",staggerChildren:.2}}},t={hidden:{opacity:0,x:100},visible:{opacity:1,x:0,transition:{duration:.8,ease:"easeOut",delay:.2}}},e={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.6,ease:"easeOut"}}};return m.jsxs("div",{className:"relative py-12 md:py-16 lg:py-20",children:[m.jsx(lt.div,{className:"absolute bottom-20 left-0 w-80 h-80 bg-gradient-to-tr from-orange-400/30 via-orange-500/20 to-yellow-400/30 rounded-full blur-3xl opacity-60 pointer-events-none z-0",animate:{scale:[1,1.1,1],opacity:[.6,.8,.6]},transition:{duration:5,repeat:1/0,ease:"easeInOut"}}),m.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 lg:gap-12 xl:gap-16 items-center",children:[m.jsxs(lt.div,{className:"lg:pr-8",variants:n,initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.3},children:[m.jsx(lt.h2,{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-gray-900 mb-6 md:mb-3",variants:e,children:"Why Choose Falco Solutions?"}),m.jsx(lt.p,{className:"text-gray-700 text-base md:text-lg leading-relaxed mb-3",variants:e,children:"We combine product thinking with senior engineering to deliver measurable results."}),m.jsxs(lt.ul,{className:"text-gray-700 text-base md:text-lg mb-8 md:mb-3 space-y-2",variants:e,children:[m.jsxs(lt.li,{className:"flex items-start",variants:e,children:[m.jsx("span",{className:"text-orange-500 mr-2 mt-1",children:"•"}),m.jsxs("span",{children:[m.jsx("strong",{children:"End-to-end delivery:"})," research, design, web & mobile dev, AI, blockchain, SEO."]})]}),m.jsxs(lt.li,{className:"flex items-start",variants:e,children:[m.jsx("span",{className:"text-orange-500 mr-2 mt-1",children:"•"}),m.jsxs("span",{children:[m.jsx("strong",{children:"Conversion-first:"})," analytics and experimentation drive decisions."]})]}),m.jsxs(lt.li,{className:"flex items-start",variants:e,children:[m.jsx("span",{className:"text-orange-500 mr-2 mt-1",children:"•"}),m.jsxs("span",{children:[m.jsx("strong",{children:"Modern stack:"})," React/Next.js, Node/Python, Flutter, Solidity/Web3, AWS/Azure/GCP."]})]}),m.jsxs(lt.li,{className:"flex items-start",variants:e,children:[m.jsx("span",{className:"text-orange-500 mr-2 mt-1",children:"•"}),m.jsxs("span",{children:[m.jsx("strong",{children:"Security & scale:"})," code reviews, testing, CI/CD and cloud best practice."]})]}),m.jsxs(lt.li,{className:"flex items-start",variants:e,children:[m.jsx("span",{className:"text-orange-500 mr-2 mt-1",children:"•"}),m.jsxs("span",{children:[m.jsx("strong",{children:"Post-launch growth:"})," monitoring, A/B testing and continuous SEO."]})]})]}),m.jsx(lt.div,{className:"flex justify-center md:justify-start",variants:e,children:m.jsx(lt.button,{className:"bg-gray-900 text-white px-6 py-3 md:px-8 md:py-4 rounded-lg font-semibold text-sm md:text-base hover:bg-gray-800 transition-colors duration-200",whileHover:{scale:1.05,boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)"},whileTap:{scale:.95},transition:{duration:.2},children:"LEARN MORE"})})]}),m.jsx(lt.div,{className:"flex justify-center lg:justify-end",variants:t,initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.3},children:m.jsx("div",{className:"max-w-full",children:m.jsx(lt.img,{src:"graphic.png",alt:"Falco Solutions team working on web development projects",className:"w-full h-auto max-w-lg lg:max-w-full",whileHover:{scale:1.02,transition:{duration:.3}}})})})]})})]})},X8="/assets/ceo-DXU56pYO.jpg",Y8=()=>m.jsxs("div",{className:"relative bg-white py-12 md:py-16 lg:py-20",children:[m.jsx("div",{className:"absolute top-20 right-0 w-80 h-80 bg-gradient-to-tr from-orange-400/30 via-orange-500/20 to-yellow-400/30 rounded-full blur-3xl opacity-60 pointer-events-none z-0"}),m.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 lg:gap-12 xl:gap-16 items-center",children:[m.jsxs("div",{className:"lg:pr-8",children:[m.jsxs("h2",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-gray-900 mb-8 md:mb-12 leading-tight",children:["We are a ",m.jsx("span",{className:"text-orange-400",children:"group of experts"})," looking to help companies leverage technology to do more than they had ever thought possible."]}),m.jsx("div",{className:"mb-8 md:mb-12",children:m.jsx("img",{src:"https://images.unsplash.com/photo-1522071820081-009f0129c71c?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80",alt:"Team of experts working together in a modern office environment",className:"w-full h-64 md:h-80 object-cover rounded-lg shadow-lg"})})]}),m.jsx("div",{className:"lg:pl-8",children:m.jsxs("div",{className:"flex flex-col sm:flex-row lg:flex-col items-start sm:items-center lg:items-start gap-4 sm:gap-6 lg:gap-6",children:[m.jsx("div",{className:"flex-shrink-0",children:m.jsx("img",{src:X8,alt:"Abdul Moiz, CEO of Falco Solutions",className:"w-24 h-24 sm:w-32 sm:h-32 lg:w-40 lg:h-40 object-cover rounded-2xl shadow-lg"})}),m.jsxs("div",{className:"flex-1 lg:w-full",children:[m.jsxs("div",{className:"space-y-3 sm:space-y-4 lg:space-y-6 mb-4 sm:mb-6 lg:mb-8",children:[m.jsx("p",{className:"text-gray-700 text-base md:text-lg leading-relaxed",children:"We always focus on technical excellence"}),m.jsx("p",{className:"text-gray-700 text-base md:text-lg leading-relaxed",children:"Wherever you're going, we bring ideas and excitement"}),m.jsx("p",{className:"text-gray-700 text-base md:text-lg leading-relaxed",children:"We're consultants, guides, and partners for brands"})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-xl md:text-2xl font-bold text-gray-900 mb-1",children:"Abdul Moiz"}),m.jsx("p",{className:"text-gray-600 text-base md:text-lg",children:"CEO, Falco Solutions"})]})]})]})})]})})]}),K8=()=>{const n=["https://i.pravatar.cc/150?img=5","https://i.pravatar.cc/150?img=32","https://i.pravatar.cc/150?img=47","https://i.pravatar.cc/150?img=68","https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=150&h=150&fit=crop&crop=face","https://images.unsplash.com/photo-1607746882042-944635dfe10e?w=150&h=150&fit=crop&crop=face"],t={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2,delayChildren:.1}}},e={hidden:{opacity:0,y:30,scale:.9},visible:{opacity:1,y:0,scale:1,transition:{duration:.6,ease:"easeOut"}}},i={hidden:{opacity:0,scale:.8,y:20},visible:{opacity:1,scale:1,y:0,transition:{duration:.5,ease:"easeOut"}}},r={hidden:{opacity:0,scale:.5,y:20},visible:{opacity:1,scale:1,y:0,transition:{duration:.4,ease:"easeOut"}}},o={hidden:{opacity:0,scale:.7,rotate:-10},visible:{opacity:1,scale:1,rotate:0,transition:{duration:.6,ease:"easeOut"}}};return m.jsxs("div",{className:"min-h-screen p-4 lg:p-8 overflow-hidden",children:[m.jsx(lt.div,{className:"max-w-7xl mx-auto h-[calc(100vh-2rem)] lg:h-[calc(100vh-4rem)] bg-white rounded-2xl overflow-hidden shadow-2xl",variants:i,initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.3},children:m.jsxs("div",{className:"h-full flex flex-col lg:flex-row",children:[m.jsx(lt.div,{className:"relative flex-1 bg-gray-800 flex items-center justify-center lg:rounded-br-[100px] overflow-hidden",variants:t,initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.3},children:m.jsxs("div",{className:"relative z-10 text-center px-2 lg:px-16 max-w-2xl",children:[m.jsx(lt.div,{className:"mb-8 flex justify-center",variants:e,children:m.jsx(lt.div,{className:"w-16 h-16 lg:w-20 lg:h-20 bg-blue-500 rounded-full flex items-center justify-center shadow-lg",variants:o,whileHover:{scale:1.1,rotate:5,transition:{duration:.2}},children:m.jsx("svg",{className:"w-8 h-8 lg:w-10 lg:h-10 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{d:"M14.017 21v-7.391c0-5.704 3.731-9.57 8.983-10.609l.995 2.151c-2.432.917-3.995 3.638-3.995 5.849h4v10h-9.983zm-14.017 0v-7.391c0-5.704 3.748-9.57 9-10.609l.996 2.151c-2.433.917-3.996 3.638-3.996 5.849h4v-10h-10z"})})})}),m.jsx(lt.h1,{className:"text-4xl lg:text-5xl xl:text-6xl font-bold text-white mb-8 lg:mb-12 leading-tight",variants:e,children:"What Our Customers Say"}),m.jsx(lt.div,{className:"flex justify-center",variants:e,children:m.jsx(lt.div,{className:"w-16 h-16 lg:w-20 lg:h-20 bg-blue-500 rounded-full flex items-center justify-center shadow-lg",variants:o,whileHover:{scale:1.1,rotate:-5,transition:{duration:.2}},children:m.jsx("svg",{className:"w-8 h-8 lg:w-10 lg:h-10 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{d:"M9.983 3v7.391c0 5.704-3.731 9.57-8.983 10.609l-.995-2.151c2.432-.917 3.995-3.638 3.995-5.849h-4v-10h9.983zm14.017 0v7.391c0 5.704-3.748 9.57-9 10.609l-.996-2.151c2.433-.917 3.996-3.638 3.996-5.849h4v-10h10z"})})})})]})}),m.jsxs(lt.div,{className:"flex-1 bg-gray-50 flex flex-col justify-center px-8 lg:px-16 py-8 lg:py-0",variants:t,initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.3},children:[m.jsxs("div",{className:"mb-12 lg:mb-16",children:[m.jsx(lt.h2,{className:"text-3xl lg:text-4xl xl:text-5xl font-bold text-gray-900 mb-6 lg:mb-8 leading-tight",variants:e,children:"Helping Businesses Grow Faster"}),m.jsx(lt.p,{className:"text-gray-600 text-lg lg:text-xl leading-relaxed max-w-xl",variants:e,children:"“Falco Solutions transformed our online store with a sleek design and smoother checkout process. Sales improved within weeks, and customer feedback has been amazing. We finally feel confident in scaling our business.”"})]}),m.jsxs(lt.div,{className:"space-y-6 lg:space-y-8",variants:t,children:[m.jsx(lt.div,{className:"flex items-center justify-center lg:justify-start space-x-4 lg:space-x-6",variants:e,children:n.map((l,u)=>m.jsx(lt.div,{className:"flex-shrink-0 w-16 h-16 lg:w-20 lg:h-20 rounded-full overflow-hidden border-4 border-white shadow-lg",variants:r,whileHover:{scale:1.1,y:-5,transition:{duration:.2}},transition:{delay:u*.1,duration:.4},children:m.jsx("img",{src:l,alt:`Customer ${u+1}`,className:"w-full h-full object-cover"})},u))}),m.jsxs(lt.div,{className:"text-center lg:text-left",variants:e,children:[m.jsx(lt.h3,{className:"font-bold text-gray-900 text-xl lg:text-2xl mb-2",whileHover:{scale:1.02},transition:{duration:.2},children:"Sarthak Ranjan Hota"}),m.jsx("p",{className:"text-gray-600 text-lg",children:"UI/UX Designer at Byecom"})]})]})]})]})}),m.jsx("style",{jsx:!0,children:`
        @media (max-width: 1023px) {
          .lg\\:rounded-br-\\[100px\\] {
            border-bottom-left-radius: 0;
            border-bottom-right-radius: 100px;
          }
        }
      `})]})};function $8(){return m.jsxs("div",{children:[m.jsx(fl,{}),m.jsx(G8,{}),m.jsx(W8,{}),m.jsx(q8,{}),m.jsx(Y8,{}),m.jsx(K8,{}),m.jsx(dl,{})]})}const Q8=()=>{const[n,t]=q.useState({name:"",email:"",phone:"",message:""}),[e,i]=q.useState(!1),r=l=>{t({...n,[l.target.name]:l.target.value})},o=l=>{if(l.preventDefault(),i(!0),!n.name||!n.email||!n.message){Ge.error("Please fill in all required fields (Name, Email, and Message)"),i(!1);return}$m.send("service_4swfz4p","template_qdfkjit",{from_name:n.name,from_email:n.email,phone:n.phone,message:n.message,to_email:"talhaazfar4722@gmail.com"},"M_CTarJqjrkNvsez5").then(u=>{console.log("SUCCESS!",u.status,u.text),Ge.success("Message sent successfully! We will get back to you soon."),t({name:"",email:"",phone:"",message:""})}).catch(u=>{console.error("FAILED...",u),Ge.error("Failed to send message. Please try again later.")}).finally(()=>{i(!1)})};return m.jsxs(m.Fragment,{children:[m.jsx(R_,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),m.jsx("style",{children:`
        @keyframes fadeIn {
          from { opacity: 0; transform: translateY(20px); }
          to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes slideUp {
          from { opacity: 0; transform: translateY(40px); }
          to { opacity: 1; transform: translateY(0); }
        }
        
        .animate-fade-in {
          animation: fadeIn 0.8s ease-out forwards;
          animation-delay: 0.2s;
        }
        
        .animate-fade-in-delay {
          animation: fadeIn 0.8s ease-out forwards;
          animation-delay: 0.4s;
        }
        
        .animate-slide-up {
          animation: slideUp 0.8s ease-out forwards;
          animation-delay: 0.6s;
        }
        
        .animate-slide-up-delay {
          animation: slideUp 0.8s ease-out forwards;
          animation-delay: 0.8s;
        }
      `}),m.jsxs("div",{className:"min-h-screen py-4 sm:py-6 md:py-8 lg:py-12 px-4 sm:px-6 lg:px-8 overflow-hidden relative",children:[m.jsx("div",{className:"absolute left-0 top-20 w-80 h-80 bg-gradient-to-tr from-violet-400/30 via-purple-500/20 to-purple-400/30 rounded-full blur-3xl pointer-events-none z-0 opacity-60"}),m.jsx("div",{className:"absolute right-0 top-40 w-80 h-80 bg-gradient-to-tr from-violet-400/30 via-purple-500/20 to-purple-400/30 rounded-full blur-3xl pointer-events-none z-0 opacity-60"}),m.jsx("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-80 h-80 bg-gradient-to-tr from-orange-400/30 via-yellow-300/20 to-yellow-400/30 rounded-full blur-3xl pointer-events-none z-0 opacity-60"}),m.jsxs("div",{className:"max-w-7xl mx-auto relative z-10",children:[m.jsxs("div",{className:"text-left mt-8 sm:mt-12 md:mt-16 lg:mt-20 mb-8 sm:mb-10 md:mb-12 lg:mb-16",children:[m.jsx("h1",{className:"text-2xl sm:text-3xl font-light text-gray-800 mb-2 sm:mb-3 md:mb-4 opacity-0 animate-fade-in",children:"Contact Us"}),m.jsx("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-light text-gray-900 opacity-0 animate-fade-in-delay",children:"Get in Touch with Us"})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 sm:gap-8 md:gap-10 lg:gap-12 xl:gap-16",children:[m.jsxs("div",{className:"space-y-6 sm:space-y-8 md:space-y-10 opacity-0 animate-slide-up",children:[m.jsx("div",{className:"prose prose-gray max-w-none",children:m.jsx("p",{className:"text-gray-700 text-base sm:text-lg leading-relaxed",children:"Contact Falco Solutions today and let's start creating your digital success story. Our team is ready to assist you with web design and development services. Whether you have a project in mind or simply want to explore how we can help your business thrive online, we're here for you. With our expertise and commitment to excellence, we'll bring your vision to life and deliver outstanding results. Reach out to us now and let's discuss your next steps towards a pixel-perfect digital solution."})}),m.jsxs("div",{className:"space-y-4 sm:space-y-6 md:space-y-8",children:[m.jsxs("div",{className:"flex items-start space-x-4 transition-transform duration-200 hover:translate-x-1",children:[m.jsx("div",{className:"flex-shrink-0 w-12 h-12 sm:w-16 sm:h-16 bg-gray-800 rounded-lg flex items-center justify-center transition-transform duration-200 hover:scale-110",children:m.jsx(DR,{className:"w-6 h-6 sm:w-8 sm:h-8 text-white"})}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-xl sm:text-2xl font-semibold text-gray-900 mb-2",children:"Phone Number"}),m.jsx("div",{className:"space-y-1",children:m.jsx("a",{href:"tel:+447300846252",className:"text-blue-500 underline text-base sm:text-lg hover:text-blue-600",children:"+44 7300 846252"})})]})]}),m.jsxs("div",{className:"flex items-start space-x-4 transition-transform duration-200 hover:translate-x-1",children:[m.jsx("div",{className:"flex-shrink-0 w-12 h-12 sm:w-16 sm:h-16 bg-gray-800 rounded-lg flex items-center justify-center transition-transform duration-200 hover:scale-110",children:m.jsx(NR,{className:"w-6 h-6 sm:w-8 sm:h-8 text-white"})}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-xl sm:text-2xl font-semibold text-gray-900 mb-2",children:"Email Address"}),m.jsx("a",{href:"mailto:admin@falcosolutionsltd.co.uk",className:"text-blue-500 underline  text-base sm:text-lg hover:text-blue-600",children:"admin@falcosolutionsltd.co.uk"})]})]})]})]}),m.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-4 sm:p-6 md:p-8 transition-all duration-300 hover:-translate-y-1 hover:shadow-2xl opacity-0 animate-slide-up-delay",children:m.jsxs("form",{onSubmit:o,className:"space-y-4 sm:space-y-6 md:space-y-8",children:[m.jsx("div",{children:m.jsx("input",{type:"text",name:"name",value:n.name,onChange:r,placeholder:"Your Name *",className:"w-full px-4 py-3 sm:py-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-500 focus:border-transparent outline-none text-gray-900 placeholder-gray-500 text-base sm:text-lg transition-all duration-200 focus:scale-105",required:!0})}),m.jsx("div",{children:m.jsx("input",{type:"email",name:"email",value:n.email,onChange:r,placeholder:"Your Email *",className:"w-full px-4 py-3 sm:py-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-500 focus:border-transparent outline-none text-gray-900 placeholder-gray-500 text-base sm:text-lg transition-all duration-200 focus:scale-105",required:!0})}),m.jsx("div",{children:m.jsx("input",{type:"tel",name:"phone",value:n.phone,onChange:r,placeholder:"Your Phone number",className:"w-full px-4 py-3 sm:py-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-500 focus:border-transparent outline-none text-gray-900 placeholder-gray-500 text-base sm:text-lg transition-all duration-200 focus:scale-105"})}),m.jsx("div",{children:m.jsx("textarea",{name:"message",value:n.message,onChange:r,placeholder:"Your Message *",rows:6,className:"w-full px-4 py-3 sm:py-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-500 focus:border-transparent outline-none text-gray-900 placeholder-gray-500 text-base sm:text-lg resize-none transition-all duration-200 focus:scale-105",required:!0})}),m.jsx("button",{type:"submit",disabled:e,className:"w-full bg-gray-800 hover:bg-gray-900 text-white font-semibold py-3 sm:py-4 px-6 rounded-lg transition-all duration-200 text-base sm:text-lg hover:scale-105 active:scale-95 disabled:opacity-70 disabled:cursor-not-allowed",children:e?"Sending...":"Send Message"})]})})]})]})]})]})};function Z8(){return m.jsxs("div",{children:[m.jsx(fl,{}),m.jsx(Q8,{}),m.jsx(dl,{})]})}const J8=()=>{};var xA={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=r&63|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=r&63|128)}return t},t9=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const r=n[e++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=n[e++];t[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=n[e++],l=n[e++],u=n[e++],d=((r&7)<<18|(o&63)<<12|(l&63)<<6|u&63)-65536;t[i++]=String.fromCharCode(55296+(d>>10)),t[i++]=String.fromCharCode(56320+(d&1023))}else{const o=n[e++],l=n[e++];t[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|l&63)}}return t.join("")},bC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const o=n[r],l=r+1<n.length,u=l?n[r+1]:0,d=r+2<n.length,f=d?n[r+2]:0,g=o>>2,y=(o&3)<<4|u>>4;let x=(u&15)<<2|f>>6,E=f&63;d||(E=64,l||(x=64)),i.push(e[g],e[y],e[x],e[E])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(_C(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):t9(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const o=e[n.charAt(r++)],u=r<n.length?e[n.charAt(r)]:0;++r;const f=r<n.length?e[n.charAt(r)]:64;++r;const y=r<n.length?e[n.charAt(r)]:64;if(++r,o==null||u==null||f==null||y==null)throw new e9;const x=o<<2|u>>4;if(i.push(x),f!==64){const E=u<<4&240|f>>2;if(i.push(E),y!==64){const T=f<<6&192|y;i.push(T)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class e9 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const n9=function(n){const t=_C(n);return bC.encodeByteArray(t,!0)},np=function(n){return n9(n).replace(/\./g,"")},i9=function(n){try{return bC.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s9(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r9=()=>s9().__FIREBASE_DEFAULTS__,a9=()=>{if(typeof process>"u"||typeof xA>"u")return;const n=xA.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},o9=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&i9(n[1]);return t&&JSON.parse(t)},k_=()=>{try{return J8()||r9()||a9()||o9()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},l9=n=>k_()?.emulatorHosts?.[n],c9=n=>{const t=l9(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},EC=()=>k_()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u9{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j_(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function h9(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d9(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",r=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[np(JSON.stringify(e)),np(JSON.stringify(l)),""].join(".")}const Ch={};function f9(){const n={prod:[],emulator:[]};for(const t of Object.keys(Ch))Ch[t]?n.emulator.push(t):n.prod.push(t);return n}function m9(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let _A=!1;function p9(n,t){if(typeof window>"u"||typeof document>"u"||!j_(window.location.host)||Ch[n]===t||Ch[n]||_A)return;Ch[n]=t;function e(x){return`__firebase__banner__${x}`}const i="__firebase__banner",o=f9().prod.length>0;function l(){const x=document.getElementById(i);x&&x.remove()}function u(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function d(x,E){x.setAttribute("width","24"),x.setAttribute("id",E),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function f(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{_A=!0,l()},x}function g(x,E){x.setAttribute("id",E),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function y(){const x=m9(i),E=e("text"),T=document.getElementById(E)||document.createElement("span"),C=e("learnmore"),S=document.getElementById(C)||document.createElement("a"),b=e("preprendIcon"),O=document.getElementById(b)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const N=x.element;u(N),g(S,C);const U=f();d(O,b),N.append(O,T,S,U),document.body.appendChild(N)}o?(T.innerText="Preview backend disconnected.",O.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(O.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g9(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function v9(){const n=k_()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function y9(){return!v9()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function x9(){try{return typeof indexedDB=="object"}catch{return!1}}function _9(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{e=!1},r.onerror=()=>{t(r.error?.message||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b9="FirebaseError";class iu extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=b9,Object.setPrototypeOf(this,iu.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,SC.prototype.create)}}class SC{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},r=`${this.service}/${t}`,o=this.errors[t],l=o?E9(o,i):"Error",u=`${this.serviceName}: ${l} (${r}).`;return new iu(r,u,i)}}function E9(n,t){return n.replace(S9,(e,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const S9=/\{\$([^}]+)}/g;function ip(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const r of e){if(!i.includes(r))return!1;const o=n[r],l=t[r];if(bA(o)&&bA(l)){if(!ip(o,l))return!1}else if(o!==l)return!1}for(const r of i)if(!e.includes(r))return!1;return!0}function bA(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yh(n){return n&&n._delegate?n._delegate:n}class Kh{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T9{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new u9;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:e});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),i=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(A9(t))try{this.getOrInitializeService({instanceIdentifier:Ko})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(t=Ko){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ko){return this.instances.has(t)}getOptions(t=Ko){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[o,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);i===u&&l.resolve(r)}return r}onInit(t,e){const i=this.normalizeInstanceIdentifier(e),r=this.onInitCallbacks.get(i)??new Set;r.add(t),this.onInitCallbacks.set(i,r);const o=this.instances.get(i);return o&&t(o,i),()=>{r.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const r of i)try{r(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:w9(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Ko){return this.component?this.component.multipleInstances?t:Ko:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function w9(n){return n===Ko?void 0:n}function A9(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M9{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new T9(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tn;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(tn||(tn={}));const R9={debug:tn.DEBUG,verbose:tn.VERBOSE,info:tn.INFO,warn:tn.WARN,error:tn.ERROR,silent:tn.SILENT},C9=tn.INFO,N9={[tn.DEBUG]:"log",[tn.VERBOSE]:"log",[tn.INFO]:"info",[tn.WARN]:"warn",[tn.ERROR]:"error"},D9=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),r=N9[t];if(r)console[r](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class TC{constructor(t){this.name=t,this._logLevel=C9,this._logHandler=D9,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in tn))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?R9[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,tn.DEBUG,...t),this._logHandler(this,tn.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,tn.VERBOSE,...t),this._logHandler(this,tn.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,tn.INFO,...t),this._logHandler(this,tn.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,tn.WARN,...t),this._logHandler(this,tn.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,tn.ERROR,...t),this._logHandler(this,tn.ERROR,...t)}}const I9=(n,t)=>t.some(e=>n instanceof e);let EA,SA;function P9(){return EA||(EA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function L9(){return SA||(SA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wC=new WeakMap,px=new WeakMap,AC=new WeakMap,Wv=new WeakMap,z_=new WeakMap;function O9(n){const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",l)},o=()=>{e(Ja(n.result)),r()},l=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",l)});return t.then(e=>{e instanceof IDBCursor&&wC.set(e,n)}).catch(()=>{}),z_.set(t,n),t}function U9(n){if(px.has(n))return;const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",l),n.removeEventListener("abort",l)},o=()=>{e(),r()},l=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",l),n.addEventListener("abort",l)});px.set(n,t)}let gx={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return px.get(n);if(t==="objectStoreNames")return n.objectStoreNames||AC.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Ja(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function V9(n){gx=n(gx)}function F9(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(qv(this),t,...e);return AC.set(i,t.sort?t.sort():[t]),Ja(i)}:L9().includes(n)?function(...t){return n.apply(qv(this),t),Ja(wC.get(this))}:function(...t){return Ja(n.apply(qv(this),t))}}function B9(n){return typeof n=="function"?F9(n):(n instanceof IDBTransaction&&U9(n),I9(n,P9())?new Proxy(n,gx):n)}function Ja(n){if(n instanceof IDBRequest)return O9(n);if(Wv.has(n))return Wv.get(n);const t=B9(n);return t!==n&&(Wv.set(n,t),z_.set(t,n)),t}const qv=n=>z_.get(n);function k9(n,t,{blocked:e,upgrade:i,blocking:r,terminated:o}={}){const l=indexedDB.open(n,t),u=Ja(l);return i&&l.addEventListener("upgradeneeded",d=>{i(Ja(l.result),d.oldVersion,d.newVersion,Ja(l.transaction),d)}),e&&l.addEventListener("blocked",d=>e(d.oldVersion,d.newVersion,d)),u.then(d=>{o&&d.addEventListener("close",()=>o()),r&&d.addEventListener("versionchange",f=>r(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const j9=["get","getKey","getAll","getAllKeys","count"],z9=["put","add","delete","clear"],Xv=new Map;function TA(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Xv.get(t))return Xv.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,r=z9.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(r||j9.includes(e)))return;const o=async function(l,...u){const d=this.transaction(l,r?"readwrite":"readonly");let f=d.store;return i&&(f=f.index(u.shift())),(await Promise.all([f[e](...u),r&&d.done]))[0]};return Xv.set(t,o),o}V9(n=>({...n,get:(t,e,i)=>TA(t,e)||n.get(t,e,i),has:(t,e)=>!!TA(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H9{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(G9(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function G9(n){return n.getComponent()?.type==="VERSION"}const vx="@firebase/app",wA="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa=new TC("@firebase/app"),W9="@firebase/app-compat",q9="@firebase/analytics-compat",X9="@firebase/analytics",Y9="@firebase/app-check-compat",K9="@firebase/app-check",$9="@firebase/auth",Q9="@firebase/auth-compat",Z9="@firebase/database",J9="@firebase/data-connect",tH="@firebase/database-compat",eH="@firebase/functions",nH="@firebase/functions-compat",iH="@firebase/installations",sH="@firebase/installations-compat",rH="@firebase/messaging",aH="@firebase/messaging-compat",oH="@firebase/performance",lH="@firebase/performance-compat",cH="@firebase/remote-config",uH="@firebase/remote-config-compat",hH="@firebase/storage",dH="@firebase/storage-compat",fH="@firebase/firestore",mH="@firebase/ai",pH="@firebase/firestore-compat",gH="firebase",vH="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yx="[DEFAULT]",yH={[vx]:"fire-core",[W9]:"fire-core-compat",[X9]:"fire-analytics",[q9]:"fire-analytics-compat",[K9]:"fire-app-check",[Y9]:"fire-app-check-compat",[$9]:"fire-auth",[Q9]:"fire-auth-compat",[Z9]:"fire-rtdb",[J9]:"fire-data-connect",[tH]:"fire-rtdb-compat",[eH]:"fire-fn",[nH]:"fire-fn-compat",[iH]:"fire-iid",[sH]:"fire-iid-compat",[rH]:"fire-fcm",[aH]:"fire-fcm-compat",[oH]:"fire-perf",[lH]:"fire-perf-compat",[cH]:"fire-rc",[uH]:"fire-rc-compat",[hH]:"fire-gcs",[dH]:"fire-gcs-compat",[fH]:"fire-fst",[pH]:"fire-fst-compat",[mH]:"fire-vertex","fire-js":"fire-js",[gH]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sp=new Map,xH=new Map,xx=new Map;function AA(n,t){try{n.container.addComponent(t)}catch(e){pa.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function rp(n){const t=n.name;if(xx.has(t))return pa.debug(`There were multiple attempts to register component ${t}.`),!1;xx.set(t,n);for(const e of sp.values())AA(e,n);for(const e of xH.values())AA(e,n);return!0}function _H(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function bH(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EH={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},to=new SC("app","Firebase",EH);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SH{constructor(t,e,i){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Kh("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw to.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TH=vH;function MC(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i={name:yx,automaticDataCollectionEnabled:!0,...t},r=i.name;if(typeof r!="string"||!r)throw to.create("bad-app-name",{appName:String(r)});if(e||(e=EC()),!e)throw to.create("no-options");const o=sp.get(r);if(o){if(ip(e,o.options)&&ip(i,o.config))return o;throw to.create("duplicate-app",{appName:r})}const l=new M9(r);for(const d of xx.values())l.addComponent(d);const u=new SH(e,i,l);return sp.set(r,u),u}function wH(n=yx){const t=sp.get(n);if(!t&&n===yx&&EC())return MC();if(!t)throw to.create("no-app",{appName:n});return t}function Ic(n,t,e){let i=yH[n]??n;e&&(i+=`-${e}`);const r=i.match(/\s|\//),o=t.match(/\s|\//);if(r||o){const l=[`Unable to register library "${i}" with version "${t}":`];r&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&o&&l.push("and"),o&&l.push(`version name "${t}" contains illegal characters (whitespace or "/")`),pa.warn(l.join(" "));return}rp(new Kh(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AH="firebase-heartbeat-database",MH=1,$h="firebase-heartbeat-store";let Yv=null;function RC(){return Yv||(Yv=k9(AH,MH,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore($h)}catch(e){console.warn(e)}}}}).catch(n=>{throw to.create("idb-open",{originalErrorMessage:n.message})})),Yv}async function RH(n){try{const e=(await RC()).transaction($h),i=await e.objectStore($h).get(CC(n));return await e.done,i}catch(t){if(t instanceof iu)pa.warn(t.message);else{const e=to.create("idb-get",{originalErrorMessage:t?.message});pa.warn(e.message)}}}async function MA(n,t){try{const i=(await RC()).transaction($h,"readwrite");await i.objectStore($h).put(t,CC(n)),await i.done}catch(e){if(e instanceof iu)pa.warn(e.message);else{const i=to.create("idb-set",{originalErrorMessage:e?.message});pa.warn(i.message)}}}function CC(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CH=1024,NH=30;class DH{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new PH(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=RA();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(r=>r.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:e}),this._heartbeatsCache.heartbeats.length>NH){const r=LH(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(r,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){pa.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=RA(),{heartbeatsToSend:e,unsentEntries:i}=IH(this._heartbeatsCache.heartbeats),r=np(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(t){return pa.warn(t),""}}}function RA(){return new Date().toISOString().substring(0,10)}function IH(n,t=CH){const e=[];let i=n.slice();for(const r of n){const o=e.find(l=>l.agent===r.agent);if(o){if(o.dates.push(r.date),CA(e)>t){o.dates.pop();break}}else if(e.push({agent:r.agent,dates:[r.date]}),CA(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class PH{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return x9()?_9().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await RH(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return MA(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return MA(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function CA(n){return np(JSON.stringify({version:2,heartbeats:n})).length}function LH(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OH(n){rp(new Kh("platform-logger",t=>new H9(t),"PRIVATE")),rp(new Kh("heartbeat",t=>new DH(t),"PRIVATE")),Ic(vx,wA,n),Ic(vx,wA,"esm2020"),Ic("fire-js","")}OH("");var NA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var eo,NC;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(D,R){function w(){}w.prototype=R.prototype,D.D=R.prototype,D.prototype=new w,D.prototype.constructor=D,D.C=function(M,P,z){for(var V=Array(arguments.length-2),yt=2;yt<arguments.length;yt++)V[yt-2]=arguments[yt];return R.prototype[P].apply(M,V)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,e),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(D,R,w){w||(w=0);var M=Array(16);if(typeof R=="string")for(var P=0;16>P;++P)M[P]=R.charCodeAt(w++)|R.charCodeAt(w++)<<8|R.charCodeAt(w++)<<16|R.charCodeAt(w++)<<24;else for(P=0;16>P;++P)M[P]=R[w++]|R[w++]<<8|R[w++]<<16|R[w++]<<24;R=D.g[0],w=D.g[1],P=D.g[2];var z=D.g[3],V=R+(z^w&(P^z))+M[0]+3614090360&4294967295;R=w+(V<<7&4294967295|V>>>25),V=z+(P^R&(w^P))+M[1]+3905402710&4294967295,z=R+(V<<12&4294967295|V>>>20),V=P+(w^z&(R^w))+M[2]+606105819&4294967295,P=z+(V<<17&4294967295|V>>>15),V=w+(R^P&(z^R))+M[3]+3250441966&4294967295,w=P+(V<<22&4294967295|V>>>10),V=R+(z^w&(P^z))+M[4]+4118548399&4294967295,R=w+(V<<7&4294967295|V>>>25),V=z+(P^R&(w^P))+M[5]+1200080426&4294967295,z=R+(V<<12&4294967295|V>>>20),V=P+(w^z&(R^w))+M[6]+2821735955&4294967295,P=z+(V<<17&4294967295|V>>>15),V=w+(R^P&(z^R))+M[7]+4249261313&4294967295,w=P+(V<<22&4294967295|V>>>10),V=R+(z^w&(P^z))+M[8]+1770035416&4294967295,R=w+(V<<7&4294967295|V>>>25),V=z+(P^R&(w^P))+M[9]+2336552879&4294967295,z=R+(V<<12&4294967295|V>>>20),V=P+(w^z&(R^w))+M[10]+4294925233&4294967295,P=z+(V<<17&4294967295|V>>>15),V=w+(R^P&(z^R))+M[11]+2304563134&4294967295,w=P+(V<<22&4294967295|V>>>10),V=R+(z^w&(P^z))+M[12]+1804603682&4294967295,R=w+(V<<7&4294967295|V>>>25),V=z+(P^R&(w^P))+M[13]+4254626195&4294967295,z=R+(V<<12&4294967295|V>>>20),V=P+(w^z&(R^w))+M[14]+2792965006&4294967295,P=z+(V<<17&4294967295|V>>>15),V=w+(R^P&(z^R))+M[15]+1236535329&4294967295,w=P+(V<<22&4294967295|V>>>10),V=R+(P^z&(w^P))+M[1]+4129170786&4294967295,R=w+(V<<5&4294967295|V>>>27),V=z+(w^P&(R^w))+M[6]+3225465664&4294967295,z=R+(V<<9&4294967295|V>>>23),V=P+(R^w&(z^R))+M[11]+643717713&4294967295,P=z+(V<<14&4294967295|V>>>18),V=w+(z^R&(P^z))+M[0]+3921069994&4294967295,w=P+(V<<20&4294967295|V>>>12),V=R+(P^z&(w^P))+M[5]+3593408605&4294967295,R=w+(V<<5&4294967295|V>>>27),V=z+(w^P&(R^w))+M[10]+38016083&4294967295,z=R+(V<<9&4294967295|V>>>23),V=P+(R^w&(z^R))+M[15]+3634488961&4294967295,P=z+(V<<14&4294967295|V>>>18),V=w+(z^R&(P^z))+M[4]+3889429448&4294967295,w=P+(V<<20&4294967295|V>>>12),V=R+(P^z&(w^P))+M[9]+568446438&4294967295,R=w+(V<<5&4294967295|V>>>27),V=z+(w^P&(R^w))+M[14]+3275163606&4294967295,z=R+(V<<9&4294967295|V>>>23),V=P+(R^w&(z^R))+M[3]+4107603335&4294967295,P=z+(V<<14&4294967295|V>>>18),V=w+(z^R&(P^z))+M[8]+1163531501&4294967295,w=P+(V<<20&4294967295|V>>>12),V=R+(P^z&(w^P))+M[13]+2850285829&4294967295,R=w+(V<<5&4294967295|V>>>27),V=z+(w^P&(R^w))+M[2]+4243563512&4294967295,z=R+(V<<9&4294967295|V>>>23),V=P+(R^w&(z^R))+M[7]+1735328473&4294967295,P=z+(V<<14&4294967295|V>>>18),V=w+(z^R&(P^z))+M[12]+2368359562&4294967295,w=P+(V<<20&4294967295|V>>>12),V=R+(w^P^z)+M[5]+4294588738&4294967295,R=w+(V<<4&4294967295|V>>>28),V=z+(R^w^P)+M[8]+2272392833&4294967295,z=R+(V<<11&4294967295|V>>>21),V=P+(z^R^w)+M[11]+1839030562&4294967295,P=z+(V<<16&4294967295|V>>>16),V=w+(P^z^R)+M[14]+4259657740&4294967295,w=P+(V<<23&4294967295|V>>>9),V=R+(w^P^z)+M[1]+2763975236&4294967295,R=w+(V<<4&4294967295|V>>>28),V=z+(R^w^P)+M[4]+1272893353&4294967295,z=R+(V<<11&4294967295|V>>>21),V=P+(z^R^w)+M[7]+4139469664&4294967295,P=z+(V<<16&4294967295|V>>>16),V=w+(P^z^R)+M[10]+3200236656&4294967295,w=P+(V<<23&4294967295|V>>>9),V=R+(w^P^z)+M[13]+681279174&4294967295,R=w+(V<<4&4294967295|V>>>28),V=z+(R^w^P)+M[0]+3936430074&4294967295,z=R+(V<<11&4294967295|V>>>21),V=P+(z^R^w)+M[3]+3572445317&4294967295,P=z+(V<<16&4294967295|V>>>16),V=w+(P^z^R)+M[6]+76029189&4294967295,w=P+(V<<23&4294967295|V>>>9),V=R+(w^P^z)+M[9]+3654602809&4294967295,R=w+(V<<4&4294967295|V>>>28),V=z+(R^w^P)+M[12]+3873151461&4294967295,z=R+(V<<11&4294967295|V>>>21),V=P+(z^R^w)+M[15]+530742520&4294967295,P=z+(V<<16&4294967295|V>>>16),V=w+(P^z^R)+M[2]+3299628645&4294967295,w=P+(V<<23&4294967295|V>>>9),V=R+(P^(w|~z))+M[0]+4096336452&4294967295,R=w+(V<<6&4294967295|V>>>26),V=z+(w^(R|~P))+M[7]+1126891415&4294967295,z=R+(V<<10&4294967295|V>>>22),V=P+(R^(z|~w))+M[14]+2878612391&4294967295,P=z+(V<<15&4294967295|V>>>17),V=w+(z^(P|~R))+M[5]+4237533241&4294967295,w=P+(V<<21&4294967295|V>>>11),V=R+(P^(w|~z))+M[12]+1700485571&4294967295,R=w+(V<<6&4294967295|V>>>26),V=z+(w^(R|~P))+M[3]+2399980690&4294967295,z=R+(V<<10&4294967295|V>>>22),V=P+(R^(z|~w))+M[10]+4293915773&4294967295,P=z+(V<<15&4294967295|V>>>17),V=w+(z^(P|~R))+M[1]+2240044497&4294967295,w=P+(V<<21&4294967295|V>>>11),V=R+(P^(w|~z))+M[8]+1873313359&4294967295,R=w+(V<<6&4294967295|V>>>26),V=z+(w^(R|~P))+M[15]+4264355552&4294967295,z=R+(V<<10&4294967295|V>>>22),V=P+(R^(z|~w))+M[6]+2734768916&4294967295,P=z+(V<<15&4294967295|V>>>17),V=w+(z^(P|~R))+M[13]+1309151649&4294967295,w=P+(V<<21&4294967295|V>>>11),V=R+(P^(w|~z))+M[4]+4149444226&4294967295,R=w+(V<<6&4294967295|V>>>26),V=z+(w^(R|~P))+M[11]+3174756917&4294967295,z=R+(V<<10&4294967295|V>>>22),V=P+(R^(z|~w))+M[2]+718787259&4294967295,P=z+(V<<15&4294967295|V>>>17),V=w+(z^(P|~R))+M[9]+3951481745&4294967295,D.g[0]=D.g[0]+R&4294967295,D.g[1]=D.g[1]+(P+(V<<21&4294967295|V>>>11))&4294967295,D.g[2]=D.g[2]+P&4294967295,D.g[3]=D.g[3]+z&4294967295}i.prototype.u=function(D,R){R===void 0&&(R=D.length);for(var w=R-this.blockSize,M=this.B,P=this.h,z=0;z<R;){if(P==0)for(;z<=w;)r(this,D,z),z+=this.blockSize;if(typeof D=="string"){for(;z<R;)if(M[P++]=D.charCodeAt(z++),P==this.blockSize){r(this,M),P=0;break}}else for(;z<R;)if(M[P++]=D[z++],P==this.blockSize){r(this,M),P=0;break}}this.h=P,this.o+=R},i.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var R=1;R<D.length-8;++R)D[R]=0;var w=8*this.o;for(R=D.length-8;R<D.length;++R)D[R]=w&255,w/=256;for(this.u(D),D=Array(16),R=w=0;4>R;++R)for(var M=0;32>M;M+=8)D[w++]=this.g[R]>>>M&255;return D};function o(D,R){var w=u;return Object.prototype.hasOwnProperty.call(w,D)?w[D]:w[D]=R(D)}function l(D,R){this.h=R;for(var w=[],M=!0,P=D.length-1;0<=P;P--){var z=D[P]|0;M&&z==R||(w[P]=z,M=!1)}this.g=w}var u={};function d(D){return-128<=D&&128>D?o(D,function(R){return new l([R|0],0>R?-1:0)}):new l([D|0],0>D?-1:0)}function f(D){if(isNaN(D)||!isFinite(D))return y;if(0>D)return S(f(-D));for(var R=[],w=1,M=0;D>=w;M++)R[M]=D/w|0,w*=4294967296;return new l(R,0)}function g(D,R){if(D.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(D.charAt(0)=="-")return S(g(D.substring(1),R));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=f(Math.pow(R,8)),M=y,P=0;P<D.length;P+=8){var z=Math.min(8,D.length-P),V=parseInt(D.substring(P,P+z),R);8>z?(z=f(Math.pow(R,z)),M=M.j(z).add(f(V))):(M=M.j(w),M=M.add(f(V)))}return M}var y=d(0),x=d(1),E=d(16777216);n=l.prototype,n.m=function(){if(C(this))return-S(this).m();for(var D=0,R=1,w=0;w<this.g.length;w++){var M=this.i(w);D+=(0<=M?M:4294967296+M)*R,R*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(T(this))return"0";if(C(this))return"-"+S(this).toString(D);for(var R=f(Math.pow(D,6)),w=this,M="";;){var P=U(w,R).g;w=b(w,P.j(R));var z=((0<w.g.length?w.g[0]:w.h)>>>0).toString(D);if(w=P,T(w))return z+M;for(;6>z.length;)z="0"+z;M=z+M}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function T(D){if(D.h!=0)return!1;for(var R=0;R<D.g.length;R++)if(D.g[R]!=0)return!1;return!0}function C(D){return D.h==-1}n.l=function(D){return D=b(this,D),C(D)?-1:T(D)?0:1};function S(D){for(var R=D.g.length,w=[],M=0;M<R;M++)w[M]=~D.g[M];return new l(w,~D.h).add(x)}n.abs=function(){return C(this)?S(this):this},n.add=function(D){for(var R=Math.max(this.g.length,D.g.length),w=[],M=0,P=0;P<=R;P++){var z=M+(this.i(P)&65535)+(D.i(P)&65535),V=(z>>>16)+(this.i(P)>>>16)+(D.i(P)>>>16);M=V>>>16,z&=65535,V&=65535,w[P]=V<<16|z}return new l(w,w[w.length-1]&-2147483648?-1:0)};function b(D,R){return D.add(S(R))}n.j=function(D){if(T(this)||T(D))return y;if(C(this))return C(D)?S(this).j(S(D)):S(S(this).j(D));if(C(D))return S(this.j(S(D)));if(0>this.l(E)&&0>D.l(E))return f(this.m()*D.m());for(var R=this.g.length+D.g.length,w=[],M=0;M<2*R;M++)w[M]=0;for(M=0;M<this.g.length;M++)for(var P=0;P<D.g.length;P++){var z=this.i(M)>>>16,V=this.i(M)&65535,yt=D.i(P)>>>16,gt=D.i(P)&65535;w[2*M+2*P]+=V*gt,O(w,2*M+2*P),w[2*M+2*P+1]+=z*gt,O(w,2*M+2*P+1),w[2*M+2*P+1]+=V*yt,O(w,2*M+2*P+1),w[2*M+2*P+2]+=z*yt,O(w,2*M+2*P+2)}for(M=0;M<R;M++)w[M]=w[2*M+1]<<16|w[2*M];for(M=R;M<2*R;M++)w[M]=0;return new l(w,0)};function O(D,R){for(;(D[R]&65535)!=D[R];)D[R+1]+=D[R]>>>16,D[R]&=65535,R++}function N(D,R){this.g=D,this.h=R}function U(D,R){if(T(R))throw Error("division by zero");if(T(D))return new N(y,y);if(C(D))return R=U(S(D),R),new N(S(R.g),S(R.h));if(C(R))return R=U(D,S(R)),new N(S(R.g),R.h);if(30<D.g.length){if(C(D)||C(R))throw Error("slowDivide_ only works with positive integers.");for(var w=x,M=R;0>=M.l(D);)w=j(w),M=j(M);var P=G(w,1),z=G(M,1);for(M=G(M,2),w=G(w,2);!T(M);){var V=z.add(M);0>=V.l(D)&&(P=P.add(w),z=V),M=G(M,1),w=G(w,1)}return R=b(D,P.j(R)),new N(P,R)}for(P=y;0<=D.l(R);){for(w=Math.max(1,Math.floor(D.m()/R.m())),M=Math.ceil(Math.log(w)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),z=f(w),V=z.j(R);C(V)||0<V.l(D);)w-=M,z=f(w),V=z.j(R);T(z)&&(z=x),P=P.add(z),D=b(D,V)}return new N(P,D)}n.A=function(D){return U(this,D).h},n.and=function(D){for(var R=Math.max(this.g.length,D.g.length),w=[],M=0;M<R;M++)w[M]=this.i(M)&D.i(M);return new l(w,this.h&D.h)},n.or=function(D){for(var R=Math.max(this.g.length,D.g.length),w=[],M=0;M<R;M++)w[M]=this.i(M)|D.i(M);return new l(w,this.h|D.h)},n.xor=function(D){for(var R=Math.max(this.g.length,D.g.length),w=[],M=0;M<R;M++)w[M]=this.i(M)^D.i(M);return new l(w,this.h^D.h)};function j(D){for(var R=D.g.length+1,w=[],M=0;M<R;M++)w[M]=D.i(M)<<1|D.i(M-1)>>>31;return new l(w,D.h)}function G(D,R){var w=R>>5;R%=32;for(var M=D.g.length-w,P=[],z=0;z<M;z++)P[z]=0<R?D.i(z+w)>>>R|D.i(z+w+1)<<32-R:D.i(z+w);return new l(P,D.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,NC=i,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=g,eo=l}).apply(typeof NA<"u"?NA:typeof self<"u"?self:typeof window<"u"?window:{});var pm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var DC,xh,IC,Om,_x,PC,LC,OC;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,A,I){return p==Array.prototype||p==Object.prototype||(p[A]=I.value),p};function e(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof pm=="object"&&pm];for(var A=0;A<p.length;++A){var I=p[A];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var i=e(this);function r(p,A){if(A)t:{var I=i;p=p.split(".");for(var H=0;H<p.length-1;H++){var rt=p[H];if(!(rt in I))break t;I=I[rt]}p=p[p.length-1],H=I[p],A=A(H),A!=H&&A!=null&&t(I,p,{configurable:!0,writable:!0,value:A})}}function o(p,A){p instanceof String&&(p+="");var I=0,H=!1,rt={next:function(){if(!H&&I<p.length){var vt=I++;return{value:A(vt,p[vt]),done:!1}}return H=!0,{done:!0,value:void 0}}};return rt[Symbol.iterator]=function(){return rt},rt}r("Array.prototype.values",function(p){return p||function(){return o(this,function(A,I){return I})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function d(p){var A=typeof p;return A=A!="object"?A:p?Array.isArray(p)?"array":A:"null",A=="array"||A=="object"&&typeof p.length=="number"}function f(p){var A=typeof p;return A=="object"&&p!=null||A=="function"}function g(p,A,I){return p.call.apply(p.bind,arguments)}function y(p,A,I){if(!p)throw Error();if(2<arguments.length){var H=Array.prototype.slice.call(arguments,2);return function(){var rt=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(rt,H),p.apply(A,rt)}}return function(){return p.apply(A,arguments)}}function x(p,A,I){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:y,x.apply(null,arguments)}function E(p,A){var I=Array.prototype.slice.call(arguments,1);return function(){var H=I.slice();return H.push.apply(H,arguments),p.apply(this,H)}}function T(p,A){function I(){}I.prototype=A.prototype,p.aa=A.prototype,p.prototype=new I,p.prototype.constructor=p,p.Qb=function(H,rt,vt){for(var Bt=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)Bt[$e-2]=arguments[$e];return A.prototype[rt].apply(H,Bt)}}function C(p){const A=p.length;if(0<A){const I=Array(A);for(let H=0;H<A;H++)I[H]=p[H];return I}return[]}function S(p,A){for(let I=1;I<arguments.length;I++){const H=arguments[I];if(d(H)){const rt=p.length||0,vt=H.length||0;p.length=rt+vt;for(let Bt=0;Bt<vt;Bt++)p[rt+Bt]=H[Bt]}else p.push(H)}}class b{constructor(A,I){this.i=A,this.j=I,this.h=0,this.g=null}get(){let A;return 0<this.h?(this.h--,A=this.g,this.g=A.next,A.next=null):A=this.i(),A}}function O(p){return/^[\s\xa0]*$/.test(p)}function N(){var p=u.navigator;return p&&(p=p.userAgent)?p:""}function U(p){return U[" "](p),p}U[" "]=function(){};var j=N().indexOf("Gecko")!=-1&&!(N().toLowerCase().indexOf("webkit")!=-1&&N().indexOf("Edge")==-1)&&!(N().indexOf("Trident")!=-1||N().indexOf("MSIE")!=-1)&&N().indexOf("Edge")==-1;function G(p,A,I){for(const H in p)A.call(I,p[H],H,p)}function D(p,A){for(const I in p)A.call(void 0,p[I],I,p)}function R(p){const A={};for(const I in p)A[I]=p[I];return A}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(p,A){let I,H;for(let rt=1;rt<arguments.length;rt++){H=arguments[rt];for(I in H)p[I]=H[I];for(let vt=0;vt<w.length;vt++)I=w[vt],Object.prototype.hasOwnProperty.call(H,I)&&(p[I]=H[I])}}function P(p){var A=1;p=p.split(":");const I=[];for(;0<A&&p.length;)I.push(p.shift()),A--;return p.length&&I.push(p.join(":")),I}function z(p){u.setTimeout(()=>{throw p},0)}function V(){var p=Rt;let A=null;return p.g&&(A=p.g,p.g=p.g.next,p.g||(p.h=null),A.next=null),A}class yt{constructor(){this.h=this.g=null}add(A,I){const H=gt.get();H.set(A,I),this.h?this.h.next=H:this.g=H,this.h=H}}var gt=new b(()=>new Y,p=>p.reset());class Y{constructor(){this.next=this.g=this.h=null}set(A,I){this.h=A,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,Q=!1,Rt=new yt,W=()=>{const p=u.Promise.resolve(void 0);Z=()=>{p.then(at)}};var at=()=>{for(var p;p=V();){try{p.h.call(p.g)}catch(I){z(I)}var A=gt;A.j(p),100>A.h&&(A.h++,p.next=A.g,A.g=p)}Q=!1};function wt(){this.s=this.s,this.C=this.C}wt.prototype.s=!1,wt.prototype.ma=function(){this.s||(this.s=!0,this.N())},wt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Et(p,A){this.type=p,this.g=this.target=A,this.defaultPrevented=!1}Et.prototype.h=function(){this.defaultPrevented=!0};var it=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var p=!1,A=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const I=()=>{};u.addEventListener("test",I,A),u.removeEventListener("test",I,A)}catch{}return p}();function St(p,A){if(Et.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var I=this.type=p.type,H=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=A,A=p.relatedTarget){if(j){t:{try{U(A.nodeName);var rt=!0;break t}catch{}rt=!1}rt||(A=null)}}else I=="mouseover"?A=p.fromElement:I=="mouseout"&&(A=p.toElement);this.relatedTarget=A,H?(this.clientX=H.clientX!==void 0?H.clientX:H.pageX,this.clientY=H.clientY!==void 0?H.clientY:H.pageY,this.screenX=H.screenX||0,this.screenY=H.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:Ct[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&St.aa.h.call(this)}}T(St,Et);var Ct={2:"touch",3:"pen",4:"mouse"};St.prototype.h=function(){St.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var Vt="closure_listenable_"+(1e6*Math.random()|0),Ft=0;function de(p,A,I,H,rt){this.listener=p,this.proxy=null,this.src=A,this.type=I,this.capture=!!H,this.ha=rt,this.key=++Ft,this.da=this.fa=!1}function ee(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function Ie(p){this.src=p,this.g={},this.h=0}Ie.prototype.add=function(p,A,I,H,rt){var vt=p.toString();p=this.g[vt],p||(p=this.g[vt]=[],this.h++);var Bt=ge(p,A,H,rt);return-1<Bt?(A=p[Bt],I||(A.fa=!1)):(A=new de(A,this.src,vt,!!H,rt),A.fa=I,p.push(A)),A};function We(p,A){var I=A.type;if(I in p.g){var H=p.g[I],rt=Array.prototype.indexOf.call(H,A,void 0),vt;(vt=0<=rt)&&Array.prototype.splice.call(H,rt,1),vt&&(ee(A),p.g[I].length==0&&(delete p.g[I],p.h--))}}function ge(p,A,I,H){for(var rt=0;rt<p.length;++rt){var vt=p[rt];if(!vt.da&&vt.listener==A&&vt.capture==!!I&&vt.ha==H)return rt}return-1}var $="closure_lm_"+(1e6*Math.random()|0),bn={};function je(p,A,I,H,rt){if(Array.isArray(A)){for(var vt=0;vt<A.length;vt++)je(p,A[vt],I,H,rt);return null}return I=ut(I),p&&p[Vt]?p.K(A,I,f(H)?!!H.capture:!1,rt):Pe(p,A,I,!1,H,rt)}function Pe(p,A,I,H,rt,vt){if(!A)throw Error("Invalid event type");var Bt=f(rt)?!!rt.capture:!!rt,$e=X(p);if($e||(p[$]=$e=new Ie(p)),I=$e.add(A,I,H,Bt,vt),I.proxy)return I;if(H=ne(),I.proxy=H,H.src=p,H.listener=I,p.addEventListener)it||(rt=Bt),rt===void 0&&(rt=!1),p.addEventListener(A.toString(),H,rt);else if(p.attachEvent)p.attachEvent(_e(A.toString()),H);else if(p.addListener&&p.removeListener)p.addListener(H);else throw Error("addEventListener and attachEvent are unavailable.");return I}function ne(){function p(I){return A.call(p.src,p.listener,I)}const A=Rn;return p}function Oe(p,A,I,H,rt){if(Array.isArray(A))for(var vt=0;vt<A.length;vt++)Oe(p,A[vt],I,H,rt);else H=f(H)?!!H.capture:!!H,I=ut(I),p&&p[Vt]?(p=p.i,A=String(A).toString(),A in p.g&&(vt=p.g[A],I=ge(vt,I,H,rt),-1<I&&(ee(vt[I]),Array.prototype.splice.call(vt,I,1),vt.length==0&&(delete p.g[A],p.h--)))):p&&(p=X(p))&&(A=p.g[A.toString()],p=-1,A&&(p=ge(A,I,H,rt)),(I=-1<p?A[p]:null)&&ae(I))}function ae(p){if(typeof p!="number"&&p&&!p.da){var A=p.src;if(A&&A[Vt])We(A.i,p);else{var I=p.type,H=p.proxy;A.removeEventListener?A.removeEventListener(I,H,p.capture):A.detachEvent?A.detachEvent(_e(I),H):A.addListener&&A.removeListener&&A.removeListener(H),(I=X(A))?(We(I,p),I.h==0&&(I.src=null,A[$]=null)):ee(p)}}}function _e(p){return p in bn?bn[p]:bn[p]="on"+p}function Rn(p,A){if(p.da)p=!0;else{A=new St(A,this);var I=p.listener,H=p.ha||p.src;p.fa&&ae(p),p=I.call(H,A)}return p}function X(p){return p=p[$],p instanceof Ie?p:null}var F="__closure_events_fn_"+(1e9*Math.random()>>>0);function ut(p){return typeof p=="function"?p:(p[F]||(p[F]=function(A){return p.handleEvent(A)}),p[F])}function xt(){wt.call(this),this.i=new Ie(this),this.M=this,this.F=null}T(xt,wt),xt.prototype[Vt]=!0,xt.prototype.removeEventListener=function(p,A,I,H){Oe(this,p,A,I,H)};function bt(p,A){var I,H=p.F;if(H)for(I=[];H;H=H.F)I.push(H);if(p=p.M,H=A.type||A,typeof A=="string")A=new Et(A,p);else if(A instanceof Et)A.target=A.target||p;else{var rt=A;A=new Et(H,p),M(A,rt)}if(rt=!0,I)for(var vt=I.length-1;0<=vt;vt--){var Bt=A.g=I[vt];rt=_t(Bt,H,!0,A)&&rt}if(Bt=A.g=p,rt=_t(Bt,H,!0,A)&&rt,rt=_t(Bt,H,!1,A)&&rt,I)for(vt=0;vt<I.length;vt++)Bt=A.g=I[vt],rt=_t(Bt,H,!1,A)&&rt}xt.prototype.N=function(){if(xt.aa.N.call(this),this.i){var p=this.i,A;for(A in p.g){for(var I=p.g[A],H=0;H<I.length;H++)ee(I[H]);delete p.g[A],p.h--}}this.F=null},xt.prototype.K=function(p,A,I,H){return this.i.add(String(p),A,!1,I,H)},xt.prototype.L=function(p,A,I,H){return this.i.add(String(p),A,!0,I,H)};function _t(p,A,I,H){if(A=p.i.g[String(A)],!A)return!0;A=A.concat();for(var rt=!0,vt=0;vt<A.length;++vt){var Bt=A[vt];if(Bt&&!Bt.da&&Bt.capture==I){var $e=Bt.listener,ii=Bt.ha||Bt.src;Bt.fa&&We(p.i,Bt),rt=$e.call(ii,H)!==!1&&rt}}return rt&&!H.defaultPrevented}function qt(p,A,I){if(typeof p=="function")I&&(p=x(p,I));else if(p&&typeof p.handleEvent=="function")p=x(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(A)?-1:u.setTimeout(p,A||0)}function zt(p){p.g=qt(()=>{p.g=null,p.i&&(p.i=!1,zt(p))},p.l);const A=p.h;p.h=null,p.m.apply(null,A)}class te extends wt{constructor(A,I){super(),this.m=A,this.l=I,this.h=null,this.i=!1,this.g=null}j(A){this.h=arguments,this.g?this.i=!0:zt(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zt(p){wt.call(this),this.h=p,this.g={}}T(Zt,wt);var It=[];function Xt(p){G(p.g,function(A,I){this.g.hasOwnProperty(I)&&ae(A)},p),p.g={}}Zt.prototype.N=function(){Zt.aa.N.call(this),Xt(this)},Zt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ie=u.JSON.stringify,oe=u.JSON.parse,kt=class{stringify(p){return u.JSON.stringify(p,void 0)}parse(p){return u.JSON.parse(p,void 0)}};function ve(){}ve.prototype.h=null;function tt(p){return p.h||(p.h=p.i())}function Gt(){}var Pt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Yt(){Et.call(this,"d")}T(Yt,Et);function Ut(){Et.call(this,"c")}T(Ut,Et);var At={},Qt=null;function fe(){return Qt=Qt||new xt}At.La="serverreachability";function nn(p){Et.call(this,At.La,p)}T(nn,Et);function Ue(p){const A=fe();bt(A,new nn(A))}At.STAT_EVENT="statevent";function Ci(p,A){Et.call(this,At.STAT_EVENT,p),this.stat=A}T(Ci,Et);function Xe(p){const A=fe();bt(A,new Ci(A,p))}At.Ma="timingevent";function Ln(p,A){Et.call(this,At.Ma,p),this.size=A}T(Ln,Et);function Cn(p,A){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){p()},A)}function Yn(){this.g=!0}Yn.prototype.xa=function(){this.g=!1};function Dr(p,A,I,H,rt,vt){p.info(function(){if(p.g)if(vt)for(var Bt="",$e=vt.split("&"),ii=0;ii<$e.length;ii++){var Qe=$e[ii].split("=");if(1<Qe.length){var di=Qe[0];Qe=Qe[1];var si=di.split("_");Bt=2<=si.length&&si[1]=="type"?Bt+(di+"="+Qe+"&"):Bt+(di+"=redacted&")}}else Bt=null;else Bt=vt;return"XMLHTTP REQ ("+H+") [attempt "+rt+"]: "+A+`
`+I+`
`+Bt})}function yl(p,A,I,H,rt,vt,Bt){p.info(function(){return"XMLHTTP RESP ("+H+") [ attempt "+rt+"]: "+A+`
`+I+`
`+vt+" "+Bt})}function Ps(p,A,I,H){p.info(function(){return"XMLHTTP TEXT ("+A+"): "+$s(p,I)+(H?" "+H:"")})}function Ir(p,A){p.info(function(){return"TIMEOUT: "+A})}Yn.prototype.info=function(){};function $s(p,A){if(!p.g)return A;if(!A)return null;try{var I=JSON.parse(A);if(I){for(p=0;p<I.length;p++)if(Array.isArray(I[p])){var H=I[p];if(!(2>H.length)){var rt=H[1];if(Array.isArray(rt)&&!(1>rt.length)){var vt=rt[0];if(vt!="noop"&&vt!="stop"&&vt!="close")for(var Bt=1;Bt<rt.length;Bt++)rt[Bt]=""}}}}return ie(I)}catch{return A}}var ts={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ds={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},es;function fs(){}T(fs,ve),fs.prototype.g=function(){return new XMLHttpRequest},fs.prototype.i=function(){return{}},es=new fs;function yi(p,A,I,H){this.j=p,this.i=A,this.l=I,this.R=H||1,this.U=new Zt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Nn}function Nn(){this.i=null,this.g="",this.h=!1}var go={},ya={};function ns(p,A,I){p.L=1,p.v=Un(ni(A)),p.m=I,p.P=!0,k(p,null)}function k(p,A){p.F=Date.now(),dt(p),p.A=ni(p.v);var I=p.A,H=p.R;Array.isArray(H)||(H=[String(H)]),uu(I.i,"t",H),p.C=0,I=p.j.J,p.h=new Nn,p.g=Od(p.j,I?A:null,!p.m),0<p.O&&(p.M=new te(x(p.Y,p,p.g),p.O)),A=p.U,I=p.g,H=p.ca;var rt="readystatechange";Array.isArray(rt)||(rt&&(It[0]=rt.toString()),rt=It);for(var vt=0;vt<rt.length;vt++){var Bt=je(I,rt[vt],H||A.handleEvent,!1,A.h||A);if(!Bt)break;A.g[Bt.key]=Bt}A=p.H?R(p.H):{},p.m?(p.u||(p.u="POST"),A["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,A)):(p.u="GET",p.g.ea(p.A,p.u,null,A)),Ue(),Dr(p.i,p.u,p.A,p.l,p.R,p.m)}yi.prototype.ca=function(p){p=p.target;const A=this.M;A&&gs(p)==3?A.j():this.Y(p)},yi.prototype.Y=function(p){try{if(p==this.g)t:{const si=gs(this.g);var A=this.g.Ba();const Fr=this.g.Z();if(!(3>si)&&(si!=3||this.g&&(this.h.h||this.g.oa()||Md(this.g)))){this.J||si!=4||A==7||(A==8||0>=Fr?Ue(3):Ue(2)),Ot(this);var I=this.g.Z();this.X=I;e:if(et(this)){var H=Md(this.g);p="";var rt=H.length,vt=gs(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ht(this),jt(this);var Bt="";break e}this.h.i=new u.TextDecoder}for(A=0;A<rt;A++)this.h.h=!0,p+=this.h.i.decode(H[A],{stream:!(vt&&A==rt-1)});H.length=0,this.h.g+=p,this.C=0,Bt=this.h.g}else Bt=this.g.oa();if(this.o=I==200,yl(this.i,this.u,this.A,this.l,this.R,si,I),this.o){if(this.T&&!this.K){e:{if(this.g){var $e,ii=this.g;if(($e=ii.g?ii.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O($e)){var Qe=$e;break e}}Qe=null}if(I=Qe)Ps(this.i,this.l,I,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Kt(this,I);else{this.o=!1,this.s=3,Xe(12),Ht(this),jt(this);break t}}if(this.P){I=!0;let xi;for(;!this.J&&this.C<Bt.length;)if(xi=mt(this,Bt),xi==ya){si==4&&(this.s=4,Xe(14),I=!1),Ps(this.i,this.l,null,"[Incomplete Response]");break}else if(xi==go){this.s=4,Xe(15),Ps(this.i,this.l,Bt,"[Invalid Chunk]"),I=!1;break}else Ps(this.i,this.l,xi,null),Kt(this,xi);if(et(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),si!=4||Bt.length!=0||this.h.h||(this.s=1,Xe(16),I=!1),this.o=this.o&&I,!I)Ps(this.i,this.l,Bt,"[Invalid Chunked Response]"),Ht(this),jt(this);else if(0<Bt.length&&!this.W){this.W=!0;var di=this.j;di.g==this&&di.ba&&!di.M&&(di.j.info("Great, no buffering proxy detected. Bytes received: "+Bt.length),So(di),di.M=!0,Xe(11))}}else Ps(this.i,this.l,Bt,null),Kt(this,Bt);si==4&&Ht(this),this.o&&!this.J&&(si==4?Id(this.j,this):(this.o=!1,dt(this)))}else Qp(this.g),I==400&&0<Bt.indexOf("Unknown SID")?(this.s=3,Xe(12)):(this.s=0,Xe(13)),Ht(this),jt(this)}}}catch{}finally{}};function et(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function mt(p,A){var I=p.C,H=A.indexOf(`
`,I);return H==-1?ya:(I=Number(A.substring(I,H)),isNaN(I)?go:(H+=1,H+I>A.length?ya:(A=A.slice(H,H+I),p.C=H+I,A)))}yi.prototype.cancel=function(){this.J=!0,Ht(this)};function dt(p){p.S=Date.now()+p.I,st(p,p.I)}function st(p,A){if(p.B!=null)throw Error("WatchDog timer not null");p.B=Cn(x(p.ba,p),A)}function Ot(p){p.B&&(u.clearTimeout(p.B),p.B=null)}yi.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(Ir(this.i,this.A),this.L!=2&&(Ue(),Xe(17)),Ht(this),this.s=2,jt(this)):st(this,this.S-p)};function jt(p){p.j.G==0||p.J||Id(p.j,p)}function Ht(p){Ot(p);var A=p.M;A&&typeof A.ma=="function"&&A.ma(),p.M=null,Xt(p.U),p.g&&(A=p.g,p.g=null,A.abort(),A.ma())}function Kt(p,A){try{var I=p.j;if(I.G!=0&&(I.g==p||Ye(I.h,p))){if(!p.K&&Ye(I.h,p)&&I.G==3){try{var H=I.Da.g.parse(A)}catch{H=null}if(Array.isArray(H)&&H.length==3){var rt=H;if(rt[0]==0){t:if(!I.u){if(I.g)if(I.g.F+3e3<p.F)Al(I),Tl(I);else break t;pu(I),Xe(18)}}else I.za=rt[1],0<I.za-I.T&&37500>rt[2]&&I.F&&I.v==0&&!I.C&&(I.C=Cn(x(I.Za,I),6e3));if(1>=Ae(I.h)&&I.ca){try{I.ca()}catch{}I.ca=void 0}}else Vr(I,11)}else if((p.K||I.g==p)&&Al(I),!O(A))for(rt=I.Da.g.parse(A),A=0;A<rt.length;A++){let Qe=rt[A];if(I.T=Qe[0],Qe=Qe[1],I.G==2)if(Qe[0]=="c"){I.K=Qe[1],I.ia=Qe[2];const di=Qe[3];di!=null&&(I.la=di,I.j.info("VER="+I.la));const si=Qe[4];si!=null&&(I.Aa=si,I.j.info("SVER="+I.Aa));const Fr=Qe[5];Fr!=null&&typeof Fr=="number"&&0<Fr&&(H=1.5*Fr,I.L=H,I.j.info("backChannelRequestTimeoutMs_="+H)),H=I;const xi=p.g;if(xi){const sr=xi.g?xi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(sr){var vt=H.h;vt.g||sr.indexOf("spdy")==-1&&sr.indexOf("quic")==-1&&sr.indexOf("h2")==-1||(vt.j=vt.l,vt.g=new Set,vt.h&&(hn(vt,vt.h),vt.h=null))}if(H.D){const vu=xi.g?xi.g.getResponseHeader("X-HTTP-Session-Id"):null;vu&&(H.ya=vu,Te(H.I,H.D,vu))}}I.G=3,I.l&&I.l.ua(),I.ba&&(I.R=Date.now()-p.F,I.j.info("Handshake RTT: "+I.R+"ms")),H=I;var Bt=p;if(H.qa=Ld(H,H.J?H.ia:null,H.W),Bt.K){Me(H.h,Bt);var $e=Bt,ii=H.L;ii&&($e.I=ii),$e.B&&(Ot($e),dt($e)),H.g=Bt}else Nd(H);0<I.i.length&&wl(I)}else Qe[0]!="stop"&&Qe[0]!="close"||Vr(I,7);else I.G==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?Vr(I,7):fu(I):Qe[0]!="noop"&&I.l&&I.l.ta(Qe),I.v=0)}}Ue(4)}catch{}}var me=class{constructor(p,A){this.g=p,this.map=A}};function ce(p){this.l=p||10,u.PerformanceNavigationTiming?(p=u.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function se(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function Ae(p){return p.h?1:p.g?p.g.size:0}function Ye(p,A){return p.h?p.h==A:p.g?p.g.has(A):!1}function hn(p,A){p.g?p.g.add(A):p.h=A}function Me(p,A){p.h&&p.h==A?p.h=null:p.g&&p.g.has(A)&&p.g.delete(A)}ce.prototype.cancel=function(){if(this.i=en(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function en(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let A=p.i;for(const I of p.g.values())A=A.concat(I.D);return A}return C(p.i)}function ue(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(d(p)){for(var A=[],I=p.length,H=0;H<I;H++)A.push(p[H]);return A}A=[],I=0;for(H in p)A[I++]=p[H];return A}function ln(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(d(p)||typeof p=="string"){var A=[];p=p.length;for(var I=0;I<p;I++)A.push(I);return A}A=[],I=0;for(const H in p)A[I++]=H;return A}}}function Ve(p,A){if(p.forEach&&typeof p.forEach=="function")p.forEach(A,void 0);else if(d(p)||typeof p=="string")Array.prototype.forEach.call(p,A,void 0);else for(var I=ln(p),H=ue(p),rt=H.length,vt=0;vt<rt;vt++)A.call(void 0,H[vt],I&&I[vt],p)}var kn=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qs(p,A){if(p){p=p.split("&");for(var I=0;I<p.length;I++){var H=p[I].indexOf("="),rt=null;if(0<=H){var vt=p[I].substring(0,H);rt=p[I].substring(H+1)}else vt=p[I];A(vt,rt?decodeURIComponent(rt.replace(/\+/g," ")):"")}}}function Ke(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof Ke){this.h=p.h,sn(this,p.j),this.o=p.o,this.g=p.g,jn(this,p.s),this.l=p.l;var A=p.i,I=new Pr;I.i=A.i,A.g&&(I.g=new Map(A.g),I.h=A.h),On(this,I),this.m=p.m}else p&&(A=String(p).match(kn))?(this.h=!1,sn(this,A[1]||"",!0),this.o=Ni(A[2]||""),this.g=Ni(A[3]||"",!0),jn(this,A[4]),this.l=Ni(A[5]||"",!0),On(this,A[6]||"",!0),this.m=Ni(A[7]||"")):(this.h=!1,this.i=new Pr(null,this.h))}Ke.prototype.toString=function(){var p=[],A=this.j;A&&p.push(Bi(A,lu,!0),":");var I=this.g;return(I||A=="file")&&(p.push("//"),(A=this.o)&&p.push(Bi(A,lu,!0),"@"),p.push(encodeURIComponent(String(I)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.s,I!=null&&p.push(":",String(I))),(I=this.l)&&(this.g&&I.charAt(0)!="/"&&p.push("/"),p.push(Bi(I,I.charAt(0)=="/"?Kp:cu,!0))),(I=this.i.toString())&&p.push("?",I),(I=this.m)&&p.push("#",Bi(I,xl)),p.join("")};function ni(p){return new Ke(p)}function sn(p,A,I){p.j=I?Ni(A,!0):A,p.j&&(p.j=p.j.replace(/:$/,""))}function jn(p,A){if(A){if(A=Number(A),isNaN(A)||0>A)throw Error("Bad port number "+A);p.s=A}else p.s=null}function On(p,A,I){A instanceof Pr?(p.i=A,wd(p.i,p.h)):(I||(A=Bi(A,$p)),p.i=new Pr(A,p.h))}function Te(p,A,I){p.i.set(A,I)}function Un(p){return Te(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function Ni(p,A){return p?A?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function Bi(p,A,I){return typeof p=="string"?(p=encodeURI(p).replace(A,Td),I&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function Td(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var lu=/[#\/\?@]/g,cu=/[#\?:]/g,Kp=/[#\?]/g,$p=/[#\?@]/g,xl=/#/g;function Pr(p,A){this.h=this.g=null,this.i=p||null,this.j=!!A}function ms(p){p.g||(p.g=new Map,p.h=0,p.i&&Qs(p.i,function(A,I){p.add(decodeURIComponent(A.replace(/\+/g," ")),I)}))}n=Pr.prototype,n.add=function(p,A){ms(this),this.i=null,p=Zs(this,p);var I=this.g.get(p);return I||this.g.set(p,I=[]),I.push(A),this.h+=1,this};function Lr(p,A){ms(p),A=Zs(p,A),p.g.has(A)&&(p.i=null,p.h-=p.g.get(A).length,p.g.delete(A))}function Or(p,A){return ms(p),A=Zs(p,A),p.g.has(A)}n.forEach=function(p,A){ms(this),this.g.forEach(function(I,H){I.forEach(function(rt){p.call(A,rt,H,this)},this)},this)},n.na=function(){ms(this);const p=Array.from(this.g.values()),A=Array.from(this.g.keys()),I=[];for(let H=0;H<A.length;H++){const rt=p[H];for(let vt=0;vt<rt.length;vt++)I.push(A[H])}return I},n.V=function(p){ms(this);let A=[];if(typeof p=="string")Or(this,p)&&(A=A.concat(this.g.get(Zs(this,p))));else{p=Array.from(this.g.values());for(let I=0;I<p.length;I++)A=A.concat(p[I])}return A},n.set=function(p,A){return ms(this),this.i=null,p=Zs(this,p),Or(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[A]),this.h+=1,this},n.get=function(p,A){return p?(p=this.V(p),0<p.length?String(p[0]):A):A};function uu(p,A,I){Lr(p,A),0<I.length&&(p.i=null,p.g.set(Zs(p,A),C(I)),p.h+=I.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],A=Array.from(this.g.keys());for(var I=0;I<A.length;I++){var H=A[I];const vt=encodeURIComponent(String(H)),Bt=this.V(H);for(H=0;H<Bt.length;H++){var rt=vt;Bt[H]!==""&&(rt+="="+encodeURIComponent(String(Bt[H]))),p.push(rt)}}return this.i=p.join("&")};function Zs(p,A){return A=String(A),p.j&&(A=A.toLowerCase()),A}function wd(p,A){A&&!p.j&&(ms(p),p.i=null,p.g.forEach(function(I,H){var rt=H.toLowerCase();H!=rt&&(Lr(this,H),uu(this,rt,I))},p)),p.j=A}function vo(p,A){const I=new Yn;if(u.Image){const H=new Image;H.onload=E(ps,I,"TestLoadImage: loaded",!0,A,H),H.onerror=E(ps,I,"TestLoadImage: error",!1,A,H),H.onabort=E(ps,I,"TestLoadImage: abort",!1,A,H),H.ontimeout=E(ps,I,"TestLoadImage: timeout",!1,A,H),u.setTimeout(function(){H.ontimeout&&H.ontimeout()},1e4),H.src=p}else A(!1)}function Ls(p,A){const I=new Yn,H=new AbortController,rt=setTimeout(()=>{H.abort(),ps(I,"TestPingServer: timeout",!1,A)},1e4);fetch(p,{signal:H.signal}).then(vt=>{clearTimeout(rt),vt.ok?ps(I,"TestPingServer: ok",!0,A):ps(I,"TestPingServer: server error",!1,A)}).catch(()=>{clearTimeout(rt),ps(I,"TestPingServer: error",!1,A)})}function ps(p,A,I,H,rt){try{rt&&(rt.onload=null,rt.onerror=null,rt.onabort=null,rt.ontimeout=null),H(I)}catch{}}function yo(){this.g=new kt}function Js(p,A,I){const H=I||"";try{Ve(p,function(rt,vt){let Bt=rt;f(rt)&&(Bt=ie(rt)),A.push(H+vt+"="+encodeURIComponent(Bt))})}catch(rt){throw A.push(H+"type="+encodeURIComponent("_badmap")),rt}}function xa(p){this.l=p.Ub||null,this.j=p.eb||!1}T(xa,ve),xa.prototype.g=function(){return new Ur(this.l,this.j)},xa.prototype.i=function(p){return function(){return p}}({});function Ur(p,A){xt.call(this),this.D=p,this.o=A,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(Ur,xt),n=Ur.prototype,n.open=function(p,A){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=A,this.readyState=1,er(this)},n.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const A={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(A.body=p),(this.D||u).fetch(new Request(this.A,A)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,tr(this)),this.readyState=0},n.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,er(this)),this.g&&(this.readyState=3,er(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;hu(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function hu(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}n.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var A=p.value?p.value:new Uint8Array(0);(A=this.v.decode(A,{stream:!p.done}))&&(this.response=this.responseText+=A)}p.done?tr(this):er(this),this.readyState==3&&hu(this)}},n.Ra=function(p){this.g&&(this.response=this.responseText=p,tr(this))},n.Qa=function(p){this.g&&(this.response=p,tr(this))},n.ga=function(){this.g&&tr(this)};function tr(p){p.readyState=4,p.l=null,p.j=null,p.v=null,er(p)}n.setRequestHeader=function(p,A){this.u.append(p,A)},n.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],A=this.h.entries();for(var I=A.next();!I.done;)I=I.value,p.push(I[0]+": "+I[1]),I=A.next();return p.join(`\r
`)};function er(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(Ur.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function du(p){let A="";return G(p,function(I,H){A+=H,A+=":",A+=I,A+=`\r
`}),A}function hi(p,A,I){t:{for(H in I){var H=!1;break t}H=!0}H||(I=du(I),typeof p=="string"?I!=null&&encodeURIComponent(String(I)):Te(p,A,I))}function cn(p){xt.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(cn,xt);var _l=/^https?$/i,xo=["POST","PUT"];n=cn.prototype,n.Ha=function(p){this.J=p},n.ea=function(p,A,I,H){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);A=A?A.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():es.g(),this.v=this.o?tt(this.o):tt(es),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(A,String(p),!0),this.B=!1}catch(vt){Ad(this,vt);return}if(p=I||"",I=new Map(this.headers),H)if(Object.getPrototypeOf(H)===Object.prototype)for(var rt in H)I.set(rt,H[rt]);else if(typeof H.keys=="function"&&typeof H.get=="function")for(const vt of H.keys())I.set(vt,H.get(vt));else throw Error("Unknown input type for opt_headers: "+String(H));H=Array.from(I.keys()).find(vt=>vt.toLowerCase()=="content-type"),rt=u.FormData&&p instanceof u.FormData,!(0<=Array.prototype.indexOf.call(xo,A,void 0))||H||rt||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[vt,Bt]of I)this.g.setRequestHeader(vt,Bt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{_o(this),this.u=!0,this.g.send(p),this.u=!1}catch(vt){Ad(this,vt)}};function Ad(p,A){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=A,p.m=5,bl(p),nr(p)}function bl(p){p.A||(p.A=!0,bt(p,"complete"),bt(p,"error"))}n.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,bt(this,"complete"),bt(this,"abort"),nr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),nr(this,!0)),cn.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?El(this):this.bb())},n.bb=function(){El(this)};function El(p){if(p.h&&typeof l<"u"&&(!p.v[1]||gs(p)!=4||p.Z()!=2)){if(p.u&&gs(p)==4)qt(p.Ea,0,p);else if(bt(p,"readystatechange"),gs(p)==4){p.h=!1;try{const Bt=p.Z();t:switch(Bt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var A=!0;break t;default:A=!1}var I;if(!(I=A)){var H;if(H=Bt===0){var rt=String(p.D).match(kn)[1]||null;!rt&&u.self&&u.self.location&&(rt=u.self.location.protocol.slice(0,-1)),H=!_l.test(rt?rt.toLowerCase():"")}I=H}if(I)bt(p,"complete"),bt(p,"success");else{p.m=6;try{var vt=2<gs(p)?p.g.statusText:""}catch{vt=""}p.l=vt+" ["+p.Z()+"]",bl(p)}}finally{nr(p)}}}}function nr(p,A){if(p.g){_o(p);const I=p.g,H=p.v[0]?()=>{}:null;p.g=null,p.v=null,A||bt(p,"ready");try{I.onreadystatechange=H}catch{}}}function _o(p){p.I&&(u.clearTimeout(p.I),p.I=null)}n.isActive=function(){return!!this.g};function gs(p){return p.g?p.g.readyState:0}n.Z=function(){try{return 2<gs(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(p){if(this.g){var A=this.g.responseText;return p&&A.indexOf(p)==0&&(A=A.substring(p.length)),oe(A)}};function Md(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function Qp(p){const A={};p=(p.g&&2<=gs(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let H=0;H<p.length;H++){if(O(p[H]))continue;var I=P(p[H]);const rt=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();const vt=A[rt]||[];A[rt]=vt,vt.push(I)}D(A,function(H){return H.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function bo(p,A,I){return I&&I.internalChannelParams&&I.internalChannelParams[p]||A}function Sl(p){this.Aa=0,this.i=[],this.j=new Yn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=bo("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=bo("baseRetryDelayMs",5e3,p),this.cb=bo("retryDelaySeedMs",1e4,p),this.Wa=bo("forwardChannelMaxRetries",2,p),this.wa=bo("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new ce(p&&p.concurrentRequestLimit),this.Da=new yo,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Sl.prototype,n.la=8,n.G=1,n.connect=function(p,A,I,H){Xe(0),this.W=p,this.H=A||{},I&&H!==void 0&&(this.H.OSID=I,this.H.OAID=H),this.F=this.X,this.I=Ld(this,null,this.W),wl(this)};function fu(p){if(Rd(p),p.G==3){var A=p.U++,I=ni(p.I);if(Te(I,"SID",p.K),Te(I,"RID",A),Te(I,"TYPE","terminate"),Eo(p,I),A=new yi(p,p.j,A),A.L=2,A.v=Un(ni(I)),I=!1,u.navigator&&u.navigator.sendBeacon)try{I=u.navigator.sendBeacon(A.v.toString(),"")}catch{}!I&&u.Image&&(new Image().src=A.v,I=!0),I||(A.g=Od(A.j,null),A.g.ea(A.v)),A.F=Date.now(),dt(A)}Pd(p)}function Tl(p){p.g&&(So(p),p.g.cancel(),p.g=null)}function Rd(p){Tl(p),p.u&&(u.clearTimeout(p.u),p.u=null),Al(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&u.clearTimeout(p.s),p.s=null)}function wl(p){if(!se(p.h)&&!p.s){p.s=!0;var A=p.Ga;Z||W(),Q||(Z(),Q=!0),Rt.add(A,p),p.B=0}}function Zp(p,A){return Ae(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=A.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=Cn(x(p.Ga,p,A),gu(p,p.B)),p.B++,!0)}n.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const rt=new yi(this,this.j,p);let vt=this.o;if(this.S&&(vt?(vt=R(vt),M(vt,this.S)):vt=this.S),this.m!==null||this.O||(rt.H=vt,vt=null),this.P)t:{for(var A=0,I=0;I<this.i.length;I++){e:{var H=this.i[I];if("__data__"in H.map&&(H=H.map.__data__,typeof H=="string")){H=H.length;break e}H=void 0}if(H===void 0)break;if(A+=H,4096<A){A=I;break t}if(A===4096||I===this.i.length-1){A=I+1;break t}}A=1e3}else A=1e3;A=Cd(this,rt,A),I=ni(this.I),Te(I,"RID",p),Te(I,"CVER",22),this.D&&Te(I,"X-HTTP-Session-Id",this.D),Eo(this,I),vt&&(this.O?A="headers="+encodeURIComponent(String(du(vt)))+"&"+A:this.m&&hi(I,this.m,vt)),hn(this.h,rt),this.Ua&&Te(I,"TYPE","init"),this.P?(Te(I,"$req",A),Te(I,"SID","null"),rt.T=!0,ns(rt,I,null)):ns(rt,I,A),this.G=2}}else this.G==3&&(p?mu(this,p):this.i.length==0||se(this.h)||mu(this))};function mu(p,A){var I;A?I=A.l:I=p.U++;const H=ni(p.I);Te(H,"SID",p.K),Te(H,"RID",I),Te(H,"AID",p.T),Eo(p,H),p.m&&p.o&&hi(H,p.m,p.o),I=new yi(p,p.j,I,p.B+1),p.m===null&&(I.H=p.o),A&&(p.i=A.D.concat(p.i)),A=Cd(p,I,1e3),I.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),hn(p.h,I),ns(I,H,A)}function Eo(p,A){p.H&&G(p.H,function(I,H){Te(A,H,I)}),p.l&&Ve({},function(I,H){Te(A,H,I)})}function Cd(p,A,I){I=Math.min(p.i.length,I);var H=p.l?x(p.l.Na,p.l,p):null;t:{var rt=p.i;let vt=-1;for(;;){const Bt=["count="+I];vt==-1?0<I?(vt=rt[0].g,Bt.push("ofs="+vt)):vt=0:Bt.push("ofs="+vt);let $e=!0;for(let ii=0;ii<I;ii++){let Qe=rt[ii].g;const di=rt[ii].map;if(Qe-=vt,0>Qe)vt=Math.max(0,rt[ii].g-100),$e=!1;else try{Js(di,Bt,"req"+Qe+"_")}catch{H&&H(di)}}if($e){H=Bt.join("&");break t}}}return p=p.i.splice(0,I),A.D=p,H}function Nd(p){if(!p.g&&!p.u){p.Y=1;var A=p.Fa;Z||W(),Q||(Z(),Q=!0),Rt.add(A,p),p.v=0}}function pu(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=Cn(x(p.Fa,p),gu(p,p.v)),p.v++,!0)}n.Fa=function(){if(this.u=null,Dd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=Cn(x(this.ab,this),p)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Xe(10),Tl(this),Dd(this))};function So(p){p.A!=null&&(u.clearTimeout(p.A),p.A=null)}function Dd(p){p.g=new yi(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var A=ni(p.qa);Te(A,"RID","rpc"),Te(A,"SID",p.K),Te(A,"AID",p.T),Te(A,"CI",p.F?"0":"1"),!p.F&&p.ja&&Te(A,"TO",p.ja),Te(A,"TYPE","xmlhttp"),Eo(p,A),p.m&&p.o&&hi(A,p.m,p.o),p.L&&(p.g.I=p.L);var I=p.g;p=p.ia,I.L=1,I.v=Un(ni(A)),I.m=null,I.P=!0,k(I,p)}n.Za=function(){this.C!=null&&(this.C=null,Tl(this),pu(this),Xe(19))};function Al(p){p.C!=null&&(u.clearTimeout(p.C),p.C=null)}function Id(p,A){var I=null;if(p.g==A){Al(p),So(p),p.g=null;var H=2}else if(Ye(p.h,A))I=A.D,Me(p.h,A),H=1;else return;if(p.G!=0){if(A.o)if(H==1){I=A.m?A.m.length:0,A=Date.now()-A.F;var rt=p.B;H=fe(),bt(H,new Ln(H,I)),wl(p)}else Nd(p);else if(rt=A.s,rt==3||rt==0&&0<A.X||!(H==1&&Zp(p,A)||H==2&&pu(p)))switch(I&&0<I.length&&(A=p.h,A.i=A.i.concat(I)),rt){case 1:Vr(p,5);break;case 4:Vr(p,10);break;case 3:Vr(p,6);break;default:Vr(p,2)}}}function gu(p,A){let I=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(I*=2),I*A}function Vr(p,A){if(p.j.info("Error code "+A),A==2){var I=x(p.fb,p),H=p.Xa;const rt=!H;H=new Ke(H||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||sn(H,"https"),Un(H),rt?vo(H.toString(),I):Ls(H.toString(),I)}else Xe(2);p.G=0,p.l&&p.l.sa(A),Pd(p),Rd(p)}n.fb=function(p){p?(this.j.info("Successfully pinged google.com"),Xe(2)):(this.j.info("Failed to ping google.com"),Xe(1))};function Pd(p){if(p.G=0,p.ka=[],p.l){const A=en(p.h);(A.length!=0||p.i.length!=0)&&(S(p.ka,A),S(p.ka,p.i),p.h.i.length=0,C(p.i),p.i.length=0),p.l.ra()}}function Ld(p,A,I){var H=I instanceof Ke?ni(I):new Ke(I);if(H.g!="")A&&(H.g=A+"."+H.g),jn(H,H.s);else{var rt=u.location;H=rt.protocol,A=A?A+"."+rt.hostname:rt.hostname,rt=+rt.port;var vt=new Ke(null);H&&sn(vt,H),A&&(vt.g=A),rt&&jn(vt,rt),I&&(vt.l=I),H=vt}return I=p.D,A=p.ya,I&&A&&Te(H,I,A),Te(H,"VER",p.la),Eo(p,H),H}function Od(p,A,I){if(A&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return A=p.Ca&&!p.pa?new cn(new xa({eb:I})):new cn(p.pa),A.Ha(p.J),A}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ud(){}n=Ud.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ml(){}Ml.prototype.g=function(p,A){return new ki(p,A)};function ki(p,A){xt.call(this),this.g=new Sl(A),this.l=p,this.h=A&&A.messageUrlParams||null,p=A&&A.messageHeaders||null,A&&A.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=A&&A.initMessageHeaders||null,A&&A.messageContentType&&(p?p["X-WebChannel-Content-Type"]=A.messageContentType:p={"X-WebChannel-Content-Type":A.messageContentType}),A&&A.va&&(p?p["X-WebChannel-Client-Profile"]=A.va:p={"X-WebChannel-Client-Profile":A.va}),this.g.S=p,(p=A&&A.Sb)&&!O(p)&&(this.g.m=p),this.v=A&&A.supportsCrossDomainXhr||!1,this.u=A&&A.sendRawJson||!1,(A=A&&A.httpSessionIdParam)&&!O(A)&&(this.g.D=A,p=this.h,p!==null&&A in p&&(p=this.h,A in p&&delete p[A])),this.j=new ir(this)}T(ki,xt),ki.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ki.prototype.close=function(){fu(this.g)},ki.prototype.o=function(p){var A=this.g;if(typeof p=="string"){var I={};I.__data__=p,p=I}else this.u&&(I={},I.__data__=ie(p),p=I);A.i.push(new me(A.Ya++,p)),A.G==3&&wl(A)},ki.prototype.N=function(){this.g.l=null,delete this.j,fu(this.g),delete this.g,ki.aa.N.call(this)};function Vd(p){Yt.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var A=p.__sm__;if(A){t:{for(const I in A){p=I;break t}p=void 0}(this.i=p)&&(p=this.i,A=A!==null&&p in A?A[p]:void 0),this.data=A}else this.data=p}T(Vd,Yt);function Fd(){Ut.call(this),this.status=1}T(Fd,Ut);function ir(p){this.g=p}T(ir,Ud),ir.prototype.ua=function(){bt(this.g,"a")},ir.prototype.ta=function(p){bt(this.g,new Vd(p))},ir.prototype.sa=function(p){bt(this.g,new Fd)},ir.prototype.ra=function(){bt(this.g,"b")},Ml.prototype.createWebChannel=Ml.prototype.g,ki.prototype.send=ki.prototype.o,ki.prototype.open=ki.prototype.m,ki.prototype.close=ki.prototype.close,OC=function(){return new Ml},LC=function(){return fe()},PC=At,_x={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ts.NO_ERROR=0,ts.TIMEOUT=8,ts.HTTP_ERROR=6,Om=ts,ds.COMPLETE="complete",IC=ds,Gt.EventType=Pt,Pt.OPEN="a",Pt.CLOSE="b",Pt.ERROR="c",Pt.MESSAGE="d",xt.prototype.listen=xt.prototype.K,xh=Gt,cn.prototype.listenOnce=cn.prototype.L,cn.prototype.getLastError=cn.prototype.Ka,cn.prototype.getLastErrorCode=cn.prototype.Ba,cn.prototype.getStatus=cn.prototype.Z,cn.prototype.getResponseJson=cn.prototype.Oa,cn.prototype.getResponseText=cn.prototype.oa,cn.prototype.send=cn.prototype.ea,cn.prototype.setWithCredentials=cn.prototype.Ha,DC=cn}).apply(typeof pm<"u"?pm:typeof self<"u"?self:typeof window<"u"?window:{});const DA="@firebase/firestore",IA="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ui.UNAUTHENTICATED=new Ui(null),Ui.GOOGLE_CREDENTIALS=new Ui("google-credentials-uid"),Ui.FIRST_PARTY=new Ui("first-party-uid"),Ui.MOCK_USER=new Ui("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let su="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ul=new TC("@firebase/firestore");function vc(){return ul.logLevel}function $t(n,...t){if(ul.logLevel<=tn.DEBUG){const e=t.map(H_);ul.debug(`Firestore (${su}): ${n}`,...e)}}function ga(n,...t){if(ul.logLevel<=tn.ERROR){const e=t.map(H_);ul.error(`Firestore (${su}): ${n}`,...e)}}function Hc(n,...t){if(ul.logLevel<=tn.WARN){const e=t.map(H_);ul.warn(`Firestore (${su}): ${n}`,...e)}}function H_(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(n,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,UC(n,i,e)}function UC(n,t,e){let i=`FIRESTORE (${su}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw ga(i),new Error(i)}function un(n,t,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,n||UC(t,r,i)}function we(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class re extends iu{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class UH{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Ui.UNAUTHENTICATED))}shutdown(){}}class VH{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class FH{constructor(t){this.t=t,this.currentUser=Ui.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){un(this.o===void 0,42304);let i=this.i;const r=d=>this.i!==i?(i=this.i,e(d)):Promise.resolve();let o=new no;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new no,t.enqueueRetryable(()=>r(this.currentUser))};const l=()=>{const d=o;t.enqueueRetryable(async()=>{await d.promise,await r(this.currentUser)})},u=d=>{$t("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(d=>u(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?u(d):($t("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new no)}},0),l()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?($t("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(un(typeof i.accessToken=="string",31837,{l:i}),new VC(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return un(t===null||typeof t=="string",2055,{h:t}),new Ui(t)}}class BH{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=Ui.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class kH{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new BH(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable(()=>e(Ui.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class PA{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jH{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,bH(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){un(this.o===void 0,3512);const i=o=>{o.error!=null&&$t("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,$t("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};const r=o=>{$t("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?r(o):$t("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new PA(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(un(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new PA(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zH(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G_{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=zH(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+=t.charAt(r[o]%62))}return i}}function ze(n,t){return n<t?-1:n>t?1:0}function bx(n,t){const e=Math.min(n.length,t.length);for(let i=0;i<e;i++){const r=n.charAt(i),o=t.charAt(i);if(r!==o)return Kv(r)===Kv(o)?ze(r,o):Kv(r)?1:-1}return ze(n.length,t.length)}const HH=55296,GH=57343;function Kv(n){const t=n.charCodeAt(0);return t>=HH&&t<=GH}function Gc(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA="__name__";class fr{constructor(t,e,i){e===void 0?e=0:e>t.length&&xe(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&xe(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return fr.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof fr?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=fr.compareSegments(t.get(r),e.get(r));if(o!==0)return o}return ze(t.length,e.length)}static compareSegments(t,e){const i=fr.isNumericId(t),r=fr.isNumericId(e);return i&&!r?-1:!i&&r?1:i&&r?fr.extractNumericId(t).compare(fr.extractNumericId(e)):bx(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return eo.fromString(t.substring(4,t.length-2))}}class Sn extends fr{construct(t,e,i){return new Sn(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new re(Lt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new Sn(e)}static emptyPath(){return new Sn([])}}const WH=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wi extends fr{construct(t,e,i){return new wi(t,e,i)}static isValidIdentifier(t){return WH.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wi.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===LA}static keyField(){return new wi([LA])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(i.length===0)throw new re(Lt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let l=!1;for(;r<t.length;){const u=t[r];if(u==="\\"){if(r+1===t.length)throw new re(Lt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const d=t[r+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new re(Lt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=d,r+=2}else u==="`"?(l=!l,r++):u!=="."||l?(i+=u,r++):(o(),r++)}if(o(),l)throw new re(Lt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new wi(e)}static emptyPath(){return new wi([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(t){this.path=t}static fromPath(t){return new he(Sn.fromString(t))}static fromName(t){return new he(Sn.fromString(t).popFirst(5))}static empty(){return new he(Sn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Sn.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return Sn.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new he(new Sn(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FC(n,t,e){if(!e)throw new re(Lt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function qH(n,t,e,i){if(t===!0&&i===!0)throw new re(Lt.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function OA(n){if(!he.isDocumentKey(n))throw new re(Lt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function UA(n){if(he.isDocumentKey(n))throw new re(Lt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function BC(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function W_(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":xe(12329,{type:typeof n})}function Qh(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new re(Lt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=W_(n);throw new re(Lt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(n,t){const e={typeString:n};return t&&(e.value=t),e}function xd(n,t){if(!BC(n))throw new re(Lt.INVALID_ARGUMENT,"JSON must be an object");let e;for(const i in t)if(t[i]){const r=t[i].typeString,o="value"in t[i]?{value:t[i].value}:void 0;if(!(i in n)){e=`JSON missing required field: '${i}'`;break}const l=n[i];if(r&&typeof l!==r){e=`JSON field '${i}' must be a ${r}.`;break}if(o!==void 0&&l!==o.value){e=`Expected '${i}' field to equal '${o.value}'`;break}}if(e)throw new re(Lt.INVALID_ARGUMENT,e);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA=-62135596800,FA=1e6;class Tn{static now(){return Tn.fromMillis(Date.now())}static fromDate(t){return Tn.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*FA);return new Tn(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new re(Lt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new re(Lt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<VA)throw new re(Lt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new re(Lt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/FA}_compareTo(t){return this.seconds===t.seconds?ze(this.nanoseconds,t.nanoseconds):ze(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Tn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(xd(t,Tn._jsonSchema))return new Tn(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-VA;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Tn._jsonSchemaVersion="firestore/timestamp/1.0",Tn._jsonSchema={type:ti("string",Tn._jsonSchemaVersion),seconds:ti("number"),nanoseconds:ti("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(t){return new Se(t)}static min(){return new Se(new Tn(0,0))}static max(){return new Se(new Tn(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zh=-1;function XH(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Se.fromTimestamp(i===1e9?new Tn(e+1,0):new Tn(e,i));return new lo(r,he.empty(),t)}function YH(n){return new lo(n.readTime,n.key,Zh)}class lo{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new lo(Se.min(),he.empty(),Zh)}static max(){return new lo(Se.max(),he.empty(),Zh)}}function KH(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=he.comparator(n.documentKey,t.documentKey),e!==0?e:ze(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $H="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class QH{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ru(n){if(n.code!==Lt.FAILED_PRECONDITION||n.message!==$H)throw n;$t("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Dt((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof Dt?e:Dt.resolve(e)}catch(e){return Dt.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):Dt.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):Dt.reject(e)}static resolve(t){return new Dt((e,i)=>{e(t)})}static reject(t){return new Dt((e,i)=>{i(t)})}static waitFor(t){return new Dt((e,i)=>{let r=0,o=0,l=!1;t.forEach(u=>{++r,u.next(()=>{++o,l&&o===r&&e()},d=>i(d))}),l=!0,o===r&&e()})}static or(t){let e=Dt.resolve(!1);for(const i of t)e=e.next(r=>r?Dt.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,o)=>{i.push(e.call(this,r,o))}),this.waitFor(i)}static mapArray(t,e){return new Dt((i,r)=>{const o=t.length,l=new Array(o);let u=0;for(let d=0;d<o;d++){const f=d;e(t[f]).next(g=>{l[f]=g,++u,u===o&&i(l)},g=>r(g))}})}static doWhile(t,e){return new Dt((i,r)=>{const o=()=>{t()===!0?e().next(()=>{o()},r):i()};o()})}}function ZH(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function au(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>e.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Lp.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_=-1;function Op(n){return n==null}function ap(n){return n===0&&1/n==-1/0}function JH(n){return typeof n=="number"&&Number.isInteger(n)&&!ap(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC="";function t7(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=BA(t)),t=e7(n.get(e),t);return BA(t)}function e7(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="";break;case kC:e+="";break;default:e+=o}}return e}function BA(n){return n+kC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kA(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function ml(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function jC(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(t,e){this.comparator=t,this.root=e||Ti.EMPTY}insert(t,e){return new Pn(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Ti.BLACK,null,null))}remove(t){return new Pn(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ti.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new gm(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new gm(this.root,t,this.comparator,!1)}getReverseIterator(){return new gm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new gm(this.root,t,this.comparator,!0)}}class gm{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ti{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=i??Ti.RED,this.left=r??Ti.EMPTY,this.right=o??Ti.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new Ti(t??this.key,e??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):o===0?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ti.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),e(t,r.key)===0){if(r.right.isEmpty())return Ti.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ti.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ti.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xe(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw xe(27949);return t+(this.isRed()?0:1)}}Ti.EMPTY=null,Ti.RED=!0,Ti.BLACK=!1;Ti.EMPTY=new class{constructor(){this.size=0}get key(){throw xe(57766)}get value(){throw xe(16141)}get color(){throw xe(16727)}get left(){throw xe(29726)}get right(){throw xe(36894)}copy(t,e,i,r,o){return this}insert(t,e,i){return new Ti(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(t){this.comparator=t,this.data=new Pn(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new jA(this.data.getIterator())}getIteratorFrom(t){return new jA(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof li)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new li(this.comparator);return e.data=t,e}}class jA{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(t){this.fields=t,t.sort(wi.comparator)}static empty(){return new Gs([])}unionWith(t){let e=new li(wi.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new Gs(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Gc(this.fields,t.fields,(e,i)=>e.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new zC("Invalid base64 string: "+o):o}}(t);return new Mi(e)}static fromUint8Array(t){const e=function(r){let o="";for(let l=0;l<r.length;++l)o+=String.fromCharCode(r[l]);return o}(t);return new Mi(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return ze(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Mi.EMPTY_BYTE_STRING=new Mi("");const n7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function co(n){if(un(!!n,39018),typeof n=="string"){let t=0;const e=n7.exec(n);if(un(!!e,46558,{timestamp:n}),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Wn(n.seconds),nanos:Wn(n.nanos)}}function Wn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function uo(n){return typeof n=="string"?Mi.fromBase64String(n):Mi.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC="server_timestamp",GC="__type__",WC="__previous_value__",qC="__local_write_time__";function X_(n){return(n?.mapValue?.fields||{})[GC]?.stringValue===HC}function Up(n){const t=n.mapValue.fields[WC];return X_(t)?Up(t):t}function Jh(n){const t=co(n.mapValue.fields[qC].timestampValue);return new Tn(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i7{constructor(t,e,i,r,o,l,u,d,f,g){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=d,this.useFetchStreams=f,this.isUsingEmulator=g}}const op="(default)";class td{constructor(t,e){this.projectId=t,this.database=e||op}static empty(){return new td("","")}get isDefaultDatabase(){return this.database===op}isEqual(t){return t instanceof td&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC="__type__",s7="__max__",vm={mapValue:{}},YC="__vector__",lp="value";function ho(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?X_(n)?4:a7(n)?9007199254740991:r7(n)?10:11:xe(28295,{value:n})}function Ar(n,t){if(n===t)return!0;const e=ho(n);if(e!==ho(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Jh(n).isEqual(Jh(t));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const l=co(r.timestampValue),u=co(o.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return function(r,o){return uo(r.bytesValue).isEqual(uo(o.bytesValue))}(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return function(r,o){return Wn(r.geoPointValue.latitude)===Wn(o.geoPointValue.latitude)&&Wn(r.geoPointValue.longitude)===Wn(o.geoPointValue.longitude)}(n,t);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Wn(r.integerValue)===Wn(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const l=Wn(r.doubleValue),u=Wn(o.doubleValue);return l===u?ap(l)===ap(u):isNaN(l)&&isNaN(u)}return!1}(n,t);case 9:return Gc(n.arrayValue.values||[],t.arrayValue.values||[],Ar);case 10:case 11:return function(r,o){const l=r.mapValue.fields||{},u=o.mapValue.fields||{};if(kA(l)!==kA(u))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(u[d]===void 0||!Ar(l[d],u[d])))return!1;return!0}(n,t);default:return xe(52216,{left:n})}}function ed(n,t){return(n.values||[]).find(e=>Ar(e,t))!==void 0}function Wc(n,t){if(n===t)return 0;const e=ho(n),i=ho(t);if(e!==i)return ze(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return ze(n.booleanValue,t.booleanValue);case 2:return function(o,l){const u=Wn(o.integerValue||o.doubleValue),d=Wn(l.integerValue||l.doubleValue);return u<d?-1:u>d?1:u===d?0:isNaN(u)?isNaN(d)?0:-1:1}(n,t);case 3:return zA(n.timestampValue,t.timestampValue);case 4:return zA(Jh(n),Jh(t));case 5:return bx(n.stringValue,t.stringValue);case 6:return function(o,l){const u=uo(o),d=uo(l);return u.compareTo(d)}(n.bytesValue,t.bytesValue);case 7:return function(o,l){const u=o.split("/"),d=l.split("/");for(let f=0;f<u.length&&f<d.length;f++){const g=ze(u[f],d[f]);if(g!==0)return g}return ze(u.length,d.length)}(n.referenceValue,t.referenceValue);case 8:return function(o,l){const u=ze(Wn(o.latitude),Wn(l.latitude));return u!==0?u:ze(Wn(o.longitude),Wn(l.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return HA(n.arrayValue,t.arrayValue);case 10:return function(o,l){const u=o.fields||{},d=l.fields||{},f=u[lp]?.arrayValue,g=d[lp]?.arrayValue,y=ze(f?.values?.length||0,g?.values?.length||0);return y!==0?y:HA(f,g)}(n.mapValue,t.mapValue);case 11:return function(o,l){if(o===vm.mapValue&&l===vm.mapValue)return 0;if(o===vm.mapValue)return 1;if(l===vm.mapValue)return-1;const u=o.fields||{},d=Object.keys(u),f=l.fields||{},g=Object.keys(f);d.sort(),g.sort();for(let y=0;y<d.length&&y<g.length;++y){const x=bx(d[y],g[y]);if(x!==0)return x;const E=Wc(u[d[y]],f[g[y]]);if(E!==0)return E}return ze(d.length,g.length)}(n.mapValue,t.mapValue);default:throw xe(23264,{he:e})}}function zA(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return ze(n,t);const e=co(n),i=co(t),r=ze(e.seconds,i.seconds);return r!==0?r:ze(e.nanos,i.nanos)}function HA(n,t){const e=n.values||[],i=t.values||[];for(let r=0;r<e.length&&r<i.length;++r){const o=Wc(e[r],i[r]);if(o)return o}return ze(e.length,i.length)}function qc(n){return Ex(n)}function Ex(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const i=co(e);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(e){return uo(e).toBase64()}(n.bytesValue):"referenceValue"in n?function(e){return he.fromName(e).toString()}(n.referenceValue):"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let i="[",r=!0;for(const o of e.values||[])r?r=!1:i+=",",i+=Ex(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(e){const i=Object.keys(e.fields||{}).sort();let r="{",o=!0;for(const l of i)o?o=!1:r+=",",r+=`${l}:${Ex(e.fields[l])}`;return r+"}"}(n.mapValue):xe(61005,{value:n})}function Um(n){switch(ho(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Up(n);return t?16+Um(t):16;case 5:return 2*n.stringValue.length;case 6:return uo(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,o)=>r+Um(o),0)}(n.arrayValue);case 10:case 11:return function(i){let r=0;return ml(i.fields,(o,l)=>{r+=o.length+Um(l)}),r}(n.mapValue);default:throw xe(13486,{value:n})}}function Sx(n){return!!n&&"integerValue"in n}function Y_(n){return!!n&&"arrayValue"in n}function GA(n){return!!n&&"nullValue"in n}function WA(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Vm(n){return!!n&&"mapValue"in n}function r7(n){return(n?.mapValue?.fields||{})[XC]?.stringValue===YC}function Nh(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return ml(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=Nh(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Nh(n.arrayValue.values[e]);return t}return{...n}}function a7(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===s7}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(t){this.value=t}static empty(){return new Ns({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!Vm(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Nh(e)}setAll(t){let e=wi.emptyPath(),i={},r=[];t.forEach((l,u)=>{if(!e.isImmediateParentOf(u)){const d=this.getFieldsMap(e);this.applyChanges(d,i,r),i={},r=[],e=u.popLast()}l?i[u.lastSegment()]=Nh(l):r.push(u.lastSegment())});const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());Vm(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Ar(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];Vm(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){ml(e,(r,o)=>t[r]=o);for(const r of i)delete t[r]}clone(){return new Ns(Nh(this.value))}}function KC(n){const t=[];return ml(n.fields,(e,i)=>{const r=new wi([e]);if(Vm(i)){const o=KC(i.mapValue).fields;if(o.length===0)t.push(r);else for(const l of o)t.push(r.child(l))}else t.push(r)}),new Gs(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(t,e,i,r,o,l,u){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=o,this.data=l,this.documentState=u}static newInvalidDocument(t){return new Vi(t,0,Se.min(),Se.min(),Se.min(),Ns.empty(),0)}static newFoundDocument(t,e,i,r){return new Vi(t,1,e,Se.min(),i,r,0)}static newNoDocument(t,e){return new Vi(t,2,e,Se.min(),Se.min(),Ns.empty(),0)}static newUnknownDocument(t,e){return new Vi(t,3,e,Se.min(),Se.min(),Ns.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ns.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ns.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Vi&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Vi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(t,e){this.position=t,this.inclusive=e}}function qA(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],l=n.position[r];if(o.field.isKeyField()?i=he.comparator(he.fromName(l.referenceValue),e.key):i=Wc(l,e.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function XA(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Ar(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(t,e="asc"){this.field=t,this.dir=e}}function o7(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{}class oi extends $C{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new c7(t,e,i):e==="array-contains"?new d7(t,i):e==="in"?new f7(t,i):e==="not-in"?new m7(t,i):e==="array-contains-any"?new p7(t,i):new oi(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new u7(t,i):new h7(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Wc(e,this.value)):e!==null&&ho(this.value)===ho(e)&&this.matchesComparison(Wc(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mr extends $C{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new Mr(t,e)}matches(t){return QC(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function QC(n){return n.op==="and"}function ZC(n){return l7(n)&&QC(n)}function l7(n){for(const t of n.filters)if(t instanceof Mr)return!1;return!0}function Tx(n){if(n instanceof oi)return n.field.canonicalString()+n.op.toString()+qc(n.value);if(ZC(n))return n.filters.map(t=>Tx(t)).join(",");{const t=n.filters.map(e=>Tx(e)).join(",");return`${n.op}(${t})`}}function JC(n,t){return n instanceof oi?function(i,r){return r instanceof oi&&i.op===r.op&&i.field.isEqual(r.field)&&Ar(i.value,r.value)}(n,t):n instanceof Mr?function(i,r){return r instanceof Mr&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((o,l,u)=>o&&JC(l,r.filters[u]),!0):!1}(n,t):void xe(19439)}function tN(n){return n instanceof oi?function(e){return`${e.field.canonicalString()} ${e.op} ${qc(e.value)}`}(n):n instanceof Mr?function(e){return e.op.toString()+" {"+e.getFilters().map(tN).join(" ,")+"}"}(n):"Filter"}class c7 extends oi{constructor(t,e,i){super(t,e,i),this.key=he.fromName(i.referenceValue)}matches(t){const e=he.comparator(t.key,this.key);return this.matchesComparison(e)}}class u7 extends oi{constructor(t,e){super(t,"in",e),this.keys=eN("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class h7 extends oi{constructor(t,e){super(t,"not-in",e),this.keys=eN("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function eN(n,t){return(t.arrayValue?.values||[]).map(e=>he.fromName(e.referenceValue))}class d7 extends oi{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Y_(e)&&ed(e.arrayValue,this.value)}}class f7 extends oi{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&ed(this.value.arrayValue,e)}}class m7 extends oi{constructor(t,e){super(t,"not-in",e)}matches(t){if(ed(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!ed(this.value.arrayValue,e)}}class p7 extends oi{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Y_(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>ed(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g7{constructor(t,e=null,i=[],r=[],o=null,l=null,u=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=l,this.endAt=u,this.Te=null}}function YA(n,t=null,e=[],i=[],r=null,o=null,l=null){return new g7(n,t,e,i,r,o,l)}function K_(n){const t=we(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>Tx(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),Op(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>qc(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>qc(i)).join(",")),t.Te=e}return t.Te}function $_(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!o7(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!JC(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!XA(n.startAt,t.startAt)&&XA(n.endAt,t.endAt)}function wx(n){return he.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(t,e=null,i=[],r=[],o=null,l="F",u=null,d=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=l,this.startAt=u,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function v7(n,t,e,i,r,o,l,u){return new Vp(n,t,e,i,r,o,l,u)}function nN(n){return new Vp(n)}function KA(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function y7(n){return n.collectionGroup!==null}function Dh(n){const t=we(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const o of t.explicitOrderBy)t.Ie.push(o),e.add(o.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new li(wi.comparator);return l.filters.forEach(d=>{d.getFlattenedFilters().forEach(f=>{f.isInequality()&&(u=u.add(f.field))})}),u})(t).forEach(o=>{e.has(o.canonicalString())||o.isKeyField()||t.Ie.push(new up(o,i))}),e.has(wi.keyField().canonicalString())||t.Ie.push(new up(wi.keyField(),i))}return t.Ie}function br(n){const t=we(n);return t.Ee||(t.Ee=x7(t,Dh(n))),t.Ee}function x7(n,t){if(n.limitType==="F")return YA(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(r=>{const o=r.dir==="desc"?"asc":"desc";return new up(r.field,o)});const e=n.endAt?new cp(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new cp(n.startAt.position,n.startAt.inclusive):null;return YA(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function Ax(n,t,e){return new Vp(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Fp(n,t){return $_(br(n),br(t))&&n.limitType===t.limitType}function iN(n){return`${K_(br(n))}|lt:${n.limitType}`}function yc(n){return`Query(target=${function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map(r=>tN(r)).join(", ")}]`),Op(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map(r=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(r)).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(r=>qc(r)).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(r=>qc(r)).join(",")),`Target(${i})`}(br(n))}; limitType=${n.limitType})`}function Bp(n,t){return t.isFoundDocument()&&function(i,r){const o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):he.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(n,t)&&function(i,r){for(const o of Dh(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0}(n,t)&&function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0}(n,t)&&function(i,r){return!(i.startAt&&!function(l,u,d){const f=qA(l,u,d);return l.inclusive?f<=0:f<0}(i.startAt,Dh(i),r)||i.endAt&&!function(l,u,d){const f=qA(l,u,d);return l.inclusive?f>=0:f>0}(i.endAt,Dh(i),r))}(n,t)}function _7(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function sN(n){return(t,e)=>{let i=!1;for(const r of Dh(n)){const o=b7(r,t,e);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function b7(n,t,e){const i=n.field.isKeyField()?he.comparator(t.key,e.key):function(o,l,u){const d=l.data.field(o),f=u.data.field(o);return d!==null&&f!==null?Wc(d,f):xe(42886)}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return xe(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[r,o]of i)if(this.equalsFn(r,t))return o}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){ml(this.inner,(e,i)=>{for(const[r,o]of i)t(r,o)})}isEmpty(){return jC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E7=new Pn(he.comparator);function va(){return E7}const rN=new Pn(he.comparator);function _h(...n){let t=rN;for(const e of n)t=t.insert(e.key,e);return t}function aN(n){let t=rN;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function il(){return Ih()}function oN(){return Ih()}function Ih(){return new pl(n=>n.toString(),(n,t)=>n.isEqual(t))}const S7=new Pn(he.comparator),T7=new li(he.comparator);function He(...n){let t=T7;for(const e of n)t=t.add(e);return t}const w7=new li(ze);function A7(){return w7}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q_(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ap(t)?"-0":t}}function lN(n){return{integerValue:""+n}}function M7(n,t){return JH(t)?lN(t):Q_(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(){this._=void 0}}function R7(n,t,e){return n instanceof hp?function(r,o){const l={fields:{[GC]:{stringValue:HC},[qC]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&X_(o)&&(o=Up(o)),o&&(l.fields[WC]=o),{mapValue:l}}(e,t):n instanceof nd?uN(n,t):n instanceof id?hN(n,t):function(r,o){const l=cN(r,o),u=$A(l)+$A(r.Ae);return Sx(l)&&Sx(r.Ae)?lN(u):Q_(r.serializer,u)}(n,t)}function C7(n,t,e){return n instanceof nd?uN(n,t):n instanceof id?hN(n,t):e}function cN(n,t){return n instanceof dp?function(i){return Sx(i)||function(o){return!!o&&"doubleValue"in o}(i)}(t)?t:{integerValue:0}:null}class hp extends kp{}class nd extends kp{constructor(t){super(),this.elements=t}}function uN(n,t){const e=dN(t);for(const i of n.elements)e.some(r=>Ar(r,i))||e.push(i);return{arrayValue:{values:e}}}class id extends kp{constructor(t){super(),this.elements=t}}function hN(n,t){let e=dN(t);for(const i of n.elements)e=e.filter(r=>!Ar(r,i));return{arrayValue:{values:e}}}class dp extends kp{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function $A(n){return Wn(n.integerValue||n.doubleValue)}function dN(n){return Y_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function N7(n,t){return n.field.isEqual(t.field)&&function(i,r){return i instanceof nd&&r instanceof nd||i instanceof id&&r instanceof id?Gc(i.elements,r.elements,Ar):i instanceof dp&&r instanceof dp?Ar(i.Ae,r.Ae):i instanceof hp&&r instanceof hp}(n.transform,t.transform)}class D7{constructor(t,e){this.version=t,this.transformResults=e}}class Er{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Er}static exists(t){return new Er(void 0,t)}static updateTime(t){return new Er(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Fm(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class jp{}function fN(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new Z_(n.key,Er.none()):new _d(n.key,n.data,Er.none());{const e=n.data,i=Ns.empty();let r=new li(wi.comparator);for(let o of t.fields)if(!r.has(o)){let l=e.field(o);l===null&&o.length>1&&(o=o.popLast(),l=e.field(o)),l===null?i.delete(o):i.set(o,l),r=r.add(o)}return new gl(n.key,i,new Gs(r.toArray()),Er.none())}}function I7(n,t,e){n instanceof _d?function(r,o,l){const u=r.value.clone(),d=ZA(r.fieldTransforms,o,l.transformResults);u.setAll(d),o.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(n,t,e):n instanceof gl?function(r,o,l){if(!Fm(r.precondition,o))return void o.convertToUnknownDocument(l.version);const u=ZA(r.fieldTransforms,o,l.transformResults),d=o.data;d.setAll(mN(r)),d.setAll(u),o.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(n,t,e):function(r,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,t,e)}function Ph(n,t,e,i){return n instanceof _d?function(o,l,u,d){if(!Fm(o.precondition,l))return u;const f=o.value.clone(),g=JA(o.fieldTransforms,d,l);return f.setAll(g),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null}(n,t,e,i):n instanceof gl?function(o,l,u,d){if(!Fm(o.precondition,l))return u;const f=JA(o.fieldTransforms,d,l),g=l.data;return g.setAll(mN(o)),g.setAll(f),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(y=>y.field))}(n,t,e,i):function(o,l,u){return Fm(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u}(n,t,e)}function P7(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=cN(i.transform,r||null);o!=null&&(e===null&&(e=Ns.empty()),e.set(i.field,o))}return e||null}function QA(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Gc(i,r,(o,l)=>N7(o,l))}(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class _d extends jp{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class gl extends jp{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function mN(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function ZA(n,t,e){const i=new Map;un(n.length===e.length,32656,{Re:e.length,Ve:n.length});for(let r=0;r<e.length;r++){const o=n[r],l=o.transform,u=t.data.field(o.field);i.set(o.field,C7(l,u,e[r]))}return i}function JA(n,t,e){const i=new Map;for(const r of n){const o=r.transform,l=e.data.field(r.field);i.set(r.field,R7(o,l,t))}return i}class Z_ extends jp{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class L7 extends jp{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O7{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&I7(o,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=Ph(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=Ph(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=oN();return this.mutations.forEach(r=>{const o=t.get(r.key),l=o.overlayedDocument;let u=this.applyToLocalView(l,o.mutatedFields);u=e.has(r.key)?null:u;const d=fN(l,u);d!==null&&i.set(r.key,d),l.isValidDocument()||l.convertToNoDocument(Se.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),He())}isEqual(t){return this.batchId===t.batchId&&Gc(this.mutations,t.mutations,(e,i)=>QA(e,i))&&Gc(this.baseMutations,t.baseMutations,(e,i)=>QA(e,i))}}class J_{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){un(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let r=function(){return S7}();const o=t.mutations;for(let l=0;l<o.length;l++)r=r.insert(o[l].key,i[l].version);return new J_(t,e,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U7{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V7{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zn,Je;function F7(n){switch(n){case Lt.OK:return xe(64938);case Lt.CANCELLED:case Lt.UNKNOWN:case Lt.DEADLINE_EXCEEDED:case Lt.RESOURCE_EXHAUSTED:case Lt.INTERNAL:case Lt.UNAVAILABLE:case Lt.UNAUTHENTICATED:return!1;case Lt.INVALID_ARGUMENT:case Lt.NOT_FOUND:case Lt.ALREADY_EXISTS:case Lt.PERMISSION_DENIED:case Lt.FAILED_PRECONDITION:case Lt.ABORTED:case Lt.OUT_OF_RANGE:case Lt.UNIMPLEMENTED:case Lt.DATA_LOSS:return!0;default:return xe(15467,{code:n})}}function pN(n){if(n===void 0)return ga("GRPC error has no .code"),Lt.UNKNOWN;switch(n){case Zn.OK:return Lt.OK;case Zn.CANCELLED:return Lt.CANCELLED;case Zn.UNKNOWN:return Lt.UNKNOWN;case Zn.DEADLINE_EXCEEDED:return Lt.DEADLINE_EXCEEDED;case Zn.RESOURCE_EXHAUSTED:return Lt.RESOURCE_EXHAUSTED;case Zn.INTERNAL:return Lt.INTERNAL;case Zn.UNAVAILABLE:return Lt.UNAVAILABLE;case Zn.UNAUTHENTICATED:return Lt.UNAUTHENTICATED;case Zn.INVALID_ARGUMENT:return Lt.INVALID_ARGUMENT;case Zn.NOT_FOUND:return Lt.NOT_FOUND;case Zn.ALREADY_EXISTS:return Lt.ALREADY_EXISTS;case Zn.PERMISSION_DENIED:return Lt.PERMISSION_DENIED;case Zn.FAILED_PRECONDITION:return Lt.FAILED_PRECONDITION;case Zn.ABORTED:return Lt.ABORTED;case Zn.OUT_OF_RANGE:return Lt.OUT_OF_RANGE;case Zn.UNIMPLEMENTED:return Lt.UNIMPLEMENTED;case Zn.DATA_LOSS:return Lt.DATA_LOSS;default:return xe(39323,{code:n})}}(Je=Zn||(Zn={}))[Je.OK=0]="OK",Je[Je.CANCELLED=1]="CANCELLED",Je[Je.UNKNOWN=2]="UNKNOWN",Je[Je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Je[Je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Je[Je.NOT_FOUND=5]="NOT_FOUND",Je[Je.ALREADY_EXISTS=6]="ALREADY_EXISTS",Je[Je.PERMISSION_DENIED=7]="PERMISSION_DENIED",Je[Je.UNAUTHENTICATED=16]="UNAUTHENTICATED",Je[Je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Je[Je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Je[Je.ABORTED=10]="ABORTED",Je[Je.OUT_OF_RANGE=11]="OUT_OF_RANGE",Je[Je.UNIMPLEMENTED=12]="UNIMPLEMENTED",Je[Je.INTERNAL=13]="INTERNAL",Je[Je.UNAVAILABLE=14]="UNAVAILABLE",Je[Je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B7(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k7=new eo([4294967295,4294967295],0);function t2(n){const t=B7().encode(n),e=new NC;return e.update(t),new Uint8Array(e.digest())}function e2(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new eo([e,i],0),new eo([r,o],0)]}class tb{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new bh(`Invalid padding: ${e}`);if(i<0)throw new bh(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new bh(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new bh(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=eo.fromNumber(this.ge)}ye(t,e,i){let r=t.add(e.multiply(eo.fromNumber(i)));return r.compare(k7)===1&&(r=new eo([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=t2(t),[i,r]=e2(e);for(let o=0;o<this.hashCount;o++){const l=this.ye(i,r,o);if(!this.we(l))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),l=new tb(o,r,e);return i.forEach(u=>l.insert(u)),l}insert(t){if(this.ge===0)return;const e=t2(t),[i,r]=e2(e);for(let o=0;o<this.hashCount;o++){const l=this.ye(i,r,o);this.Se(l)}}Se(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class bh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,bd.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new zp(Se.min(),r,new Pn(ze),va(),He())}}class bd{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new bd(i,e,He(),He(),He())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(t,e,i,r){this.be=t,this.removedTargetIds=e,this.key=i,this.De=r}}class gN{constructor(t,e){this.targetId=t,this.Ce=e}}class vN{constructor(t,e,i=Mi.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class n2{constructor(){this.ve=0,this.Fe=i2(),this.Me=Mi.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=He(),e=He(),i=He();return this.Fe.forEach((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:xe(38017,{changeType:o})}}),new bd(this.Me,this.xe,t,e,i)}qe(){this.Oe=!1,this.Fe=i2()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,un(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class j7{constructor(t){this.Ge=t,this.ze=new Map,this.je=va(),this.Je=ym(),this.He=ym(),this.Ye=new Pn(ze)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,e=>{const i=this.nt(e);switch(t.state){case 0:this.rt(e)&&i.Le(t.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(t.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(i.We(),i.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),i.Le(t.resumeToken));break;default:xe(56790,{state:t.state})}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach((i,r)=>{this.rt(r)&&e(r)})}st(t){const e=t.targetId,i=t.Ce.count,r=this.ot(e);if(r){const o=r.target;if(wx(o))if(i===0){const l=new he(o.path);this.et(e,l,Vi.newNoDocument(l,Se.min()))}else un(i===1,20013,{expectedCount:i});else{const l=this._t(e);if(l!==i){const u=this.ut(t),d=u?this.ct(u,t,l):1;if(d!==0){this.it(e);const f=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,f)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=e;let l,u;try{l=uo(i).toUint8Array()}catch(d){if(d instanceof zC)return Hc("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{u=new tb(l,r,o)}catch(d){return Hc(d instanceof bh?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return u.ge===0?null:u}ct(t,e,i){return e.Ce.count===i-this.Pt(t,e.targetId)?0:2}Pt(t,e){const i=this.Ge.getRemoteKeysForTarget(e);let r=0;return i.forEach(o=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;t.mightContain(u)||(this.et(e,o,null),r++)}),r}Tt(t){const e=new Map;this.ze.forEach((o,l)=>{const u=this.ot(l);if(u){if(o.current&&wx(u.target)){const d=new he(u.target.path);this.It(d).has(l)||this.Et(l,d)||this.et(l,d,Vi.newNoDocument(d,t))}o.Be&&(e.set(l,o.ke()),o.qe())}});let i=He();this.He.forEach((o,l)=>{let u=!0;l.forEachWhile(d=>{const f=this.ot(d);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(i=i.add(o))}),this.je.forEach((o,l)=>l.setReadTime(t));const r=new zp(t,e,this.Ye,this.je,i);return this.je=va(),this.Je=ym(),this.He=ym(),this.Ye=new Pn(ze),r}Xe(t,e){if(!this.rt(t))return;const i=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,i),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,i){if(!this.rt(t))return;const r=this.nt(t);this.Et(t,e)?r.Qe(e,1):r.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),i&&(this.je=this.je.insert(e,i))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new n2,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new li(ze),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new li(ze),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||$t("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new n2),this.Ge.getRemoteKeysForTarget(t).forEach(e=>{this.et(t,e,null)})}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function ym(){return new Pn(he.comparator)}function i2(){return new Pn(he.comparator)}const z7={asc:"ASCENDING",desc:"DESCENDING"},H7={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},G7={and:"AND",or:"OR"};class W7{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Mx(n,t){return n.useProto3Json||Op(t)?t:{value:t}}function fp(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function yN(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function q7(n,t){return fp(n,t.toTimestamp())}function Sr(n){return un(!!n,49232),Se.fromTimestamp(function(e){const i=co(e);return new Tn(i.seconds,i.nanos)}(n))}function eb(n,t){return Rx(n,t).canonicalString()}function Rx(n,t){const e=function(r){return new Sn(["projects",r.projectId,"databases",r.database])}(n).child("documents");return t===void 0?e:e.child(t)}function xN(n){const t=Sn.fromString(n);return un(TN(t),10190,{key:t.toString()}),t}function Cx(n,t){return eb(n.databaseId,t.path)}function $v(n,t){const e=xN(t);if(e.get(1)!==n.databaseId.projectId)throw new re(Lt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new re(Lt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new he(bN(e))}function _N(n,t){return eb(n.databaseId,t)}function X7(n){const t=xN(n);return t.length===4?Sn.emptyPath():bN(t)}function Nx(n){return new Sn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function bN(n){return un(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function s2(n,t,e){return{name:Cx(n,t),fields:e.value.mapValue.fields}}function Y7(n,t){let e;if("targetChange"in t){t.targetChange;const i=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:xe(39313,{state:f})}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],o=function(f,g){return f.useProto3Json?(un(g===void 0||typeof g=="string",58123),Mi.fromBase64String(g||"")):(un(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),Mi.fromUint8Array(g||new Uint8Array))}(n,t.targetChange.resumeToken),l=t.targetChange.cause,u=l&&function(f){const g=f.code===void 0?Lt.UNKNOWN:pN(f.code);return new re(g,f.message||"")}(l);e=new vN(i,r,o,u||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=$v(n,i.document.name),o=Sr(i.document.updateTime),l=i.document.createTime?Sr(i.document.createTime):Se.min(),u=new Ns({mapValue:{fields:i.document.fields}}),d=Vi.newFoundDocument(r,o,l,u),f=i.targetIds||[],g=i.removedTargetIds||[];e=new Bm(f,g,d.key,d)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=$v(n,i.document),o=i.readTime?Sr(i.readTime):Se.min(),l=Vi.newNoDocument(r,o),u=i.removedTargetIds||[];e=new Bm([],u,l.key,l)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=$v(n,i.document),o=i.removedTargetIds||[];e=new Bm([],o,r,null)}else{if(!("filter"in t))return xe(11601,{Rt:t});{t.filter;const i=t.filter;i.targetId;const{count:r=0,unchangedNames:o}=i,l=new V7(r,o),u=i.targetId;e=new gN(u,l)}}return e}function K7(n,t){let e;if(t instanceof _d)e={update:s2(n,t.key,t.value)};else if(t instanceof Z_)e={delete:Cx(n,t.key)};else if(t instanceof gl)e={update:s2(n,t.key,t.data),updateMask:sG(t.fieldMask)};else{if(!(t instanceof L7))return xe(16599,{Vt:t.type});e={verify:Cx(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(o,l){const u=l.transform;if(u instanceof hp)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof nd)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof id)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof dp)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw xe(20930,{transform:l.transform})}(0,i))),t.precondition.isNone||(e.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:q7(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:xe(27497)}(n,t.precondition)),e}function $7(n,t){return n&&n.length>0?(un(t!==void 0,14353),n.map(e=>function(r,o){let l=r.updateTime?Sr(r.updateTime):Sr(o);return l.isEqual(Se.min())&&(l=Sr(o)),new D7(l,r.transformResults||[])}(e,t))):[]}function Q7(n,t){return{documents:[_N(n,t.path)]}}function Z7(n,t){const e={structuredQuery:{}},i=t.path;let r;t.collectionGroup!==null?(r=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=_N(n,r);const o=function(f){if(f.length!==0)return SN(Mr.create(f,"and"))}(t.filters);o&&(e.structuredQuery.where=o);const l=function(f){if(f.length!==0)return f.map(g=>function(x){return{field:xc(x.field),direction:eG(x.dir)}}(g))}(t.orderBy);l&&(e.structuredQuery.orderBy=l);const u=Mx(n,t.limit);return u!==null&&(e.structuredQuery.limit=u),t.startAt&&(e.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(t.endAt)),{ft:e,parent:r}}function J7(n){let t=X7(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){un(i===1,65062);const g=e.from[0];g.allDescendants?r=g.collectionId:t=t.child(g.collectionId)}let o=[];e.where&&(o=function(y){const x=EN(y);return x instanceof Mr&&ZC(x)?x.getFilters():[x]}(e.where));let l=[];e.orderBy&&(l=function(y){return y.map(x=>function(T){return new up(_c(T.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(x))}(e.orderBy));let u=null;e.limit&&(u=function(y){let x;return x=typeof y=="object"?y.value:y,Op(x)?null:x}(e.limit));let d=null;e.startAt&&(d=function(y){const x=!!y.before,E=y.values||[];return new cp(E,x)}(e.startAt));let f=null;return e.endAt&&(f=function(y){const x=!y.before,E=y.values||[];return new cp(E,x)}(e.endAt)),v7(t,r,l,o,u,"F",d,f)}function tG(n,t){const e=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe(28987,{purpose:r})}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function EN(n){return n.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=_c(e.unaryFilter.field);return oi.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=_c(e.unaryFilter.field);return oi.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=_c(e.unaryFilter.field);return oi.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=_c(e.unaryFilter.field);return oi.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xe(61313);default:return xe(60726)}}(n):n.fieldFilter!==void 0?function(e){return oi.create(_c(e.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xe(58110);default:return xe(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(e){return Mr.create(e.compositeFilter.filters.map(i=>EN(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return xe(1026)}}(e.compositeFilter.op))}(n):xe(30097,{filter:n})}function eG(n){return z7[n]}function nG(n){return H7[n]}function iG(n){return G7[n]}function xc(n){return{fieldPath:n.canonicalString()}}function _c(n){return wi.fromServerFormat(n.fieldPath)}function SN(n){return n instanceof oi?function(e){if(e.op==="=="){if(WA(e.value))return{unaryFilter:{field:xc(e.field),op:"IS_NAN"}};if(GA(e.value))return{unaryFilter:{field:xc(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(WA(e.value))return{unaryFilter:{field:xc(e.field),op:"IS_NOT_NAN"}};if(GA(e.value))return{unaryFilter:{field:xc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xc(e.field),op:nG(e.op),value:e.value}}}(n):n instanceof Mr?function(e){const i=e.getFilters().map(r=>SN(r));return i.length===1?i[0]:{compositeFilter:{op:iG(e.op),filters:i}}}(n):xe(54877,{filter:n})}function sG(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function TN(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(t,e,i,r,o=Se.min(),l=Se.min(),u=Mi.EMPTY_BYTE_STRING,d=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=d}withSequenceNumber(t){return new Ka(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Ka(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ka(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ka(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rG{constructor(t){this.yt=t}}function aG(n){const t=J7({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Ax(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oG{constructor(){this.Cn=new lG}addToCollectionParentIndex(t,e){return this.Cn.add(e),Dt.resolve()}getCollectionParents(t,e){return Dt.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return Dt.resolve()}deleteFieldIndex(t,e){return Dt.resolve()}deleteAllFieldIndexes(t){return Dt.resolve()}createTargetIndexes(t,e){return Dt.resolve()}getDocumentsMatchingTarget(t,e){return Dt.resolve(null)}getIndexType(t,e){return Dt.resolve(0)}getFieldIndexes(t,e){return Dt.resolve([])}getNextCollectionGroupToUpdate(t){return Dt.resolve(null)}getMinOffset(t,e){return Dt.resolve(lo.min())}getMinOffsetFromCollectionGroup(t,e){return Dt.resolve(lo.min())}updateCollectionGroup(t,e,i){return Dt.resolve()}updateIndexEntries(t,e){return Dt.resolve()}}class lG{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new li(Sn.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new li(Sn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},wN=41943040;class Ki{static withCacheSize(t){return new Ki(t,Ki.DEFAULT_COLLECTION_PERCENTILE,Ki.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ki.DEFAULT_COLLECTION_PERCENTILE=10,Ki.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ki.DEFAULT=new Ki(wN,Ki.DEFAULT_COLLECTION_PERCENTILE,Ki.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ki.DISABLED=new Ki(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Xc(0)}static cr(){return new Xc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2="LruGarbageCollector",cG=1048576;function o2([n,t],[e,i]){const r=ze(n,e);return r===0?ze(t,i):r}class uG{constructor(t){this.Ir=t,this.buffer=new li(o2),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();o2(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class hG{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){$t(a2,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){au(e)?$t(a2,"Ignoring IndexedDB error during garbage collection: ",e):await ru(e)}await this.Vr(3e5)})}}class dG{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(e===0)return Dt.resolve(Lp.ce);const i=new uG(e);return this.mr.forEachTarget(t,r=>i.Ar(r.sequenceNumber)).next(()=>this.mr.pr(t,r=>i.Ar(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.mr.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?($t("LruGarbageCollector","Garbage collection skipped; disabled"),Dt.resolve(r2)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?($t("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),r2):this.yr(t,e))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let i,r,o,l,u,d,f;const g=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?($t("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),r=this.params.maximumSequenceNumbersToCollect):r=y,l=Date.now(),this.nthSequenceNumber(t,r))).next(y=>(i=y,u=Date.now(),this.removeTargets(t,i,e))).next(y=>(o=y,d=Date.now(),this.removeOrphanedDocuments(t,i))).next(y=>(f=Date.now(),vc()<=tn.DEBUG&&$t("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${r} in `+(u-l)+`ms
	Removed ${o} targets in `+(d-u)+`ms
	Removed ${y} documents in `+(f-d)+`ms
Total Duration: ${f-g}ms`),Dt.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:y})))}}function fG(n,t){return new dG(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mG{constructor(){this.changes=new pl(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Vi.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?Dt.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pG{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gG{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(i!==null&&Ph(i.mutation,r,Gs.empty(),Tn.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,He()).next(()=>i))}getLocalViewOfDocuments(t,e,i=He()){const r=il();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(o=>{let l=_h();return o.forEach((u,d)=>{l=l.insert(u,d.overlayedDocument)}),l}))}getOverlayedDocuments(t,e){const i=il();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,He()))}populateOverlays(t,e,i){const r=[];return i.forEach(o=>{e.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(t,r).next(o=>{o.forEach((l,u)=>{e.set(l,u)})})}computeViews(t,e,i,r){let o=va();const l=Ih(),u=function(){return Ih()}();return e.forEach((d,f)=>{const g=i.get(f.key);r.has(f.key)&&(g===void 0||g.mutation instanceof gl)?o=o.insert(f.key,f):g!==void 0?(l.set(f.key,g.mutation.getFieldMask()),Ph(g.mutation,f,g.mutation.getFieldMask(),Tn.now())):l.set(f.key,Gs.empty())}),this.recalculateAndSaveOverlays(t,o).next(d=>(d.forEach((f,g)=>l.set(f,g)),e.forEach((f,g)=>u.set(f,new pG(g,l.get(f)??null))),u))}recalculateAndSaveOverlays(t,e){const i=Ih();let r=new Pn((l,u)=>l-u),o=He();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(l=>{for(const u of l)u.keys().forEach(d=>{const f=e.get(d);if(f===null)return;let g=i.get(d)||Gs.empty();g=u.applyToLocalView(f,g),i.set(d,g);const y=(r.get(u.batchId)||He()).add(d);r=r.insert(u.batchId,y)})}).next(()=>{const l=[],u=r.getReverseIterator();for(;u.hasNext();){const d=u.getNext(),f=d.key,g=d.value,y=oN();g.forEach(x=>{if(!o.has(x)){const E=fN(e.get(x),i.get(x));E!==null&&y.set(x,E),o=o.add(x)}}),l.push(this.documentOverlayCache.saveOverlays(t,f,y))}return Dt.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i,r){return function(l){return he.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):y7(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,r):this.getDocumentsMatchingCollectionQuery(t,e,i,r)}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(o=>{const l=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-o.size):Dt.resolve(il());let u=Zh,d=o;return l.next(f=>Dt.forEach(f,(g,y)=>(u<y.largestBatchId&&(u=y.largestBatchId),o.get(g)?Dt.resolve():this.remoteDocumentCache.getEntry(t,g).next(x=>{d=d.insert(g,x)}))).next(()=>this.populateOverlays(t,f,o)).next(()=>this.computeViews(t,d,f,He())).next(g=>({batchId:u,changes:aN(g)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new he(e)).next(i=>{let r=_h();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i,r){const o=e.collectionGroup;let l=_h();return this.indexManager.getCollectionParents(t,o).next(u=>Dt.forEach(u,d=>{const f=function(y,x){return new Vp(x,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(e,d.child(o));return this.getDocumentsMatchingCollectionQuery(t,f,i,r).next(g=>{g.forEach((y,x)=>{l=l.insert(y,x)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(t,e,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,o,r))).next(l=>{o.forEach((d,f)=>{const g=f.getKey();l.get(g)===null&&(l=l.insert(g,Vi.newInvalidDocument(g)))});let u=_h();return l.forEach((d,f)=>{const g=o.get(d);g!==void 0&&Ph(g.mutation,f,Gs.empty(),Tn.now()),Bp(e,f)&&(u=u.insert(d,f))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vG{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return Dt.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,function(r){return{id:r.id,version:r.version,createTime:Sr(r.createTime)}}(e)),Dt.resolve()}getNamedQuery(t,e){return Dt.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,function(r){return{name:r.name,query:aG(r.bundledQuery),readTime:Sr(r.readTime)}}(e)),Dt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yG{constructor(){this.overlays=new Pn(he.comparator),this.qr=new Map}getOverlay(t,e){return Dt.resolve(this.overlays.get(e))}getOverlays(t,e){const i=il();return Dt.forEach(e,r=>this.getOverlay(t,r).next(o=>{o!==null&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,o)=>{this.St(t,e,o)}),Dt.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.qr.get(i);return r!==void 0&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.qr.delete(i)),Dt.resolve()}getOverlaysForCollection(t,e,i){const r=il(),o=e.length+1,l=new he(e.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const d=u.getNext().value,f=d.getKey();if(!e.isPrefixOf(f.path))break;f.path.length===o&&d.largestBatchId>i&&r.set(d.getKey(),d)}return Dt.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new Pn((f,g)=>f-g);const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===e&&f.largestBatchId>i){let g=o.get(f.largestBatchId);g===null&&(g=il(),o=o.insert(f.largestBatchId,g)),g.set(f.getKey(),f)}}const u=il(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((f,g)=>u.set(f,g)),!(u.size()>=r)););return Dt.resolve(u)}St(t,e,i){const r=this.overlays.get(i.key);if(r!==null){const l=this.qr.get(r.largestBatchId).delete(i.key);this.qr.set(r.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new U7(e,i));let o=this.qr.get(e);o===void 0&&(o=He(),this.qr.set(e,o)),this.qr.set(e,o.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xG{constructor(){this.sessionToken=Mi.EMPTY_BYTE_STRING}getSessionToken(t){return Dt.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,Dt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(){this.Qr=new li(vi.$r),this.Ur=new li(vi.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const i=new vi(t,e);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.Gr(new vi(t,e))}zr(t,e){t.forEach(i=>this.removeReference(i,e))}jr(t){const e=new he(new Sn([])),i=new vi(e,t),r=new vi(e,t+1),o=[];return this.Ur.forEachInRange([i,r],l=>{this.Gr(l),o.push(l.key)}),o}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new he(new Sn([])),i=new vi(e,t),r=new vi(e,t+1);let o=He();return this.Ur.forEachInRange([i,r],l=>{o=o.add(l.key)}),o}containsKey(t){const e=new vi(t,0),i=this.Qr.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class vi{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return he.comparator(t.key,e.key)||ze(t.Yr,e.Yr)}static Kr(t,e){return ze(t.Yr,e.Yr)||he.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _G{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new li(vi.$r)}checkEmpty(t){return Dt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,r){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new O7(o,e,i,r);this.mutationQueue.push(l);for(const u of r)this.Zr=this.Zr.add(new vi(u.key,o)),this.indexManager.addToCollectionParentIndex(t,u.key.path.popLast());return Dt.resolve(l)}lookupMutationBatch(t,e){return Dt.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=this.ei(i),o=r<0?0:r;return Dt.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Dt.resolve(this.mutationQueue.length===0?q_:this.tr-1)}getAllMutationBatches(t){return Dt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new vi(e,0),r=new vi(e,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([i,r],l=>{const u=this.Xr(l.Yr);o.push(u)}),Dt.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new li(ze);return e.forEach(r=>{const o=new vi(r,0),l=new vi(r,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,l],u=>{i=i.add(u.Yr)})}),Dt.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;he.isDocumentKey(o)||(o=o.child(""));const l=new vi(new he(o),0);let u=new li(ze);return this.Zr.forEachWhile(d=>{const f=d.key.path;return!!i.isPrefixOf(f)&&(f.length===r&&(u=u.add(d.Yr)),!0)},l),Dt.resolve(this.ti(u))}ti(t){const e=[];return t.forEach(i=>{const r=this.Xr(i);r!==null&&e.push(r)}),e}removeMutationBatch(t,e){un(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return Dt.forEach(e.mutations,r=>{const o=new vi(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Zr=i})}ir(t){}containsKey(t,e){const i=new vi(e,0),r=this.Zr.firstAfterOrEqual(i);return Dt.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,Dt.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bG{constructor(t){this.ri=t,this.docs=function(){return new Pn(he.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,l=this.ri(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return Dt.resolve(i?i.document.mutableCopy():Vi.newInvalidDocument(e))}getEntries(t,e){let i=va();return e.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():Vi.newInvalidDocument(r))}),Dt.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let o=va();const l=e.path,u=new he(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:f,value:{document:g}}=d.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||KH(YH(g),i)<=0||(r.has(g.key)||Bp(e,g))&&(o=o.insert(g.key,g.mutableCopy()))}return Dt.resolve(o)}getAllFromCollectionGroup(t,e,i,r){xe(9500)}ii(t,e){return Dt.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new EG(this)}getSize(t){return Dt.resolve(this.size)}}class EG extends mG{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.Nr.addEntry(t,r)):this.Nr.removeEntry(i)}),Dt.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SG{constructor(t){this.persistence=t,this.si=new pl(e=>K_(e),$_),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.oi=0,this._i=new nb,this.targetCount=0,this.ai=Xc.ur()}forEachTarget(t,e){return this.si.forEach((i,r)=>e(r)),Dt.resolve()}getLastRemoteSnapshotVersion(t){return Dt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Dt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Dt.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.oi&&(this.oi=e),Dt.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new Xc(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,Dt.resolve()}updateTargetData(t,e){return this.Pr(e),Dt.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,Dt.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.si.forEach((l,u)=>{u.sequenceNumber<=e&&i.get(u.targetId)===null&&(this.si.delete(l),o.push(this.removeMatchingKeysForTargetId(t,u.targetId)),r++)}),Dt.waitFor(o).next(()=>r)}getTargetCount(t){return Dt.resolve(this.targetCount)}getTargetData(t,e){const i=this.si.get(e)||null;return Dt.resolve(i)}addMatchingKeys(t,e,i){return this._i.Wr(e,i),Dt.resolve()}removeMatchingKeys(t,e,i){this._i.zr(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach(l=>{o.push(r.markPotentiallyOrphaned(t,l))}),Dt.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),Dt.resolve()}getMatchingKeysForTargetId(t,e){const i=this._i.Hr(e);return Dt.resolve(i)}containsKey(t,e){return Dt.resolve(this._i.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(t,e){this.ui={},this.overlays={},this.ci=new Lp(0),this.li=!1,this.li=!0,this.hi=new xG,this.referenceDelegate=t(this),this.Pi=new SG(this),this.indexManager=new oG,this.remoteDocumentCache=function(r){return new bG(r)}(i=>this.referenceDelegate.Ti(i)),this.serializer=new rG(e),this.Ii=new vG(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new yG,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.ui[t.toKey()];return i||(i=new _G(e,this.referenceDelegate),this.ui[t.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,i){$t("MemoryPersistence","Starting transaction:",t);const r=new TG(this.ci.next());return this.referenceDelegate.Ei(),i(r).next(o=>this.referenceDelegate.di(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Ai(t,e){return Dt.or(Object.values(this.ui).map(i=>()=>i.containsKey(t,e)))}}class TG extends QH{constructor(t){super(),this.currentSequenceNumber=t}}class ib{constructor(t){this.persistence=t,this.Ri=new nb,this.Vi=null}static mi(t){return new ib(t)}get fi(){if(this.Vi)return this.Vi;throw xe(60996)}addReference(t,e,i){return this.Ri.addReference(i,e),this.fi.delete(i.toString()),Dt.resolve()}removeReference(t,e,i){return this.Ri.removeReference(i,e),this.fi.add(i.toString()),Dt.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),Dt.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach(r=>this.fi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(o=>this.fi.add(o.toString()))}).next(()=>i.removeTargetData(t,e))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Dt.forEach(this.fi,i=>{const r=he.fromPath(i);return this.gi(t,r).next(o=>{o||e.removeEntry(r,Se.min())})}).next(()=>(this.Vi=null,e.apply(t)))}updateLimboDocument(t,e){return this.gi(t,e).next(i=>{i?this.fi.delete(e.toString()):this.fi.add(e.toString())})}Ti(t){return 0}gi(t,e){return Dt.or([()=>Dt.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class mp{constructor(t,e){this.persistence=t,this.pi=new pl(i=>t7(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=fG(this,e)}static mi(t,e){return new mp(t,e)}Ei(){}di(t){return Dt.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}wr(t){let e=0;return this.pr(t,i=>{e++}).next(()=>e)}pr(t,e){return Dt.forEach(this.pi,(i,r)=>this.br(t,i,r).next(o=>o?Dt.resolve():e(r)))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const r=this.persistence.getRemoteDocumentCache(),o=r.newChangeBuffer();return r.ii(t,l=>this.br(t,l,e).next(u=>{u||(i++,o.removeEntry(l,Se.min()))})).next(()=>o.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),Dt.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),Dt.resolve()}removeReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),Dt.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),Dt.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=Um(t.data.value)),e}br(t,e,i){return Dt.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const r=this.pi.get(e);return Dt.resolve(r!==void 0&&r>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Es=i,this.ds=r}static As(t,e){let i=He(),r=He();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new sb(t,e.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wG{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AG{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return y9()?8:ZH(g9())>0?6:4}()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,i,r){const o={result:null};return this.ys(t,e).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.ws(t,e,r,i).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new wG;return this.Ss(t,e,l).next(u=>{if(o.result=u,this.Vs)return this.bs(t,e,l,u.size)})}).next(()=>o.result)}bs(t,e,i,r){return i.documentReadCount<this.fs?(vc()<=tn.DEBUG&&$t("QueryEngine","SDK will not create cache indexes for query:",yc(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Dt.resolve()):(vc()<=tn.DEBUG&&$t("QueryEngine","Query:",yc(e),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.gs*r?(vc()<=tn.DEBUG&&$t("QueryEngine","The SDK decides to create cache indexes for query:",yc(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,br(e))):Dt.resolve())}ys(t,e){if(KA(e))return Dt.resolve(null);let i=br(e);return this.indexManager.getIndexType(t,i).next(r=>r===0?null:(e.limit!==null&&r===1&&(e=Ax(e,null,"F"),i=br(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(o=>{const l=He(...o);return this.ps.getDocuments(t,l).next(u=>this.indexManager.getMinOffset(t,i).next(d=>{const f=this.Ds(e,u);return this.Cs(e,f,l,d.readTime)?this.ys(t,Ax(e,null,"F")):this.vs(t,f,e,d)}))})))}ws(t,e,i,r){return KA(e)||r.isEqual(Se.min())?Dt.resolve(null):this.ps.getDocuments(t,i).next(o=>{const l=this.Ds(e,o);return this.Cs(e,l,i,r)?Dt.resolve(null):(vc()<=tn.DEBUG&&$t("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),yc(e)),this.vs(t,l,e,XH(r,Zh)).next(u=>u))})}Ds(t,e){let i=new li(sN(t));return e.forEach((r,o)=>{Bp(t,o)&&(i=i.add(o))}),i}Cs(t,e,i,r){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const o=t.limitType==="F"?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Ss(t,e,i){return vc()<=tn.DEBUG&&$t("QueryEngine","Using full collection scan to execute query:",yc(e)),this.ps.getDocumentsMatchingQuery(t,e,lo.min(),i)}vs(t,e,i,r){return this.ps.getDocumentsMatchingQuery(t,i,r).next(o=>(e.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb="LocalStore",MG=3e8;class RG{constructor(t,e,i,r){this.persistence=t,this.Fs=e,this.serializer=r,this.Ms=new Pn(ze),this.xs=new pl(o=>K_(o),$_),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(i)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new gG(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ms))}}function CG(n,t,e,i){return new RG(n,t,e,i)}async function MN(n,t){const e=we(n);return await e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,e.Bs(t),e.mutationQueue.getAllMutationBatches(i))).next(o=>{const l=[],u=[];let d=He();for(const f of r){l.push(f.batchId);for(const g of f.mutations)d=d.add(g.key)}for(const f of o){u.push(f.batchId);for(const g of f.mutations)d=d.add(g.key)}return e.localDocuments.getDocuments(i,d).next(f=>({Ls:f,removedBatchIds:l,addedBatchIds:u}))})})}function NG(n,t){const e=we(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),o=e.Ns.newChangeBuffer({trackRemovals:!0});return function(u,d,f,g){const y=f.batch,x=y.keys();let E=Dt.resolve();return x.forEach(T=>{E=E.next(()=>g.getEntry(d,T)).next(C=>{const S=f.docVersions.get(T);un(S!==null,48541),C.version.compareTo(S)<0&&(y.applyToRemoteDocument(C,f),C.isValidDocument()&&(C.setReadTime(f.commitVersion),g.addEntry(C)))})}),E.next(()=>u.mutationQueue.removeMutationBatch(d,y))}(e,i,t,o).next(()=>o.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(u){let d=He();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(d=d.add(u.batch.mutations[f].key));return d}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}function RN(n){const t=we(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Pi.getLastRemoteSnapshotVersion(e))}function DG(n,t){const e=we(n),i=t.snapshotVersion;let r=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=e.Ns.newChangeBuffer({trackRemovals:!0});r=e.Ms;const u=[];t.targetChanges.forEach((g,y)=>{const x=r.get(y);if(!x)return;u.push(e.Pi.removeMatchingKeys(o,g.removedDocuments,y).next(()=>e.Pi.addMatchingKeys(o,g.addedDocuments,y)));let E=x.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(y)!==null?E=E.withResumeToken(Mi.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):g.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(g.resumeToken,i)),r=r.insert(y,E),function(C,S,b){return C.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=MG?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(x,E,g)&&u.push(e.Pi.updateTargetData(o,E))});let d=va(),f=He();if(t.documentUpdates.forEach(g=>{t.resolvedLimboDocuments.has(g)&&u.push(e.persistence.referenceDelegate.updateLimboDocument(o,g))}),u.push(IG(o,l,t.documentUpdates).next(g=>{d=g.ks,f=g.qs})),!i.isEqual(Se.min())){const g=e.Pi.getLastRemoteSnapshotVersion(o).next(y=>e.Pi.setTargetsMetadata(o,o.currentSequenceNumber,i));u.push(g)}return Dt.waitFor(u).next(()=>l.apply(o)).next(()=>e.localDocuments.getLocalViewOfDocuments(o,d,f)).next(()=>d)}).then(o=>(e.Ms=r,o))}function IG(n,t,e){let i=He(),r=He();return e.forEach(o=>i=i.add(o)),t.getEntries(n,i).next(o=>{let l=va();return e.forEach((u,d)=>{const f=o.get(u);d.isFoundDocument()!==f.isFoundDocument()&&(r=r.add(u)),d.isNoDocument()&&d.version.isEqual(Se.min())?(t.removeEntry(u,d.readTime),l=l.insert(u,d)):!f.isValidDocument()||d.version.compareTo(f.version)>0||d.version.compareTo(f.version)===0&&f.hasPendingWrites?(t.addEntry(d),l=l.insert(u,d)):$t(rb,"Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",d.version)}),{ks:l,qs:r}})}function PG(n,t){const e=we(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=q_),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function LG(n,t){const e=we(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Pi.getTargetData(i,t).next(o=>o?(r=o,Dt.resolve(r)):e.Pi.allocateTargetId(i).next(l=>(r=new Ka(t,l,"TargetPurposeListen",i.currentSequenceNumber),e.Pi.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.Ms.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(i.targetId,i),e.xs.set(t,i.targetId)),i})}async function Dx(n,t,e){const i=we(n),r=i.Ms.get(t),o=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",o,l=>i.persistence.referenceDelegate.removeTarget(l,r))}catch(l){if(!au(l))throw l;$t(rb,`Failed to update sequence numbers for target ${t}: ${l}`)}i.Ms=i.Ms.remove(t),i.xs.delete(r.target)}function l2(n,t,e){const i=we(n);let r=Se.min(),o=He();return i.persistence.runTransaction("Execute query","readwrite",l=>function(d,f,g){const y=we(d),x=y.xs.get(g);return x!==void 0?Dt.resolve(y.Ms.get(x)):y.Pi.getTargetData(f,g)}(i,l,br(t)).next(u=>{if(u)return r=u.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(l,u.targetId).next(d=>{o=d})}).next(()=>i.Fs.getDocumentsMatchingQuery(l,t,e?r:Se.min(),e?o:He())).next(u=>(OG(i,_7(t),u),{documents:u,Qs:o})))}function OG(n,t,e){let i=n.Os.get(t)||Se.min();e.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.Os.set(t,i)}class c2{constructor(){this.activeTargetIds=A7()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class UG{constructor(){this.Mo=new c2,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,i){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new c2,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VG{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2="ConnectivityMonitor";class h2{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){$t(u2,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){$t(u2,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xm=null;function Ix(){return xm===null?xm=function(){return 268435456+Math.round(2147483648*Math.random())}():xm++,"0x"+xm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv="RestConnection",FG={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class BG{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${i}/databases/${r}`,this.Wo=this.databaseId.database===op?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Go(t,e,i,r,o){const l=Ix(),u=this.zo(t,e.toUriEncodedString());$t(Qv,`Sending RPC '${t}' ${l}:`,u,i);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,r,o);const{host:f}=new URL(u),g=j_(f);return this.Jo(t,u,d,i,g).then(y=>($t(Qv,`Received RPC '${t}' ${l}: `,y),y),y=>{throw Hc(Qv,`RPC '${t}' ${l} failed with error: `,y,"url: ",u,"request:",i),y})}Ho(t,e,i,r,o,l){return this.Go(t,e,i,r,o)}jo(t,e,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+su}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,o)=>t[o]=r),i&&i.headers.forEach((r,o)=>t[o]=r)}zo(t,e){const i=FG[t];return`${this.Uo}/v1/${e}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kG{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi="WebChannelConnection";class jG extends BG{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,i,r,o){const l=Ix();return new Promise((u,d)=>{const f=new DC;f.setWithCredentials(!0),f.listenOnce(IC.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Om.NO_ERROR:const y=f.getResponseJson();$t(Oi,`XHR for RPC '${t}' ${l} received:`,JSON.stringify(y)),u(y);break;case Om.TIMEOUT:$t(Oi,`RPC '${t}' ${l} timed out`),d(new re(Lt.DEADLINE_EXCEEDED,"Request time out"));break;case Om.HTTP_ERROR:const x=f.getStatus();if($t(Oi,`RPC '${t}' ${l} failed with status:`,x,"response text:",f.getResponseText()),x>0){let E=f.getResponseJson();Array.isArray(E)&&(E=E[0]);const T=E?.error;if(T&&T.status&&T.message){const C=function(b){const O=b.toLowerCase().replace(/_/g,"-");return Object.values(Lt).indexOf(O)>=0?O:Lt.UNKNOWN}(T.status);d(new re(C,T.message))}else d(new re(Lt.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new re(Lt.UNAVAILABLE,"Connection failed."));break;default:xe(9055,{l_:t,streamId:l,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{$t(Oi,`RPC '${t}' ${l} completed.`)}});const g=JSON.stringify(r);$t(Oi,`RPC '${t}' ${l} sending request:`,r),f.send(e,"POST",g,i,15)})}T_(t,e,i){const r=Ix(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],l=OC(),u=LC(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(d.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,e,i),d.encodeInitMessageHeaders=!0;const g=o.join("");$t(Oi,`Creating RPC '${t}' stream ${r}: ${g}`,d);const y=l.createWebChannel(g,d);this.I_(y);let x=!1,E=!1;const T=new kG({Yo:S=>{E?$t(Oi,`Not sending because RPC '${t}' stream ${r} is closed:`,S):(x||($t(Oi,`Opening RPC '${t}' stream ${r} transport.`),y.open(),x=!0),$t(Oi,`RPC '${t}' stream ${r} sending:`,S),y.send(S))},Zo:()=>y.close()}),C=(S,b,O)=>{S.listen(b,N=>{try{O(N)}catch(U){setTimeout(()=>{throw U},0)}})};return C(y,xh.EventType.OPEN,()=>{E||($t(Oi,`RPC '${t}' stream ${r} transport opened.`),T.o_())}),C(y,xh.EventType.CLOSE,()=>{E||(E=!0,$t(Oi,`RPC '${t}' stream ${r} transport closed`),T.a_(),this.E_(y))}),C(y,xh.EventType.ERROR,S=>{E||(E=!0,Hc(Oi,`RPC '${t}' stream ${r} transport errored. Name:`,S.name,"Message:",S.message),T.a_(new re(Lt.UNAVAILABLE,"The operation could not be completed")))}),C(y,xh.EventType.MESSAGE,S=>{if(!E){const b=S.data[0];un(!!b,16349);const O=b,N=O?.error||O[0]?.error;if(N){$t(Oi,`RPC '${t}' stream ${r} received error:`,N);const U=N.status;let j=function(R){const w=Zn[R];if(w!==void 0)return pN(w)}(U),G=N.message;j===void 0&&(j=Lt.INTERNAL,G="Unknown error status: "+U+" with message "+N.message),E=!0,T.a_(new re(j,G)),y.close()}else $t(Oi,`RPC '${t}' stream ${r} received:`,b),T.u_(b)}}),C(u,PC.STAT_EVENT,S=>{S.stat===_x.PROXY?$t(Oi,`RPC '${t}' stream ${r} detected buffering proxy`):S.stat===_x.NOPROXY&&$t(Oi,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{T.__()},0),T}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(e=>e===t)}}function Zv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hp(n){return new W7(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(t,e,i=1e3,r=1.5,o=6e4){this.Mi=t,this.timerId=e,this.d_=i,this.A_=r,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),r=Math.max(0,e-i);r>0&&$t("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2="PersistentStream";class NN{constructor(t,e,i,r,o,l,u,d){this.Mi=t,this.S_=i,this.b_=r,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new CN(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===Lt.RESOURCE_EXHAUSTED?(ga(e.toString()),ga("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===Lt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.D_===e&&this.G_(i,r)},i=>{t(()=>{const r=new re(Lt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(r)})})}G_(t,e){const i=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo(()=>{i(()=>this.listener.Xo())}),this.stream.t_(()=>{i(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(r=>{i(()=>this.z_(r))}),this.stream.onMessage(r=>{i(()=>++this.F_==1?this.J_(r):this.onNext(r))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return $t(d2,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget(()=>this.D_===t?e():($t(d2,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class zG extends NN{constructor(t,e,i,r,o,l){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,l),this.serializer=o}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=Y7(this.serializer,t),i=function(o){if(!("targetChange"in o))return Se.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Se.min():l.readTime?Sr(l.readTime):Se.min()}(t);return this.listener.H_(e,i)}Y_(t){const e={};e.database=Nx(this.serializer),e.addTarget=function(o,l){let u;const d=l.target;if(u=wx(d)?{documents:Q7(o,d)}:{query:Z7(o,d).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=yN(o,l.resumeToken);const f=Mx(o,l.expectedCount);f!==null&&(u.expectedCount=f)}else if(l.snapshotVersion.compareTo(Se.min())>0){u.readTime=fp(o,l.snapshotVersion.toTimestamp());const f=Mx(o,l.expectedCount);f!==null&&(u.expectedCount=f)}return u}(this.serializer,t);const i=tG(this.serializer,t);i&&(e.labels=i),this.q_(e)}Z_(t){const e={};e.database=Nx(this.serializer),e.removeTarget=t,this.q_(e)}}class HG extends NN{constructor(t,e,i,r,o,l){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,l),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return un(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,un(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){un(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=$7(t.writeResults,t.commitTime),i=Sr(t.commitTime);return this.listener.na(i,e)}ra(){const t={};t.database=Nx(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>K7(this.serializer,i))};this.q_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GG{}class WG extends GG{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new re(Lt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,i,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Go(t,Rx(e,i),r,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Lt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new re(Lt.UNKNOWN,o.toString())})}Ho(t,e,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Ho(t,Rx(e,i),r,l,u,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===Lt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new re(Lt.UNKNOWN,l.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class qG{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ga(e),this.aa=!1):$t("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hl="RemoteStore";class XG{constructor(t,e,i,r,o){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo(l=>{i.enqueueAndForget(async()=>{vl(this)&&($t(hl,"Restarting streams for network reachability change."),await async function(d){const f=we(d);f.Ea.add(4),await Ed(f),f.Ra.set("Unknown"),f.Ea.delete(4),await Gp(f)}(this))})}),this.Ra=new qG(i,r)}}async function Gp(n){if(vl(n))for(const t of n.da)await t(!0)}async function Ed(n){for(const t of n.da)await t(!1)}function DN(n,t){const e=we(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),cb(e)?lb(e):ou(e).O_()&&ob(e,t))}function ab(n,t){const e=we(n),i=ou(e);e.Ia.delete(t),i.O_()&&IN(e,t),e.Ia.size===0&&(i.O_()?i.L_():vl(e)&&e.Ra.set("Unknown"))}function ob(n,t){if(n.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Se.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}ou(n).Y_(t)}function IN(n,t){n.Va.Ue(t),ou(n).Z_(t)}function lb(n){n.Va=new j7({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),ou(n).start(),n.Ra.ua()}function cb(n){return vl(n)&&!ou(n).x_()&&n.Ia.size>0}function vl(n){return we(n).Ea.size===0}function PN(n){n.Va=void 0}async function YG(n){n.Ra.set("Online")}async function KG(n){n.Ia.forEach((t,e)=>{ob(n,t)})}async function $G(n,t){PN(n),cb(n)?(n.Ra.ha(t),lb(n)):n.Ra.set("Unknown")}async function QG(n,t,e){if(n.Ra.set("Online"),t instanceof vN&&t.state===2&&t.cause)try{await async function(r,o){const l=o.cause;for(const u of o.targetIds)r.Ia.has(u)&&(await r.remoteSyncer.rejectListen(u,l),r.Ia.delete(u),r.Va.removeTarget(u))}(n,t)}catch(i){$t(hl,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await pp(n,i)}else if(t instanceof Bm?n.Va.Ze(t):t instanceof gN?n.Va.st(t):n.Va.tt(t),!e.isEqual(Se.min()))try{const i=await RN(n.localStore);e.compareTo(i)>=0&&await function(o,l){const u=o.Va.Tt(l);return u.targetChanges.forEach((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const g=o.Ia.get(f);g&&o.Ia.set(f,g.withResumeToken(d.resumeToken,l))}}),u.targetMismatches.forEach((d,f)=>{const g=o.Ia.get(d);if(!g)return;o.Ia.set(d,g.withResumeToken(Mi.EMPTY_BYTE_STRING,g.snapshotVersion)),IN(o,d);const y=new Ka(g.target,d,f,g.sequenceNumber);ob(o,y)}),o.remoteSyncer.applyRemoteEvent(u)}(n,e)}catch(i){$t(hl,"Failed to raise snapshot:",i),await pp(n,i)}}async function pp(n,t,e){if(!au(t))throw t;n.Ea.add(1),await Ed(n),n.Ra.set("Offline"),e||(e=()=>RN(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{$t(hl,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await Gp(n)})}function LN(n,t){return t().catch(e=>pp(n,e,t))}async function Wp(n){const t=we(n),e=fo(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:q_;for(;ZG(t);)try{const r=await PG(t.localStore,i);if(r===null){t.Ta.length===0&&e.L_();break}i=r.batchId,JG(t,r)}catch(r){await pp(t,r)}ON(t)&&UN(t)}function ZG(n){return vl(n)&&n.Ta.length<10}function JG(n,t){n.Ta.push(t);const e=fo(n);e.O_()&&e.X_&&e.ea(t.mutations)}function ON(n){return vl(n)&&!fo(n).x_()&&n.Ta.length>0}function UN(n){fo(n).start()}async function tW(n){fo(n).ra()}async function eW(n){const t=fo(n);for(const e of n.Ta)t.ea(e.mutations)}async function nW(n,t,e){const i=n.Ta.shift(),r=J_.from(i,t,e);await LN(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),await Wp(n)}async function iW(n,t){t&&fo(n).X_&&await async function(i,r){if(function(l){return F7(l)&&l!==Lt.ABORTED}(r.code)){const o=i.Ta.shift();fo(i).B_(),await LN(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r)),await Wp(i)}}(n,t),ON(n)&&UN(n)}async function f2(n,t){const e=we(n);e.asyncQueue.verifyOperationInProgress(),$t(hl,"RemoteStore received new credentials");const i=vl(e);e.Ea.add(3),await Ed(e),i&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await Gp(e)}async function sW(n,t){const e=we(n);t?(e.Ea.delete(2),await Gp(e)):t||(e.Ea.add(2),await Ed(e),e.Ra.set("Unknown"))}function ou(n){return n.ma||(n.ma=function(e,i,r){const o=we(e);return o.sa(),new zG(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{Xo:YG.bind(null,n),t_:KG.bind(null,n),r_:$G.bind(null,n),H_:QG.bind(null,n)}),n.da.push(async t=>{t?(n.ma.B_(),cb(n)?lb(n):n.Ra.set("Unknown")):(await n.ma.stop(),PN(n))})),n.ma}function fo(n){return n.fa||(n.fa=function(e,i,r){const o=we(e);return o.sa(),new HG(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:tW.bind(null,n),r_:iW.bind(null,n),ta:eW.bind(null,n),na:nW.bind(null,n)}),n.da.push(async t=>{t?(n.fa.B_(),await Wp(n)):(await n.fa.stop(),n.Ta.length>0&&($t(hl,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))})),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new no,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,r,o){const l=Date.now()+i,u=new ub(t,e,l,r,o);return u.start(i),u}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new re(Lt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hb(n,t){if(ga("AsyncQueue",`${t}: ${n}`),au(n))return new re(Lt.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{static emptySet(t){return new Pc(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||he.comparator(e.key,i.key):(e,i)=>he.comparator(e.key,i.key),this.keyedMap=_h(),this.sortedSet=new Pn(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Pc)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new Pc;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(){this.ga=new Pn(he.comparator)}track(t){const e=t.doc.key,i=this.ga.get(e);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(e,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(e):t.type===1&&i.type===2?this.ga=this.ga.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):xe(63341,{Rt:t,pa:i}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal((e,i)=>{t.push(i)}),t}}class Yc{constructor(t,e,i,r,o,l,u,d,f){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=d,this.hasCachedResults=f}static fromInitialDocuments(t,e,i,r,o){const l=[];return e.forEach(u=>{l.push({type:0,doc:u})}),new Yc(t,e,Pc.emptySet(e),l,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Fp(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rW{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class aW{constructor(){this.queries=p2(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,i){const r=we(e),o=r.queries;r.queries=p2(),o.forEach((l,u)=>{for(const d of u.Sa)d.onError(i)})})(this,new re(Lt.ABORTED,"Firestore shutting down"))}}function p2(){return new pl(n=>iN(n),Fp)}async function oW(n,t){const e=we(n);let i=3;const r=t.query;let o=e.queries.get(r);o?!o.ba()&&t.Da()&&(i=2):(o=new rW,i=t.Da()?0:1);try{switch(i){case 0:o.wa=await e.onListen(r,!0);break;case 1:o.wa=await e.onListen(r,!1);break;case 2:await e.onFirstRemoteStoreListen(r)}}catch(l){const u=hb(l,`Initialization of query '${yc(t.query)}' failed`);return void t.onError(u)}e.queries.set(r,o),o.Sa.push(t),t.va(e.onlineState),o.wa&&t.Fa(o.wa)&&db(e)}async function lW(n,t){const e=we(n),i=t.query;let r=3;const o=e.queries.get(i);if(o){const l=o.Sa.indexOf(t);l>=0&&(o.Sa.splice(l,1),o.Sa.length===0?r=t.Da()?0:1:!o.ba()&&t.Da()&&(r=2))}switch(r){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function cW(n,t){const e=we(n);let i=!1;for(const r of t){const o=r.query,l=e.queries.get(o);if(l){for(const u of l.Sa)u.Fa(r)&&(i=!0);l.wa=r}}i&&db(e)}function uW(n,t,e){const i=we(n),r=i.queries.get(t);if(r)for(const o of r.Sa)o.onError(e);i.queries.delete(t)}function db(n){n.Ca.forEach(t=>{t.next()})}var Px,g2;(g2=Px||(Px={})).Ma="default",g2.Cache="cache";class hW{constructor(t,e,i){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)r.type!==3&&i.push(r);t=new Yc(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const i=e!=="Offline";return(!this.options.qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=Yc.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Px.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(t){this.key=t}}class FN{constructor(t){this.key=t}}class dW{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=He(),this.mutatedKeys=He(),this.eu=sN(t),this.tu=new Pc(this.eu)}get nu(){return this.Ya}ru(t,e){const i=e?e.iu:new m2,r=e?e.tu:this.tu;let o=e?e.mutatedKeys:this.mutatedKeys,l=r,u=!1;const d=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,f=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((g,y)=>{const x=r.get(g),E=Bp(this.query,y)?y:null,T=!!x&&this.mutatedKeys.has(x.key),C=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let S=!1;x&&E?x.data.isEqual(E.data)?T!==C&&(i.track({type:3,doc:E}),S=!0):this.su(x,E)||(i.track({type:2,doc:E}),S=!0,(d&&this.eu(E,d)>0||f&&this.eu(E,f)<0)&&(u=!0)):!x&&E?(i.track({type:0,doc:E}),S=!0):x&&!E&&(i.track({type:1,doc:x}),S=!0,(d||f)&&(u=!0)),S&&(E?(l=l.add(E),o=C?o.add(g):o.delete(g)):(l=l.delete(g),o=o.delete(g)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),o=o.delete(g.key),i.track({type:1,doc:g})}return{tu:l,iu:i,Cs:u,mutatedKeys:o}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,r){const o=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const l=t.iu.ya();l.sort((g,y)=>function(E,T){const C=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe(20277,{Rt:S})}};return C(E)-C(T)}(g.type,y.type)||this.eu(g.doc,y.doc)),this.ou(i),r=r??!1;const u=e&&!r?this._u():[],d=this.Xa.size===0&&this.current&&!r?1:0,f=d!==this.Za;return this.Za=d,l.length!==0||f?{snapshot:new Yc(this.query,t.tu,o,l,t.mutatedKeys,d===0,f,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new m2,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(e=>this.Ya=this.Ya.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ya=this.Ya.delete(e)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=He(),this.tu.forEach(i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))});const e=[];return t.forEach(i=>{this.Xa.has(i)||e.push(new FN(i))}),this.Xa.forEach(i=>{t.has(i)||e.push(new VN(i))}),e}cu(t){this.Ya=t.Qs,this.Xa=He();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return Yc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const fb="SyncEngine";class fW{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class mW{constructor(t){this.key=t,this.hu=!1}}class pW{constructor(t,e,i,r,o,l){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new pl(u=>iN(u),Fp),this.Iu=new Map,this.Eu=new Set,this.du=new Pn(he.comparator),this.Au=new Map,this.Ru=new nb,this.Vu={},this.mu=new Map,this.fu=Xc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function gW(n,t,e=!0){const i=GN(n);let r;const o=i.Tu.get(t);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.lu()):r=await BN(i,t,e,!0),r}async function vW(n,t){const e=GN(n);await BN(e,t,!0,!1)}async function BN(n,t,e,i){const r=await LG(n.localStore,br(t)),o=r.targetId,l=n.sharedClientState.addLocalQueryTarget(o,e);let u;return i&&(u=await yW(n,t,o,l==="current",r.resumeToken)),n.isPrimaryClient&&e&&DN(n.remoteStore,r),u}async function yW(n,t,e,i,r){n.pu=(y,x,E)=>async function(C,S,b,O){let N=S.view.ru(b);N.Cs&&(N=await l2(C.localStore,S.query,!1).then(({documents:D})=>S.view.ru(D,N)));const U=O&&O.targetChanges.get(S.targetId),j=O&&O.targetMismatches.get(S.targetId)!=null,G=S.view.applyChanges(N,C.isPrimaryClient,U,j);return y2(C,S.targetId,G.au),G.snapshot}(n,y,x,E);const o=await l2(n.localStore,t,!0),l=new dW(t,o.Qs),u=l.ru(o.documents),d=bd.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",r),f=l.applyChanges(u,n.isPrimaryClient,d);y2(n,e,f.au);const g=new fW(t,e,l);return n.Tu.set(t,g),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),f.snapshot}async function xW(n,t,e){const i=we(n),r=i.Tu.get(t),o=i.Iu.get(r.targetId);if(o.length>1)return i.Iu.set(r.targetId,o.filter(l=>!Fp(l,t))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await Dx(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),e&&ab(i.remoteStore,r.targetId),Lx(i,r.targetId)}).catch(ru)):(Lx(i,r.targetId),await Dx(i.localStore,r.targetId,!0))}async function _W(n,t){const e=we(n),i=e.Tu.get(t),r=e.Iu.get(i.targetId);e.isPrimaryClient&&r.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),ab(e.remoteStore,i.targetId))}async function bW(n,t,e){const i=RW(n);try{const r=await function(l,u){const d=we(l),f=Tn.now(),g=u.reduce((E,T)=>E.add(T.key),He());let y,x;return d.persistence.runTransaction("Locally write mutations","readwrite",E=>{let T=va(),C=He();return d.Ns.getEntries(E,g).next(S=>{T=S,T.forEach((b,O)=>{O.isValidDocument()||(C=C.add(b))})}).next(()=>d.localDocuments.getOverlayedDocuments(E,T)).next(S=>{y=S;const b=[];for(const O of u){const N=P7(O,y.get(O.key).overlayedDocument);N!=null&&b.push(new gl(O.key,N,KC(N.value.mapValue),Er.exists(!0)))}return d.mutationQueue.addMutationBatch(E,f,b,u)}).next(S=>{x=S;const b=S.applyToLocalDocumentSet(y,C);return d.documentOverlayCache.saveOverlays(E,S.batchId,b)})}).then(()=>({batchId:x.batchId,changes:aN(y)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(l,u,d){let f=l.Vu[l.currentUser.toKey()];f||(f=new Pn(ze)),f=f.insert(u,d),l.Vu[l.currentUser.toKey()]=f}(i,r.batchId,e),await Sd(i,r.changes),await Wp(i.remoteStore)}catch(r){const o=hb(r,"Failed to persist write");e.reject(o)}}async function kN(n,t){const e=we(n);try{const i=await DG(e.localStore,t);t.targetChanges.forEach((r,o)=>{const l=e.Au.get(o);l&&(un(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?l.hu=!0:r.modifiedDocuments.size>0?un(l.hu,14607):r.removedDocuments.size>0&&(un(l.hu,42227),l.hu=!1))}),await Sd(e,i,t)}catch(i){await ru(i)}}function v2(n,t,e){const i=we(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const r=[];i.Tu.forEach((o,l)=>{const u=l.view.va(t);u.snapshot&&r.push(u.snapshot)}),function(l,u){const d=we(l);d.onlineState=u;let f=!1;d.queries.forEach((g,y)=>{for(const x of y.Sa)x.va(u)&&(f=!0)}),f&&db(d)}(i.eventManager,t),r.length&&i.Pu.H_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function EW(n,t,e){const i=we(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.Au.get(t),o=r&&r.key;if(o){let l=new Pn(he.comparator);l=l.insert(o,Vi.newNoDocument(o,Se.min()));const u=He().add(o),d=new zp(Se.min(),new Map,new Pn(ze),l,u);await kN(i,d),i.du=i.du.remove(o),i.Au.delete(t),mb(i)}else await Dx(i.localStore,t,!1).then(()=>Lx(i,t,e)).catch(ru)}async function SW(n,t){const e=we(n),i=t.batch.batchId;try{const r=await NG(e.localStore,t);zN(e,i,null),jN(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await Sd(e,r)}catch(r){await ru(r)}}async function TW(n,t,e){const i=we(n);try{const r=await function(l,u){const d=we(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let g;return d.mutationQueue.lookupMutationBatch(f,u).next(y=>(un(y!==null,37113),g=y.keys(),d.mutationQueue.removeMutationBatch(f,y))).next(()=>d.mutationQueue.performConsistencyCheck(f)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(f,g,u)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,g)).next(()=>d.localDocuments.getDocuments(f,g))})}(i.localStore,t);zN(i,t,e),jN(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await Sd(i,r)}catch(r){await ru(r)}}function jN(n,t){(n.mu.get(t)||[]).forEach(e=>{e.resolve()}),n.mu.delete(t)}function zN(n,t,e){const i=we(n);let r=i.Vu[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.Vu[i.currentUser.toKey()]=r}}function Lx(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Iu.get(t))n.Tu.delete(i),e&&n.Pu.yu(i,e);n.Iu.delete(t),n.isPrimaryClient&&n.Ru.jr(t).forEach(i=>{n.Ru.containsKey(i)||HN(n,i)})}function HN(n,t){n.Eu.delete(t.path.canonicalString());const e=n.du.get(t);e!==null&&(ab(n.remoteStore,e),n.du=n.du.remove(t),n.Au.delete(e),mb(n))}function y2(n,t,e){for(const i of e)i instanceof VN?(n.Ru.addReference(i.key,t),wW(n,i)):i instanceof FN?($t(fb,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,t),n.Ru.containsKey(i.key)||HN(n,i.key)):xe(19791,{wu:i})}function wW(n,t){const e=t.key,i=e.path.canonicalString();n.du.get(e)||n.Eu.has(i)||($t(fb,"New document in limbo: "+e),n.Eu.add(i),mb(n))}function mb(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new he(Sn.fromString(t)),i=n.fu.next();n.Au.set(i,new mW(e)),n.du=n.du.insert(e,i),DN(n.remoteStore,new Ka(br(nN(e.path)),i,"TargetPurposeLimboResolution",Lp.ce))}}async function Sd(n,t,e){const i=we(n),r=[],o=[],l=[];i.Tu.isEmpty()||(i.Tu.forEach((u,d)=>{l.push(i.pu(d,t,e).then(f=>{if((f||e)&&i.isPrimaryClient){const g=f?!f.fromCache:e?.targetChanges.get(d.targetId)?.current;i.sharedClientState.updateQueryState(d.targetId,g?"current":"not-current")}if(f){r.push(f);const g=sb.As(d.targetId,f);o.push(g)}}))}),await Promise.all(l),i.Pu.H_(r),await async function(d,f){const g=we(d);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>Dt.forEach(f,x=>Dt.forEach(x.Es,E=>g.persistence.referenceDelegate.addReference(y,x.targetId,E)).next(()=>Dt.forEach(x.ds,E=>g.persistence.referenceDelegate.removeReference(y,x.targetId,E)))))}catch(y){if(!au(y))throw y;$t(rb,"Failed to update sequence numbers: "+y)}for(const y of f){const x=y.targetId;if(!y.fromCache){const E=g.Ms.get(x),T=E.snapshotVersion,C=E.withLastLimboFreeSnapshotVersion(T);g.Ms=g.Ms.insert(x,C)}}}(i.localStore,o))}async function AW(n,t){const e=we(n);if(!e.currentUser.isEqual(t)){$t(fb,"User change. New user:",t.toKey());const i=await MN(e.localStore,t);e.currentUser=t,function(o,l){o.mu.forEach(u=>{u.forEach(d=>{d.reject(new re(Lt.CANCELLED,l))})}),o.mu.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await Sd(e,i.Ls)}}function MW(n,t){const e=we(n),i=e.Au.get(t);if(i&&i.hu)return He().add(i.key);{let r=He();const o=e.Iu.get(t);if(!o)return r;for(const l of o){const u=e.Tu.get(l);r=r.unionWith(u.view.nu)}return r}}function GN(n){const t=we(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=kN.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=MW.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=EW.bind(null,t),t.Pu.H_=cW.bind(null,t.eventManager),t.Pu.yu=uW.bind(null,t.eventManager),t}function RW(n){const t=we(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=SW.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=TW.bind(null,t),t}class gp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Hp(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return CG(this.persistence,new AG,t.initialUser,this.serializer)}Cu(t){return new AN(ib.mi,this.serializer)}Du(t){return new UG}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}gp.provider={build:()=>new gp};class CW extends gp{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){un(this.persistence.referenceDelegate instanceof mp,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new hG(i,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?Ki.withCacheSize(this.cacheSizeBytes):Ki.DEFAULT;return new AN(i=>mp.mi(i,e),this.serializer)}}class Ox{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>v2(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=AW.bind(null,this.syncEngine),await sW(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new aW}()}createDatastore(t){const e=Hp(t.databaseInfo.databaseId),i=function(o){return new jG(o)}(t.databaseInfo);return function(o,l,u,d){return new WG(o,l,u,d)}(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return function(i,r,o,l,u){return new XG(i,r,o,l,u)}(this.localStore,this.datastore,t.asyncQueue,e=>v2(this.syncEngine,e,0),function(){return h2.v()?new h2:new VG}())}createSyncEngine(t,e){return function(r,o,l,u,d,f,g){const y=new pW(r,o,l,u,d,f);return g&&(y.gu=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await async function(e){const i=we(e);$t(hl,"RemoteStore shutting down."),i.Ea.add(5),await Ed(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Ox.provider={build:()=>new Ox};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NW{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ga("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo="FirestoreClient";class DW{constructor(t,e,i,r,o){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=Ui.UNAUTHENTICATED,this.clientId=G_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,async l=>{$t(mo,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(i,l=>($t(mo,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new no;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=hb(e,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function Jv(n,t){n.asyncQueue.verifyOperationInProgress(),$t(mo,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(async r=>{i.isEqual(r)||(await MN(t.localStore,r),i=r)}),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}async function x2(n,t){n.asyncQueue.verifyOperationInProgress();const e=await IW(n);$t(mo,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener(i=>f2(t.remoteStore,i)),n.setAppCheckTokenChangeListener((i,r)=>f2(t.remoteStore,r)),n._onlineComponents=t}async function IW(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){$t(mo,"Using user provided OfflineComponentProvider");try{await Jv(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(r){return r.name==="FirebaseError"?r.code===Lt.FAILED_PRECONDITION||r.code===Lt.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(e))throw e;Hc("Error using user provided cache. Falling back to memory cache: "+e),await Jv(n,new gp)}}else $t(mo,"Using default OfflineComponentProvider"),await Jv(n,new CW(void 0));return n._offlineComponents}async function WN(n){return n._onlineComponents||(n._uninitializedComponentsProvider?($t(mo,"Using user provided OnlineComponentProvider"),await x2(n,n._uninitializedComponentsProvider._online)):($t(mo,"Using default OnlineComponentProvider"),await x2(n,new Ox))),n._onlineComponents}function PW(n){return WN(n).then(t=>t.syncEngine)}async function LW(n){const t=await WN(n),e=t.eventManager;return e.onListen=gW.bind(null,t.syncEngine),e.onUnlisten=xW.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=vW.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=_W.bind(null,t.syncEngine),e}function OW(n,t,e={}){const i=new no;return n.asyncQueue.enqueueAndForget(async()=>function(o,l,u,d,f){const g=new NW({next:x=>{g.Nu(),l.enqueueAndForget(()=>lW(o,y)),x.fromCache&&d.source==="server"?f.reject(new re(Lt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(x)},error:x=>f.reject(x)}),y=new hW(u,g,{includeMetadataChanges:!0,qa:!0});return oW(o,y)}(await LW(n),n.asyncQueue,t,e,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qN(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN="firestore.googleapis.com",b2=!0;class E2{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new re(Lt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=XN,this.ssl=b2}else this.host=t.host,this.ssl=t.ssl??b2;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=wN;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<cG)throw new re(Lt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}qH("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qN(t.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new re(Lt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new re(Lt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new re(Lt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class qp{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new E2({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new re(Lt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new re(Lt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new E2(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new UH;switch(i.type){case"firstParty":return new kH(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new re(Lt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const i=_2.get(e);i&&($t("ComponentProvider","Removing Datastore"),_2.delete(e),i.terminate())}(this),Promise.resolve()}}function UW(n,t,e,i={}){n=Qh(n,qp);const r=j_(t),o=n._getSettings(),l={...o,emulatorOptions:n._getEmulatorOptions()},u=`${t}:${e}`;r&&(h9(`https://${u}`),p9("Firestore",!0)),o.host!==XN&&o.host!==u&&Hc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...o,host:u,ssl:r,emulatorOptions:i};if(!ip(d,l)&&(n._setSettings(d),i.mockUserToken)){let f,g;if(typeof i.mockUserToken=="string")f=i.mockUserToken,g=Ui.MOCK_USER;else{f=d9(i.mockUserToken,n._app?.options.projectId);const y=i.mockUserToken.sub||i.mockUserToken.user_id;if(!y)throw new re(Lt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Ui(y)}n._authCredentials=new VH(new VC(f,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Xp(this.firestore,t,this._query)}}class Ai{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new io(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ai(this.firestore,t,this._key)}toJSON(){return{type:Ai._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,i){if(xd(e,Ai._jsonSchema))return new Ai(t,i||null,new he(Sn.fromString(e.referencePath)))}}Ai._jsonSchemaVersion="firestore/documentReference/1.0",Ai._jsonSchema={type:ti("string",Ai._jsonSchemaVersion),referencePath:ti("string")};class io extends Xp{constructor(t,e,i){super(t,e,nN(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ai(this.firestore,null,new he(t))}withConverter(t){return new io(this.firestore,t,this._path)}}function VW(n,t,...e){if(n=Yh(n),FC("collection","path",t),n instanceof qp){const i=Sn.fromString(t,...e);return UA(i),new io(n,null,i)}{if(!(n instanceof Ai||n instanceof io))throw new re(Lt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Sn.fromString(t,...e));return UA(i),new io(n.firestore,null,i)}}function YN(n,t,...e){if(n=Yh(n),arguments.length===1&&(t=G_.newId()),FC("doc","path",t),n instanceof qp){const i=Sn.fromString(t,...e);return OA(i),new Ai(n,null,new he(i))}{if(!(n instanceof Ai||n instanceof io))throw new re(Lt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Sn.fromString(t,...e));return OA(i),new Ai(n.firestore,n instanceof io?n.converter:null,new he(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2="AsyncQueue";class T2{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new CN(this,"async_queue_retry"),this._c=()=>{const i=Zv();i&&$t(S2,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const e=Zv();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=Zv();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const e=new no;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!au(t))throw t;$t(S2,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const e=this.ac.then(()=>(this.rc=!0,t().catch(i=>{throw this.nc=i,this.rc=!1,ga("INTERNAL UNHANDLED ERROR: ",w2(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=e,e}enqueueAfterDelay(t,e,i){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const r=ub.createAndSchedule(this,t,e,i,o=>this.hc(o));return this.tc.push(r),r}uc(){this.nc&&xe(47125,{Pc:w2(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function w2(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class Yp extends qp{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new T2,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new T2(t),this._firestoreClient=void 0,await t}}}function FW(n,t){const e=typeof n=="object"?n:wH(),i=typeof n=="string"?n:op,r=_H(e,"firestore").getImmediate({identifier:i});if(!r._initialized){const o=c9("firestore");o&&UW(r,...o)}return r}function KN(n){if(n._terminated)throw new re(Lt.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||BW(n),n._firestoreClient}function BW(n){const t=n._freezeSettings(),e=function(r,o,l,u){return new i7(r,o,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,qN(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)}(n._databaseId,n._app?.options.appId||"",n._persistenceKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new DW(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&function(r){const o=r?._online.build();return{_offline:r?._offline.build(o),_online:o}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ds(Mi.fromBase64String(t))}catch(e){throw new re(Lt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Ds(Mi.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Ds._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(xd(t,Ds._jsonSchema))return Ds.fromBase64String(t.bytes)}}Ds._jsonSchemaVersion="firestore/bytes/1.0",Ds._jsonSchema={type:ti("string",Ds._jsonSchemaVersion),bytes:ti("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new re(Lt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wi(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new re(Lt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new re(Lt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return ze(this._lat,t._lat)||ze(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Tr._jsonSchemaVersion}}static fromJSON(t){if(xd(t,Tr._jsonSchema))return new Tr(t.latitude,t.longitude)}}Tr._jsonSchemaVersion="firestore/geoPoint/1.0",Tr._jsonSchema={type:ti("string",Tr._jsonSchemaVersion),latitude:ti("number"),longitude:ti("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,r){if(i.length!==r.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==r[o])return!1;return!0}(this._values,t._values)}toJSON(){return{type:wr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(xd(t,wr._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(e=>typeof e=="number"))return new wr(t.vectorValues);throw new re(Lt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}wr._jsonSchemaVersion="firestore/vectorValue/1.0",wr._jsonSchema={type:ti("string",wr._jsonSchemaVersion),vectorValues:ti("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kW=/^__.*__$/;class jW{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new gl(t,this.data,this.fieldMask,e,this.fieldTransforms):new _d(t,this.data,e,this.fieldTransforms)}}function QN(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe(40011,{Ac:n})}}class gb{constructor(t,e,i,r,o,l){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new gb({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const e=this.path?.child(t),i=this.Vc({path:e,fc:!1});return i.gc(t),i}yc(t){const e=this.path?.child(t),i=this.Vc({path:e,fc:!1});return i.Rc(),i}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return vp(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(QN(this.Ac)&&kW.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class zW{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||Hp(t)}Cc(t,e,i,r=!1){return new gb({Ac:t,methodName:e,Dc:i,path:wi.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function HW(n){const t=n._freezeSettings(),e=Hp(n._databaseId);return new zW(n._databaseId,!!t.ignoreUndefinedProperties,e)}function GW(n,t,e,i,r,o={}){const l=n.Cc(o.merge||o.mergeFields?2:0,t,e,r);e3("Data must be an object, but it was:",l,i);const u=JN(i,l);let d,f;if(o.merge)d=new Gs(l.fieldMask),f=l.fieldTransforms;else if(o.mergeFields){const g=[];for(const y of o.mergeFields){const x=WW(t,y,e);if(!l.contains(x))throw new re(Lt.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);XW(g,x)||g.push(x)}d=new Gs(g),f=l.fieldTransforms.filter(y=>d.covers(y.field))}else d=null,f=l.fieldTransforms;return new jW(new Ns(u),d,f)}function ZN(n,t){if(t3(n=Yh(n)))return e3("Unsupported field value:",t,n),JN(n,t);if(n instanceof $N)return function(i,r){if(!QN(r.Ac))throw r.Sc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return function(i,r){const o=[];let l=0;for(const u of i){let d=ZN(u,r.wc(l));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),l++}return{arrayValue:{values:o}}}(n,t)}return function(i,r){if((i=Yh(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return M7(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=Tn.fromDate(i);return{timestampValue:fp(r.serializer,o)}}if(i instanceof Tn){const o=new Tn(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:fp(r.serializer,o)}}if(i instanceof Tr)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Ds)return{bytesValue:yN(r.serializer,i._byteString)};if(i instanceof Ai){const o=r.databaseId,l=i.firestore._databaseId;if(!l.isEqual(o))throw r.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:eb(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof wr)return function(l,u){return{mapValue:{fields:{[XC]:{stringValue:YC},[lp]:{arrayValue:{values:l.toArray().map(f=>{if(typeof f!="number")throw u.Sc("VectorValues must only contain numeric values.");return Q_(u.serializer,f)})}}}}}}(i,r);throw r.Sc(`Unsupported field value: ${W_(i)}`)}(n,t)}function JN(n,t){const e={};return jC(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ml(n,(i,r)=>{const o=ZN(r,t.mc(i));o!=null&&(e[i]=o)}),{mapValue:{fields:e}}}function t3(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Tn||n instanceof Tr||n instanceof Ds||n instanceof Ai||n instanceof $N||n instanceof wr)}function e3(n,t,e){if(!t3(e)||!BC(e)){const i=W_(e);throw i==="an object"?t.Sc(n+" a custom object"):t.Sc(n+" "+i)}}function WW(n,t,e){if((t=Yh(t))instanceof pb)return t._internalPath;if(typeof t=="string")return n3(n,t);throw vp("Field path arguments must be of type string or ",n,!1,void 0,e)}const qW=new RegExp("[~\\*/\\[\\]]");function n3(n,t,e){if(t.search(qW)>=0)throw vp(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new pb(...t.split("."))._internalPath}catch{throw vp(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function vp(n,t,e,i,r){const o=i&&!i.isEmpty(),l=r!==void 0;let u=`Function ${t}() called with invalid data`;e&&(u+=" (via `toFirestore()`)"),u+=". ";let d="";return(o||l)&&(d+=" (found",o&&(d+=` in field ${i}`),l&&(d+=` in document ${r}`),d+=")"),new re(Lt.INVALID_ARGUMENT,u+n+d)}function XW(n,t){return n.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ai(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new YW(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(s3("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class YW extends i3{data(){return super.data()}}function s3(n,t){return typeof t=="string"?n3(n,t):t instanceof pb?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KW(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new re(Lt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $W{convertValue(t,e="none"){switch(ho(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Wn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(uo(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw xe(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return ml(t,(r,o)=>{i[r]=this.convertValue(o,e)}),i}convertVectorValue(t){const e=t.fields?.[lp].arrayValue?.values?.map(i=>Wn(i.doubleValue));return new wr(e)}convertGeoPoint(t){return new Tr(Wn(t.latitude),Wn(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=Up(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Jh(t));default:return null}}convertTimestamp(t){const e=co(t);return new Tn(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=Sn.fromString(t);un(TN(i),9688,{name:t});const r=new td(i.get(1),i.get(3)),o=new he(i.popFirst(5));return r.isEqual(e)||ga(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QW(n,t,e){let i;return i=n?n.toFirestore(t):t,i}class _m{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Lc extends i3{constructor(t,e,i,r,o,l){super(t,e,i,r,l),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new km(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(s3("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new re(Lt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=Lc._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}Lc._jsonSchemaVersion="firestore/documentSnapshot/1.0",Lc._jsonSchema={type:ti("string",Lc._jsonSchemaVersion),bundleSource:ti("string","DocumentSnapshot"),bundleName:ti("string"),bundle:ti("string")};class km extends Lc{data(t={}){return super.data(t)}}class Oc{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new _m(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new km(this._firestore,this._userDataWriter,i.key,i,new _m(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new re(Lt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(u=>{const d=new km(r._firestore,r._userDataWriter,u.doc.key,u.doc,new _m(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);return u.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}})}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(u=>o||u.type!==3).map(u=>{const d=new km(r._firestore,r._userDataWriter,u.doc.key,u.doc,new _m(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);let f=-1,g=-1;return u.type!==0&&(f=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),g=l.indexOf(u.doc.key)),{type:ZW(u.type),doc:d,oldIndex:f,newIndex:g}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new re(Lt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Oc._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=G_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],i=[],r=[];return this.docs.forEach(o=>{o._document!==null&&(e.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),r.push(o.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function ZW(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe(61501,{type:n})}}Oc._jsonSchemaVersion="firestore/querySnapshot/1.0",Oc._jsonSchema={type:ti("string",Oc._jsonSchemaVersion),bundleSource:ti("string","QuerySnapshot"),bundleName:ti("string"),bundle:ti("string")};class JW extends $W{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ds(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Ai(this.firestore,null,e)}}function tq(n){n=Qh(n,Xp);const t=Qh(n.firestore,Yp),e=KN(t),i=new JW(t);return KW(n._query),OW(e,n._query).then(r=>new Oc(t,i,n,r))}function eq(n){return r3(Qh(n.firestore,Yp),[new Z_(n._key,Er.none())])}function nq(n,t){const e=Qh(n.firestore,Yp),i=YN(n),r=QW(n.converter,t);return r3(e,[GW(HW(n.firestore),"addDoc",i._key,r,n.converter!==null,{}).toMutation(i._key,Er.exists(!1))]).then(()=>i)}function r3(n,t){return function(i,r){const o=new no;return i.asyncQueue.enqueueAndForget(async()=>bW(await PW(i),r,o)),o.promise}(KN(n),t)}(function(t,e=!0){(function(r){su=r})(TH),rp(new Kh("firestore",(i,{instanceIdentifier:r,options:o})=>{const l=i.getProvider("app").getImmediate(),u=new Yp(new FH(i.getProvider("auth-internal")),new jH(l,i.getProvider("app-check-internal")),function(f,g){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new re(Lt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new td(f.options.projectId,g)}(l,r),l);return o={useFetchStreams:e,...o},u._setSettings(o),u},"PUBLIC").setMultipleInstances(!0)),Ic(DA,IA,t),Ic(DA,IA,"esm2020")})();var iq="firebase",sq="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ic(iq,sq,"app");const vb={apiKey:"AIzaSyA10TScrcdo2nMe6w_OwDHLYaapE5FLSEI",authDomain:"falco-71008.firebaseapp.com",projectId:"falco-71008",storageBucket:"falco-71008.firebasestorage.app",messagingSenderId:"204128471051",appId:"1:204128471051:web:d135390acf492aa1b91f0e"};console.log("Initializing Firebase with config:",vb);const a3=MC(vb),sd=FW(a3);console.log("Firebase app initialized:",a3);console.log("Firestore db initialized:",sd);console.log("Project ID:",vb.projectId);sd._delegate?._databaseId&&console.log("Database ID:",sd._delegate._databaseId);const rq=()=>{const[n,t]=q.useState([]),[e,i]=q.useState(""),[r,o]=q.useState(""),[l,u]=q.useState(!1),[d,f]=q.useState(!1),g=VW(sd,"services"),y=async()=>{try{u(!0),console.log("Fetching services...");const T=await tq(g);console.log("Snapshot received:",T.size,"documents");const C=T.docs.map(S=>(console.log("Document:",S.id,S.data()),{id:S.id,...S.data()}));console.log("Services list:",C),t(C),o("")}catch(T){console.error("Error fetching services:",T),o(`Failed to fetch services: ${T.message}`)}finally{u(!1)}};q.useEffect(()=>{y()},[]);const x=async T=>{if(T.preventDefault(),!e.trim()){o("Service name required");return}try{f(!0),o(""),console.log("Adding service:",e.trim());const C=await nq(g,{name:e.trim(),createdAt:new Date().toISOString()});console.log("Service added with ID:",C.id),i(""),await y()}catch(C){console.error("Add error:",C),o(`Failed to add service: ${C.message}`)}finally{f(!1)}},E=async T=>{try{console.log("Removing service with ID:",T),await eq(YN(sd,"services",T)),console.log("Service removed successfully"),await y(),o("")}catch(C){console.error("Remove error:",C),o(`Failed to remove service: ${C.message}`)}};return m.jsxs("div",{className:"p-6 max-w-2xl mx-auto",children:[m.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Manage Services"}),m.jsxs("form",{onSubmit:x,className:"flex gap-2 mb-4",children:[m.jsx("input",{type:"text",value:e,onChange:T=>i(T.target.value),placeholder:"New Service",className:"border border-gray-300 p-2 rounded flex-1 focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:d}),m.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",disabled:d,children:d?"Adding...":"Add"})]}),r&&m.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:r}),l?m.jsx("div",{className:"text-center py-4",children:m.jsx("p",{className:"text-gray-600",children:"Loading services..."})}):m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"mb-4",children:m.jsxs("p",{className:"text-sm text-gray-600",children:["Total services: ",n.length]})}),m.jsx("ul",{className:"space-y-2",children:n.length===0?m.jsx("li",{className:"text-gray-500 text-center py-4",children:"No services found. Add your first service above."}):n.map(T=>m.jsxs("li",{className:"flex justify-between items-center bg-gray-100 p-3 rounded",children:[m.jsx("span",{className:"flex-1",children:T.name}),m.jsx("button",{onClick:()=>E(T.id),className:"text-red-500 text-sm hover:text-red-700 px-2 py-1 rounded hover:bg-red-100",children:"Remove"})]},T.id))})]}),m.jsxs("div",{className:"mt-8 p-4 bg-gray-50 rounded text-xs",children:[m.jsx("h3",{className:"font-semibold mb-2",children:"Debug Info:"}),m.jsxs("p",{children:["Services count: ",n.length]}),m.jsxs("p",{children:["Loading: ",l.toString()]}),m.jsxs("p",{children:["Submitting: ",d.toString()]}),m.jsxs("p",{children:['Current input: "',e,'"']})]})]})};function aq(n){return Ri({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(n)}function oq(n){return Ri({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(n)}function lq(n){return Ri({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(n)}function cq(n){return Ri({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(n)}const uq=()=>m.jsxs("div",{className:"min-h-screen flex flex-col bg-gradient-to-br from-blue-50 to-indigo-100",children:[m.jsx(fl,{}),m.jsx("main",{className:"flex-grow flex items-center justify-center px-4 py-12",children:m.jsxs("div",{className:"max-w-4xl w-full mx-auto",children:[m.jsxs(lt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center mb-8",children:[m.jsxs(lt.div,{className:"text-9xl font-bold text-indigo-600 mb-4 flex justify-center items-center",initial:{scale:.8},animate:{scale:1},transition:{duration:.5,delay:.2},children:[m.jsx("span",{className:"inline-block",children:"4"}),m.jsx(lt.span,{className:"inline-block mx-2 text-yellow-500",animate:{rotate:[0,10,-10,0]},transition:{repeat:1/0,duration:6},children:m.jsx(oq,{className:"inline-block text-7xl"})}),m.jsx("span",{className:"inline-block",children:"4"})]}),m.jsx(lt.h1,{className:"text-4xl md:text-5xl font-bold text-gray-800 mb-4",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.4},children:"Oops! Page Not Found"}),m.jsx(lt.p,{className:"text-xl text-gray-600 mb-8 max-w-2xl mx-auto",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.6},children:"The page you're looking for seems to have wandered off into the digital void. Don't worry, let's get you back on track."})]}),m.jsxs(lt.div,{className:"flex flex-col sm:flex-row justify-center gap-4 mb-12",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.8},children:[m.jsxs(bc,{to:"/",className:"flex items-center justify-center gap-2 bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-6 rounded-lg transition-colors duration-300 shadow-md hover:shadow-lg",children:[m.jsx(lq,{className:"text-lg"}),"Go Home"]}),m.jsxs("button",{onClick:()=>window.history.back(),className:"flex items-center justify-center gap-2 bg-white hover:bg-gray-100 text-gray-800 font-medium py-3 px-6 rounded-lg transition-colors duration-300 border border-gray-300 shadow-md hover:shadow-lg",children:[m.jsx(aq,{className:"text-lg"}),"Go Back"]}),m.jsxs(bc,{to:"/contact",className:"flex items-center justify-center gap-2 bg-emerald-600 hover:bg-emerald-700 text-white font-medium py-3 px-6 rounded-lg transition-colors duration-300 shadow-md hover:shadow-lg",children:[m.jsx(cq,{className:"text-lg"}),"Get Help"]})]}),m.jsxs(lt.div,{className:"bg-white rounded-xl p-6 shadow-lg max-w-2xl mx-auto",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:1},children:[m.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"While you're here..."}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[m.jsx("h3",{className:"font-medium text-blue-800 mb-2",children:"Check out our services"}),m.jsx("p",{className:"text-sm text-blue-600",children:"We offer web development, mobile apps, and more."}),m.jsx(bc,{to:"/services",className:"text-blue-600 hover:text-blue-800 text-sm font-medium inline-block mt-2",children:"Explore services →"})]}),m.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[m.jsx("h3",{className:"font-medium text-purple-800 mb-2",children:"Learn about us"}),m.jsx("p",{className:"text-sm text-purple-600",children:"Discover our story and what makes us different."}),m.jsx(bc,{to:"/about",className:"text-purple-600 hover:text-purple-800 text-sm font-medium inline-block mt-2",children:"About us →"})]})]})]})]})}),m.jsxs("div",{className:"hidden md:block",children:[m.jsx("div",{className:"absolute top-1/4 left-10 w-16 h-16 bg-indigo-200 rounded-full opacity-50 animate-bounce"}),m.jsx("div",{className:"absolute top-1/3 right-20 w-12 h-12 bg-yellow-200 rounded-full opacity-50 animate-pulse"}),m.jsx("div",{className:"absolute bottom-1/4 left-20 w-14 h-14 bg-blue-200 rounded-full opacity-50 animate-bounce delay-1000"}),m.jsx("div",{className:"absolute bottom-1/3 right-10 w-10 h-10 bg-purple-200 rounded-full opacity-50 animate-pulse delay-500"})]}),m.jsx(dl,{})]}),hq={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},As={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{duration:.5}}},dq=()=>{const n=new Date().toLocaleDateString("en-GB",{day:"numeric",month:"long",year:"numeric"});return m.jsxs(m.Fragment,{children:[m.jsx(fl,{}),m.jsx("div",{className:"py-20 min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50 px-4 sm:px-6 lg:px-8",children:m.jsxs(lt.div,{className:"  overflow-hidden p-6 md:p-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx(lt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},className:"relative"}),m.jsx(lt.h1,{className:"text-4xl font-bold text-gray-900 mb-2 bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2,duration:.5},children:"Privacy Policy"}),m.jsxs(lt.p,{className:"text-gray-500 italic",initial:{y:-10,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3,duration:.5},children:["Last Updated: ",n]})]}),m.jsxs(lt.div,{className:"prose prose-lg max-w-none",variants:hq,initial:"hidden",animate:"visible",children:[m.jsx(lt.p,{className:"text-gray-700 mb-6 leading-relaxed",variants:As,children:'At Falco Solutions ("we", "our", "us"), we respect your privacy and are committed to protecting your personal data. This Privacy Policy explains how we collect, use, and safeguard your information when you use our services, websites, or applications.'}),m.jsx(lt.div,{className:"text-gray-700 mb-8 bg-blue-50 p-4 rounded-lg border-l-4 border-blue-500 flex items-start",variants:As,children:m.jsx("div",{className:"pt-1",children:"We are registered in the United Kingdom, based in Birmingham, and comply with the UK General Data Protection Regulation (UK GDPR), the Data Protection Act 2018, and (where applicable) the EU GDPR."})}),m.jsxs(ur,{title:"1. Information We Collect",variants:As,children:[m.jsx("p",{className:"text-gray-700 mb-4",children:"We may collect the following types of data:"}),m.jsxs("ul",{className:"list-disc pl-5 mb-4 text-gray-700 space-y-2",children:[m.jsxs("li",{children:[m.jsx("span",{className:"font-medium text-blue-600",children:"Personal Information:"})," Name, email address, phone number, company details."]}),m.jsxs("li",{children:[m.jsx("span",{className:"font-medium text-blue-600",children:"Technical Data:"})," IP address, browser type, operating system, device information."]}),m.jsxs("li",{children:[m.jsx("span",{className:"font-medium text-blue-600",children:"Usage Data:"})," How you interact with our website, apps, or services (analytics, cookies)."]}),m.jsxs("li",{children:[m.jsx("span",{className:"font-medium text-blue-600",children:"Project/Client Data:"})," Information you provide for app development, data science, ML, or blockchain projects."]})]})]}),m.jsxs(ur,{title:"2. How We Use Your Data",variants:As,children:[m.jsx("p",{className:"text-gray-700 mb-4",children:"We process your data for the following purposes:"}),m.jsxs("ul",{className:"list-disc pl-5 mb-4 text-gray-700 space-y-2",children:[m.jsx("li",{children:"To deliver and maintain our services (SaaS, app/web development, data science, ML, blockchain)."}),m.jsx("li",{children:"To communicate with you about projects, updates, or support."}),m.jsx("li",{children:"To improve our website, applications, and services."}),m.jsx("li",{children:"To provide SEO/ASO insights and analytics."}),m.jsx("li",{children:"For marketing purposes (only with your consent)."}),m.jsx("li",{children:"To comply with legal obligations."})]})]}),m.jsxs(ur,{title:"3. Legal Basis for Processing",variants:As,children:[m.jsx("p",{className:"text-gray-700 mb-4",children:"We rely on the following lawful bases under UK GDPR:"}),m.jsxs("ul",{className:"list-disc pl-5 mb-4 text-gray-700 space-y-2",children:[m.jsxs("li",{children:[m.jsx("span",{className:"font-medium text-blue-600",children:"Consent"})," – when you opt-in to cookies, newsletters, or marketing."]}),m.jsxs("li",{children:[m.jsx("span",{className:"font-medium text-blue-600",children:"Contract"})," – to provide services you request."]}),m.jsxs("li",{children:[m.jsx("span",{className:"font-medium text-blue-600",children:"Legitimate Interests"})," – to improve our services, prevent fraud, and ensure security."]}),m.jsxs("li",{children:[m.jsx("span",{className:"font-medium text-blue-600",children:"Legal Obligation"})," – where required by law."]})]})]}),m.jsxs(ur,{title:"4. Cookies & Tracking",variants:As,children:[m.jsx("p",{className:"text-gray-700 mb-4",children:"Our website uses cookies and similar technologies to:"}),m.jsxs("ul",{className:"list-disc pl-5 mb-4 text-gray-700 space-y-2",children:[m.jsx("li",{children:"Analyse site traffic and improve user experience."}),m.jsx("li",{children:"Support SEO/ASO insights and analytics."})]}),m.jsx("p",{className:"text-gray-700",children:"You can manage your cookie preferences via your browser settings. For more details, please see our Cookie Policy."})]}),m.jsxs(ur,{title:"5. Sharing Your Data",variants:As,children:[m.jsx("p",{className:"text-gray-700 mb-4",children:"We do not sell your personal data. We may share information with:"}),m.jsxs("ul",{className:"list-disc pl-5 mb-4 text-gray-700 space-y-2",children:[m.jsx("li",{children:"Service providers (e.g., hosting, analytics, cloud services)."}),m.jsx("li",{children:"Project partners where necessary to deliver services."}),m.jsx("li",{children:"Regulators or legal authorities, if required by law."})]}),m.jsx("p",{className:"text-gray-700",children:"If we transfer data outside the UK/EU, we ensure safeguards (such as Standard Contractual Clauses) are in place."})]}),m.jsxs(ur,{title:"6. Data Retention",variants:As,children:[m.jsx("p",{className:"text-gray-700 mb-4",children:"We only keep your data as long as necessary for:"}),m.jsxs("ul",{className:"list-disc pl-5 mb-4 text-gray-700 space-y-2",children:[m.jsx("li",{children:"Active projects and service delivery."}),m.jsx("li",{children:"Legal and accounting obligations."}),m.jsx("li",{children:"Marketing (until you unsubscribe)."})]}),m.jsx("p",{className:"text-gray-700",children:"After this, data is securely deleted or anonymised."})]}),m.jsxs(ur,{title:"7. Your Rights (UK & EU GDPR)",variants:As,children:[m.jsx("p",{className:"text-gray-700 mb-4",children:"You have the right to:"}),m.jsxs("ul",{className:"list-disc pl-5 mb-4 text-gray-700 space-y-2",children:[m.jsx("li",{children:"Request access to your data."}),m.jsx("li",{children:"Request correction of inaccurate data."}),m.jsx("li",{children:'Request deletion of your data ("right to be forgotten").'}),m.jsx("li",{children:"Restrict or object to processing."}),m.jsx("li",{children:"Request a copy of your data (data portability)."}),m.jsx("li",{children:"Withdraw consent at any time (for marketing/cookies)."})]}),m.jsx("p",{className:"text-gray-700",children:"To exercise your rights, contact us at admin@falcosolutions.co.uk."})]}),m.jsxs(ur,{title:"8. Data Security",variants:As,children:[m.jsx("p",{className:"text-gray-700 mb-4",children:"We use appropriate technical and organisational measures to protect your data, including:"}),m.jsxs("ul",{className:"list-disc pl-5 mb-4 text-gray-700 space-y-2",children:[m.jsx("li",{children:"Encryption of sensitive information."}),m.jsx("li",{children:"Secure servers and access controls."}),m.jsx("li",{children:"Regular monitoring and audits."})]})]}),m.jsx(ur,{title:"9. Children's Privacy",variants:As,children:m.jsx("p",{className:"text-gray-700",children:"Our services are not directed at children under 16. We do not knowingly collect data from children."})}),m.jsxs(ur,{title:"10. Contact Us",variants:As,children:[m.jsx("p",{className:"text-gray-700 mb-4",children:"If you have any questions about this Privacy Policy or wish to exercise your rights, please contact us at:"}),m.jsxs(lt.div,{className:"bg-gray-50 p-6 rounded-lg border border-gray-200 shadow-sm",whileHover:{scale:1.01},transition:{type:"spring",stiffness:400,damping:10},children:[m.jsx("p",{className:"text-gray-700 font-medium text-lg",children:"Falco Solutions"}),m.jsx("p",{className:"text-gray-700",children:"Birmingham, United Kingdom"}),m.jsx("p",{className:"text-blue-600 font-medium",children:"Email: admin@falcosolutions.co.uk"})]})]})]})]})}),m.jsx(dl,{})]})},ur=({title:n,children:t,variants:e})=>m.jsxs(lt.div,{className:"mb-10 pb-6 border-b border-gray-100 last:border-b-0",variants:e,children:[m.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center",children:n}),t]});var Ux=new Map,bm=new WeakMap,A2=0,fq=void 0;function mq(n){return n?(bm.has(n)||(A2+=1,bm.set(n,A2.toString())),bm.get(n)):"0"}function pq(n){return Object.keys(n).sort().filter(t=>n[t]!==void 0).map(t=>`${t}_${t==="root"?mq(n.root):n[t]}`).toString()}function gq(n){const t=pq(n);let e=Ux.get(t);if(!e){const i=new Map;let r;const o=new IntersectionObserver(l=>{l.forEach(u=>{var d;const f=u.isIntersecting&&r.some(g=>u.intersectionRatio>=g);n.trackVisibility&&typeof u.isVisible>"u"&&(u.isVisible=f),(d=i.get(u.target))==null||d.forEach(g=>{g(f,u)})})},n);r=o.thresholds||(Array.isArray(n.threshold)?n.threshold:[n.threshold||0]),e={id:t,observer:o,elements:i},Ux.set(t,e)}return e}function vq(n,t,e={},i=fq){if(typeof window.IntersectionObserver>"u"&&i!==void 0){const d=n.getBoundingClientRect();return t(i,{isIntersecting:i,target:n,intersectionRatio:typeof e.threshold=="number"?e.threshold:0,time:0,boundingClientRect:d,intersectionRect:d,rootBounds:d}),()=>{}}const{id:r,observer:o,elements:l}=gq(e),u=l.get(n)||[];return l.has(n)||l.set(n,u),u.push(t),o.observe(n),function(){u.splice(u.indexOf(t),1),u.length===0&&(l.delete(n),o.unobserve(n)),l.size===0&&(o.disconnect(),Ux.delete(r))}}function o3({threshold:n,delay:t,trackVisibility:e,rootMargin:i,root:r,triggerOnce:o,skip:l,initialInView:u,fallbackInView:d,onChange:f}={}){var g;const[y,x]=q.useState(null),E=q.useRef(f),[T,C]=q.useState({inView:!!u,entry:void 0});E.current=f,q.useEffect(()=>{if(l||!y)return;let N;return N=vq(y,(U,j)=>{C({inView:U,entry:j}),E.current&&E.current(U,j),j.isIntersecting&&o&&N&&(N(),N=void 0)},{root:r,rootMargin:i,threshold:n,trackVisibility:e,delay:t},d),()=>{N&&N()}},[Array.isArray(n)?n.toString():n,y,r,i,o,l,e,d,t]);const S=(g=T.entry)==null?void 0:g.target,b=q.useRef(void 0);!y&&S&&!o&&!l&&b.current!==S&&(b.current=S,C({inView:!!u,entry:void 0}));const O=[x,T.inView,T.entry];return O.ref=O[0],O.inView=O[1],O.entry=O[2],O}const yq=()=>{const n=EV(),[t,e]=o3({triggerOnce:!0,threshold:.1});q.useEffect(()=>{e&&n.start("visible")},[n,e]);const i={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},r={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{duration:.5,ease:"easeOut"}}};return m.jsxs(m.Fragment,{children:[m.jsx(fl,{}),m.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50 py-20 px-4 sm:px-6 lg:px-8",children:[m.jsx("div",{className:"absolute top-20 left-10 w-24 h-24 bg-blue-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob"}),m.jsx("div",{className:"absolute top-40 right-10 w-24 h-24 bg-purple-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob animation-delay-2000"}),m.jsx("div",{className:"absolute bottom-40 left-20 w-24 h-24 bg-indigo-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob animation-delay-4000"}),m.jsxs("div",{className:"relative ",children:[m.jsxs(lt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:" overflow-hidden mb-8 flex flex-col md:flex-row",children:[m.jsxs("div",{className:"md:w-2/3 p-8",children:[m.jsx(lt.h1,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5,delay:.2},className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent mb-2",children:"Terms of Service"}),m.jsxs(lt.p,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.4},className:"text-gray-500 italic mb-4",children:["Last Updated: ",new Date().toLocaleDateString("en-GB",{day:"numeric",month:"long",year:"numeric"})]}),m.jsx("p",{className:"text-gray-700",children:"Welcome to Falco Solutions. These Terms of Service govern your use of our website, applications, and services. Please read them carefully before using our services."})]}),m.jsxs("div",{className:"md:w-1/3 hidden md:block relative",children:[m.jsx("img",{src:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=774&q=80",alt:"Professional business team",className:"absolute inset-0 w-full h-full object-cover"}),m.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white to-transparent md:bg-gradient-to-l"})]})]}),m.jsxs(lt.div,{ref:t,variants:i,initial:"hidden",animate:n,className:" overflow-hidden ",children:[m.jsx(hr,{title:"1. Acceptance of Terms",variants:r,icon:"📋",children:m.jsx("p",{className:"text-gray-700",children:"By accessing or using our services, you agree to be bound by these Terms of Service and our Privacy Policy. If you do not agree to these terms, please do not use our services."})}),m.jsxs(hr,{title:"2. Services Provided",variants:r,icon:"🚀",children:[m.jsx("p",{className:"text-gray-700 mb-4",children:"Falco Solutions provides the following services:"}),m.jsxs("ul",{className:"list-disc pl-5 mb-4 text-gray-700 space-y-2",children:[m.jsxs("li",{className:"flex items-start",children:[m.jsx("span",{className:"mr-2",children:"•"}),m.jsx("span",{children:"SaaS solutions"})]}),m.jsxs("li",{className:"flex items-start",children:[m.jsx("span",{className:"mr-2",children:"•"}),m.jsx("span",{children:"App and web development"})]}),m.jsxs("li",{className:"flex items-start",children:[m.jsx("span",{className:"mr-2",children:"•"}),m.jsx("span",{children:"Data science and machine learning services"})]}),m.jsxs("li",{className:"flex items-start",children:[m.jsx("span",{className:"mr-2",children:"•"}),m.jsx("span",{children:"Blockchain development"})]}),m.jsxs("li",{className:"flex items-start",children:[m.jsx("span",{className:"mr-2",children:"•"}),m.jsx("span",{children:"SEO/ASO insights and analytics"})]})]}),m.jsx("p",{className:"text-gray-700",children:"All services are subject to these Terms and any additional agreements specific to each project."})]}),m.jsxs(hr,{title:"3. User Responsibilities",variants:r,icon:"👤",children:[m.jsx("p",{className:"text-gray-700 mb-4",children:"When using our services, you agree to:"}),m.jsxs("ul",{className:"list-disc pl-5 mb-4 text-gray-700 space-y-2",children:[m.jsxs("li",{className:"flex items-start",children:[m.jsx("span",{className:"mr-2",children:"•"}),m.jsx("span",{children:"Provide accurate information when registering or requesting services"})]}),m.jsxs("li",{className:"flex items-start",children:[m.jsx("span",{className:"mr-2",children:"•"}),m.jsx("span",{children:"Maintain the confidentiality of your account credentials"})]}),m.jsxs("li",{className:"flex items-start",children:[m.jsx("span",{className:"mr-2",children:"•"}),m.jsx("span",{children:"Use our services in compliance with all applicable laws"})]}),m.jsxs("li",{className:"flex items-start",children:[m.jsx("span",{className:"mr-2",children:"•"}),m.jsx("span",{children:"Not engage in any activity that disrupts or interferes with our services"})]})]})]}),m.jsxs(hr,{title:"4. Intellectual Property",variants:r,icon:"🔒",children:[m.jsx("p",{className:"text-gray-700 mb-4",children:"All intellectual property rights in our services, including software, designs, and content, remain the property of Falco Solutions or our licensors. You may not copy, modify, or distribute our content without explicit permission."}),m.jsx("p",{className:"text-gray-700",children:"For custom development projects, intellectual property arrangements will be specified in separate agreements."})]}),m.jsxs(hr,{title:"5. Payment Terms",variants:r,icon:"💳",children:[m.jsx("p",{className:"text-gray-700 mb-4",children:"For paid services, payment terms will be outlined in individual service agreements. Generally, we require:"}),m.jsxs("ul",{className:"list-disc pl-5 mb-4 text-gray-700 space-y-2",children:[m.jsxs("li",{className:"flex items-start",children:[m.jsx("span",{className:"mr-2",children:"•"}),m.jsx("span",{children:"An initial deposit for project-based work"})]}),m.jsxs("li",{className:"flex items-start",children:[m.jsx("span",{className:"mr-2",children:"•"}),m.jsx("span",{children:"Regular invoicing according to project milestones"})]}),m.jsxs("li",{className:"flex items-start",children:[m.jsx("span",{className:"mr-2",children:"•"}),m.jsx("span",{children:"Payment within 30 days of invoice date unless otherwise specified"})]})]})]}),m.jsx(hr,{title:"6. Limitation of Liability",variants:r,icon:"⚠️",children:m.jsx("p",{className:"text-gray-700",children:"Falco Solutions shall not be liable for any indirect, incidental, special, or consequential damages resulting from the use or inability to use our services. Our total liability for any claim shall not exceed the amount paid by you for the services in question."})}),m.jsx(hr,{title:"7. Termination",variants:r,icon:"🔚",children:m.jsx("p",{className:"text-gray-700",children:"We reserve the right to suspend or terminate your access to our services at our discretion, without notice, for conduct that we believe violates these Terms or is harmful to other users, us, or third parties, or for any other reason."})}),m.jsx(hr,{title:"8. Changes to Terms",variants:r,icon:"🔄",children:m.jsx("p",{className:"text-gray-700",children:'We may modify these Terms of Service at any time. We will provide notice of significant changes by posting the new Terms on our website and updating the "Last Updated" date. Your continued use of our services after changes constitutes acceptance of the new Terms.'})}),m.jsx(hr,{title:"9. Governing Law",variants:r,icon:"⚖️",children:m.jsx("p",{className:"text-gray-700",children:"These Terms shall be governed by and construed in accordance with the laws of England and Wales. Any disputes relating to these Terms will be subject to the exclusive jurisdiction of the courts of England and Wales."})}),m.jsxs(hr,{title:"10. Contact Information",variants:r,icon:"📞",children:[m.jsx("p",{className:"text-gray-700 mb-4",children:"For questions about these Terms of Service, please contact us at:"}),m.jsxs(lt.div,{whileHover:{scale:1.02},className:"bg-blue-50 p-6 rounded-lg border-l-4 border-blue-500 shadow-sm",children:[m.jsxs("div",{className:"flex items-start mb-4",children:[m.jsx("div",{className:"bg-blue-100 p-3 rounded-full mr-4",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-gray-700 font-medium",children:"Falco Solutions"}),m.jsx("p",{className:"text-gray-600",children:"Birmingham, United Kingdom"}),m.jsx("p",{className:"text-blue-600",children:"Email: admin@falcosolutions.co.uk"})]})]}),m.jsx("div",{className:"flex justify-center mt-4",children:m.jsx("img",{src:"https://images.unsplash.com/photo-1593642632823-8f785ba67e45?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80",alt:"Office location",className:"w-full h-32 object-cover rounded-lg"})})]})]})]})]})]}),m.jsx(dl,{})]})},hr=({title:n,children:t,variants:e,icon:i})=>{const[r,o]=o3({triggerOnce:!0,threshold:.1});return m.jsxs(lt.div,{ref:r,variants:e,initial:"hidden",animate:o?"visible":"hidden",whileHover:{x:5},className:"mb-8 p-6 rounded-lg Privacy transition-colors duration-200 border-b border-gray-100 last:border-b-0",children:[m.jsxs("div",{className:"flex items-start mb-3",children:[m.jsx("span",{className:"text-2xl mr-3",children:i}),m.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:n})]}),t]})};function xq(){return m.jsx(VP,{children:m.jsx(iP,{children:m.jsxs(PI,{children:[m.jsx(dr,{path:"/",element:m.jsx(f5,{})}),m.jsx(dr,{path:"/services",element:m.jsx(H8,{})}),m.jsx(dr,{path:"/about",element:m.jsx($8,{})}),m.jsx(dr,{path:"/contact",element:m.jsx(Z8,{})}),m.jsx(dr,{path:"/privacy-policy",element:m.jsx(dq,{})}),m.jsx(dr,{path:"/terms-and-service",element:m.jsx(yq,{})}),m.jsx(dr,{path:"/admin",element:m.jsx(rq,{})}),m.jsx(dr,{path:"/home",element:m.jsx(DI,{to:"/",replace:!0})}),m.jsx(dr,{path:"*",element:m.jsx(uq,{})})]})})})}jD.createRoot(document.getElementById("root")).render(m.jsx(q.StrictMode,{children:m.jsx(xq,{})}));
